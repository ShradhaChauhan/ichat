(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function uw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Od={exports:{}},ja={},Md={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function cw(){if(Mg)return Ne;Mg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.iterator;function T(b){return b===null||typeof b!="object"?null:(b=I&&b[I]||b["@@iterator"],typeof b=="function"?b:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function x(b,$,ae){this.props=b,this.context=$,this.refs=M,this.updater=ae||P}x.prototype.isReactComponent={},x.prototype.setState=function(b,$){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,$,"setState")},x.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function U(){}U.prototype=x.prototype;function W(b,$,ae){this.props=b,this.context=$,this.refs=M,this.updater=ae||P}var G=W.prototype=new U;G.constructor=W,D(G,x.prototype),G.isPureReactComponent=!0;var ee=Array.isArray,fe=Object.prototype.hasOwnProperty,pe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function A(b,$,ae){var Ee,we={},Re=null,De=null;if($!=null)for(Ee in $.ref!==void 0&&(De=$.ref),$.key!==void 0&&(Re=""+$.key),$)fe.call($,Ee)&&!N.hasOwnProperty(Ee)&&(we[Ee]=$[Ee]);var Fe=arguments.length-2;if(Fe===1)we.children=ae;else if(1<Fe){for(var Ke=Array(Fe),Tt=0;Tt<Fe;Tt++)Ke[Tt]=arguments[Tt+2];we.children=Ke}if(b&&b.defaultProps)for(Ee in Fe=b.defaultProps,Fe)we[Ee]===void 0&&(we[Ee]=Fe[Ee]);return{$$typeof:n,type:b,key:Re,ref:De,props:we,_owner:pe.current}}function S(b,$){return{$$typeof:n,type:b.type,key:$,ref:b.ref,props:b.props,_owner:b._owner}}function k(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function L(b){var $={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(ae){return $[ae]})}var F=/\/+/g;function R(b,$){return typeof b=="object"&&b!==null&&b.key!=null?L(""+b.key):$.toString(36)}function Be(b,$,ae,Ee,we){var Re=typeof b;(Re==="undefined"||Re==="boolean")&&(b=null);var De=!1;if(b===null)De=!0;else switch(Re){case"string":case"number":De=!0;break;case"object":switch(b.$$typeof){case n:case e:De=!0}}if(De)return De=b,we=we(De),b=Ee===""?"."+R(De,0):Ee,ee(we)?(ae="",b!=null&&(ae=b.replace(F,"$&/")+"/"),Be(we,$,ae,"",function(Tt){return Tt})):we!=null&&(k(we)&&(we=S(we,ae+(!we.key||De&&De.key===we.key?"":(""+we.key).replace(F,"$&/")+"/")+b)),$.push(we)),1;if(De=0,Ee=Ee===""?".":Ee+":",ee(b))for(var Fe=0;Fe<b.length;Fe++){Re=b[Fe];var Ke=Ee+R(Re,Fe);De+=Be(Re,$,ae,Ke,we)}else if(Ke=T(b),typeof Ke=="function")for(b=Ke.call(b),Fe=0;!(Re=b.next()).done;)Re=Re.value,Ke=Ee+R(Re,Fe++),De+=Be(Re,$,ae,Ke,we);else if(Re==="object")throw $=String(b),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return De}function et(b,$,ae){if(b==null)return b;var Ee=[],we=0;return Be(b,Ee,"","",function(Re){return $.call(ae,Re,we++)}),Ee}function ot(b){if(b._status===-1){var $=b._result;$=$(),$.then(function(ae){(b._status===0||b._status===-1)&&(b._status=1,b._result=ae)},function(ae){(b._status===0||b._status===-1)&&(b._status=2,b._result=ae)}),b._status===-1&&(b._status=0,b._result=$)}if(b._status===1)return b._result.default;throw b._result}var ke={current:null},re={transition:null},me={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:pe};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:et,forEach:function(b,$,ae){et(b,function(){$.apply(this,arguments)},ae)},count:function(b){var $=0;return et(b,function(){$++}),$},toArray:function(b){return et(b,function($){return $})||[]},only:function(b){if(!k(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},Ne.Component=x,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=W,Ne.StrictMode=i,Ne.Suspense=p,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Ne.act=se,Ne.cloneElement=function(b,$,ae){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var Ee=D({},b.props),we=b.key,Re=b.ref,De=b._owner;if($!=null){if($.ref!==void 0&&(Re=$.ref,De=pe.current),$.key!==void 0&&(we=""+$.key),b.type&&b.type.defaultProps)var Fe=b.type.defaultProps;for(Ke in $)fe.call($,Ke)&&!N.hasOwnProperty(Ke)&&(Ee[Ke]=$[Ke]===void 0&&Fe!==void 0?Fe[Ke]:$[Ke])}var Ke=arguments.length-2;if(Ke===1)Ee.children=ae;else if(1<Ke){Fe=Array(Ke);for(var Tt=0;Tt<Ke;Tt++)Fe[Tt]=arguments[Tt+2];Ee.children=Fe}return{$$typeof:n,type:b.type,key:we,ref:Re,props:Ee,_owner:De}},Ne.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:l,_context:b},b.Consumer=b},Ne.createElement=A,Ne.createFactory=function(b){var $=A.bind(null,b);return $.type=b,$},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(b){return{$$typeof:f,render:b}},Ne.isValidElement=k,Ne.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:ot}},Ne.memo=function(b,$){return{$$typeof:y,type:b,compare:$===void 0?null:$}},Ne.startTransition=function(b){var $=re.transition;re.transition={};try{b()}finally{re.transition=$}},Ne.unstable_act=se,Ne.useCallback=function(b,$){return ke.current.useCallback(b,$)},Ne.useContext=function(b){return ke.current.useContext(b)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(b){return ke.current.useDeferredValue(b)},Ne.useEffect=function(b,$){return ke.current.useEffect(b,$)},Ne.useId=function(){return ke.current.useId()},Ne.useImperativeHandle=function(b,$,ae){return ke.current.useImperativeHandle(b,$,ae)},Ne.useInsertionEffect=function(b,$){return ke.current.useInsertionEffect(b,$)},Ne.useLayoutEffect=function(b,$){return ke.current.useLayoutEffect(b,$)},Ne.useMemo=function(b,$){return ke.current.useMemo(b,$)},Ne.useReducer=function(b,$,ae){return ke.current.useReducer(b,$,ae)},Ne.useRef=function(b){return ke.current.useRef(b)},Ne.useState=function(b){return ke.current.useState(b)},Ne.useSyncExternalStore=function(b,$,ae){return ke.current.useSyncExternalStore(b,$,ae)},Ne.useTransition=function(){return ke.current.useTransition()},Ne.version="18.3.1",Ne}var bg;function Df(){return bg||(bg=1,Md.exports=cw()),Md.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function hw(){if(Fg)return ja;Fg=1;var n=Df(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var _,I={},T=null,P=null;y!==void 0&&(T=""+y),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(P=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(I[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)I[_]===void 0&&(I[_]=p[_]);return{$$typeof:e,type:f,key:T,ref:P,props:I,_owner:o.current}}return ja.Fragment=t,ja.jsx=h,ja.jsxs=h,ja}var Ug;function dw(){return Ug||(Ug=1,Od.exports=hw()),Od.exports}var X=dw(),Hu={},bd={exports:{}},sn={},Fd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function fw(){return jg||(jg=1,function(n){function e(re,me){var se=re.length;re.push(me);e:for(;0<se;){var b=se-1>>>1,$=re[b];if(0<o($,me))re[b]=me,re[se]=$,se=b;else break e}}function t(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var me=re[0],se=re.pop();if(se!==me){re[0]=se;e:for(var b=0,$=re.length,ae=$>>>1;b<ae;){var Ee=2*(b+1)-1,we=re[Ee],Re=Ee+1,De=re[Re];if(0>o(we,se))Re<$&&0>o(De,we)?(re[b]=De,re[Re]=se,b=Re):(re[b]=we,re[Ee]=se,b=Ee);else if(Re<$&&0>o(De,se))re[b]=De,re[Re]=se,b=Re;else break e}}return me}function o(re,me){var se=re.sortIndex-me.sortIndex;return se!==0?se:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],_=1,I=null,T=3,P=!1,D=!1,M=!1,x=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(re){for(var me=t(y);me!==null;){if(me.callback===null)i(y);else if(me.startTime<=re)i(y),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(y)}}function ee(re){if(M=!1,G(re),!D)if(t(p)!==null)D=!0,ot(fe);else{var me=t(y);me!==null&&ke(ee,me.startTime-re)}}function fe(re,me){D=!1,M&&(M=!1,U(A),A=-1),P=!0;var se=T;try{for(G(me),I=t(p);I!==null&&(!(I.expirationTime>me)||re&&!L());){var b=I.callback;if(typeof b=="function"){I.callback=null,T=I.priorityLevel;var $=b(I.expirationTime<=me);me=n.unstable_now(),typeof $=="function"?I.callback=$:I===t(p)&&i(p),G(me)}else i(p);I=t(p)}if(I!==null)var ae=!0;else{var Ee=t(y);Ee!==null&&ke(ee,Ee.startTime-me),ae=!1}return ae}finally{I=null,T=se,P=!1}}var pe=!1,N=null,A=-1,S=5,k=-1;function L(){return!(n.unstable_now()-k<S)}function F(){if(N!==null){var re=n.unstable_now();k=re;var me=!0;try{me=N(!0,re)}finally{me?R():(pe=!1,N=null)}}else pe=!1}var R;if(typeof W=="function")R=function(){W(F)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,et=Be.port2;Be.port1.onmessage=F,R=function(){et.postMessage(null)}}else R=function(){x(F,0)};function ot(re){N=re,pe||(pe=!0,R())}function ke(re,me){A=x(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){D||P||(D=!0,ot(fe))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var se=T;T=me;try{return re()}finally{T=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var se=T;T=re;try{return me()}finally{T=se}},n.unstable_scheduleCallback=function(re,me,se){var b=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?b+se:b):se=b,re){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=se+$,re={id:_++,callback:me,priorityLevel:re,startTime:se,expirationTime:$,sortIndex:-1},se>b?(re.sortIndex=se,e(y,re),t(p)===null&&re===t(y)&&(M?(U(A),A=-1):M=!0,ke(ee,se-b))):(re.sortIndex=$,e(p,re),D||P||(D=!0,ot(fe))),re},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(re){var me=T;return function(){var se=T;T=me;try{return re.apply(this,arguments)}finally{T=se}}}}(Ud)),Ud}var Bg;function pw(){return Bg||(Bg=1,Fd.exports=fw()),Fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function mw(){if(zg)return sn;zg=1;var n=Df(),e=pw();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){h(r,s),h(r+"Capture",s)}function h(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},I={};function T(r){return p.call(I,r)?!0:p.call(_,r)?!1:y.test(r)?I[r]=!0:(_[r]=!0,!1)}function P(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,s,a,c){if(s===null||typeof s>"u"||P(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,a,c,d,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];x[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function W(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(U,W);x[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(U,W);x[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(U,W);x[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,c){var d=x.hasOwnProperty(s)?x[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(D(s,a,d,c)&&(a=null),c||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var ee=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),pe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,b;function $(r){if(b===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);b=s&&s[1]||""}return`
`+b+r}var ae=!1;function Ee(r,s){if(!r||ae)return"";ae=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var c=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){c=H}r.call(s.prototype)}else{try{throw Error()}catch(H){c=H}r()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),g=c.stack.split(`
`),E=d.length-1,C=g.length-1;1<=E&&0<=C&&d[E]!==g[C];)C--;for(;1<=E&&0<=C;E--,C--)if(d[E]!==g[C]){if(E!==1||C!==1)do if(E--,C--,0>C||d[E]!==g[C]){var V=`
`+d[E].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=E&&0<=C);break}}}finally{ae=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?$(r):""}function we(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Re(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case pe:return"Portal";case S:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case Be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case L:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case et:return s=r.displayName||null,s!==null?s:Re(r.type)||"Memo";case ot:s=r._payload,r=r._init;try{return Re(r(s))}catch{}}return null}function De(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ke(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tt(r){var s=Ke(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function dr(r){r._valueTracker||(r._valueTracker=Tt(r))}function Cs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Ke(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Hr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function bi(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Rs(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Fe(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ko(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function Go(r,s){Ko(r,s);var a=Fe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ps(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ps(r,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Nl(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ps(r,s,a){(s!=="number"||Hr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var fr=Array.isArray;function pr(r,s,a,c){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Fe(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function $o(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ks(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(fr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Fe(a)}}function Ns(r,s){var a=Fe(s.value),c=Fe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Qo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mr,Yo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(r){Ui.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Fi[s]=Fi[r]})});function Jo(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Fi.hasOwnProperty(r)&&Fi[r]?(""+s).trim():s+"px"}function Xo(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Jo(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var Zo=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ea(r,s){if(s){if(Zo[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ta(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=null;function Ds(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xs=null,yn=null,Kn=null;function Vs(r){if(r=Sa(r)){if(typeof xs!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ou(s),xs(r.stateNode,r.type,s))}}function Gn(r){yn?Kn?Kn.push(r):Kn=[r]:yn=r}function na(){if(yn){var r=yn,s=Kn;if(Kn=yn=null,Vs(r),s)for(r=0;r<s.length;r++)Vs(s[r])}}function Bi(r,s){return r(s)}function ra(){}var gr=!1;function ia(r,s,a){if(gr)return r(s,a);gr=!0;try{return Bi(r,s,a)}finally{gr=!1,(yn!==null||Kn!==null)&&(ra(),na())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var c=ou(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ls=!1;if(f)try{var Pn={};Object.defineProperty(Pn,"passive",{get:function(){Ls=!0}}),window.addEventListener("test",Pn,Pn),window.removeEventListener("test",Pn,Pn)}catch{Ls=!1}function zi(r,s,a,c,d,g,E,C,V){var H=Array.prototype.slice.call(arguments,3);try{s.apply(a,H)}catch(Z){this.onError(Z)}}var qi=!1,Os=null,kn=!1,sa=null,uh={onError:function(r){qi=!0,Os=r}};function Ms(r,s,a,c,d,g,E,C,V){qi=!1,Os=null,zi.apply(uh,arguments)}function Dl(r,s,a,c,d,g,E,C,V){if(Ms.apply(this,arguments),qi){if(qi){var H=Os;qi=!1,Os=null}else throw Error(t(198));kn||(kn=!0,sa=H)}}function Nn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Wi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Dn(r){if(Nn(r)!==r)throw Error(t(188))}function xl(r){var s=r.alternate;if(!s){if(s=Nn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Dn(d),r;if(g===c)return Dn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var E=!1,C=d.child;C;){if(C===a){E=!0,a=d,c=g;break}if(C===c){E=!0,c=d,a=g;break}C=C.sibling}if(!E){for(C=g.child;C;){if(C===a){E=!0,a=g,c=d;break}if(C===c){E=!0,c=g,a=d;break}C=C.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function oa(r){return r=xl(r),r!==null?bs(r):null}function bs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=bs(r);if(s!==null)return s;r=r.sibling}return null}var Fs=e.unstable_scheduleCallback,aa=e.unstable_cancelCallback,Vl=e.unstable_shouldYield,ch=e.unstable_requestPaint,Ge=e.unstable_now,Ll=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Gr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,la=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,Ki=null,ln=null;function Ml(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ki,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Fl,ua=Math.log,bl=Math.LN2;function Fl(r){return r>>>=0,r===0?32:31-(ua(r)/bl|0)|0}var Us=64,js=4194304;function $r(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var C=E&~d;C!==0?c=$r(C):(g&=E,g!==0&&(c=$r(g)))}else E=a&~d,E!==0?c=$r(E):g!==0&&(c=$r(g));if(c===0)return 0;if(s!==0&&s!==c&&!(s&d)&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if(c&4&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Kt(s),d=1<<a,c|=r[a],s&=~d;return c}function hh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Kt(g),C=1<<E,V=d[E];V===-1?(!(C&a)||C&c)&&(d[E]=hh(C,s)):V<=s&&(r.expiredLanes|=C),g&=~C}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $i(){var r=Us;return Us<<=1,!(Us&4194240)&&(Us=64),r}function Qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Yr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=a}function We(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Kt(a),g=1<<d;s[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function Jr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Kt(a),d=1<<c;d&s|r[c]&s&&(r[c]|=s),a&=~d}}var Le=0;function Xr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ul,Bs,jl,Bl,zl,ca=!1,$n=[],Pt=null,xn=null,Vn=null,Zr=new Map,_n=new Map,Qn=[],dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":Zr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(s.pointerId)}}function Jt(r,s,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Sa(s),s!==null&&Bs(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function fh(r,s,a,c,d){switch(s){case"focusin":return Pt=Jt(Pt,r,s,a,c,d),!0;case"dragenter":return xn=Jt(xn,r,s,a,c,d),!0;case"mouseover":return Vn=Jt(Vn,r,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return Zr.set(g,Jt(Zr.get(g)||null,r,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,_n.set(g,Jt(_n.get(g)||null,r,s,a,c,d)),!0}return!1}function Wl(r){var s=Zi(r.target);if(s!==null){var a=Nn(s);if(a!==null){if(s=a.tag,s===13){if(s=Wi(a),s!==null){r.blockedOn=s,zl(r.priority,function(){jl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function vr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=zs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);ji=c,a.target.dispatchEvent(c),ji=null}else return s=Sa(a),s!==null&&Bs(s),r.blockedOn=a,!1;s.shift()}return!0}function Qi(r,s,a){vr(r)&&a.delete(s)}function Hl(){ca=!1,Pt!==null&&vr(Pt)&&(Pt=null),xn!==null&&vr(xn)&&(xn=null),Vn!==null&&vr(Vn)&&(Vn=null),Zr.forEach(Qi),_n.forEach(Qi)}function Ln(r,s){r.blockedOn===s&&(r.blockedOn=null,ca||(ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function On(r){function s(d){return Ln(d,r)}if(0<$n.length){Ln($n[0],r);for(var a=1;a<$n.length;a++){var c=$n[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Pt!==null&&Ln(Pt,r),xn!==null&&Ln(xn,r),Vn!==null&&Ln(Vn,r),Zr.forEach(s),_n.forEach(s),a=0;a<Qn.length;a++)c=Qn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Qn.length&&(a=Qn[0],a.blockedOn===null);)Wl(a),a.blockedOn===null&&Qn.shift()}var _r=ee.ReactCurrentBatchConfig,ei=!0;function Xe(r,s,a,c){var d=Le,g=_r.transition;_r.transition=null;try{Le=1,ha(r,s,a,c)}finally{Le=d,_r.transition=g}}function ph(r,s,a,c){var d=Le,g=_r.transition;_r.transition=null;try{Le=4,ha(r,s,a,c)}finally{Le=d,_r.transition=g}}function ha(r,s,a,c){if(ei){var d=zs(r,s,a,c);if(d===null)Sh(r,s,c,Yi,a),ql(r,c);else if(fh(d,r,s,a,c))c.stopPropagation();else if(ql(r,c),s&4&&-1<dh.indexOf(r)){for(;d!==null;){var g=Sa(d);if(g!==null&&Ul(g),g=zs(r,s,a,c),g===null&&Sh(r,s,c,Yi,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Sh(r,s,c,null,a)}}var Yi=null;function zs(r,s,a,c){if(Yi=null,r=Ds(c),r=Zi(r),r!==null)if(s=Nn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Wi(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Yi=r,null}function da(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ll()){case Hi:return 1;case Gr:return 4;case vn:case la:return 16;case Ol:return 536870912;default:return 16}default:return 16}}var cn=null,qs=null,Xt=null;function fa(){if(Xt)return Xt;var r,s=qs,a=s.length,c,d="value"in cn?cn.value:cn.textContent,g=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(c=1;c<=E&&s[a-c]===d[g-c];c++);return Xt=d.slice(r,1<c?1-c:void 0)}function Ws(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Yn(){return!0}function pa(){return!1}function kt(r){function s(a,c,d,g,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(a=r[C],this[C]=a?a(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Yn:pa,this.isPropagationStopped=pa,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),s}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hs=kt(Mn),Jn=se({},Mn,{view:0,detail:0}),mh=kt(Jn),Ks,Er,ti,Ji=se({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xn,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ti&&(ti&&r.type==="mousemove"?(Ks=r.screenX-ti.screenX,Er=r.screenY-ti.screenY):Er=Ks=0,ti=r),Ks)},movementY:function(r){return"movementY"in r?r.movementY:Er}}),Gs=kt(Ji),ma=se({},Ji,{dataTransfer:0}),Kl=kt(ma),$s=se({},Jn,{relatedTarget:0}),Qs=kt($s),Gl=se({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=kt(Gl),$l=se({},Mn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ql=kt($l),Yl=se({},Mn,{data:0}),ga=kt(Yl),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Jl[r])?!!s[r]:!1}function Xn(){return Xl}var u=se({},Jn,{key:function(r){if(r.key){var s=Ys[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xn,charCode:function(r){return r.type==="keypress"?Ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(u),v=se({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=kt(v),j=se({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xn}),K=kt(j),ie=se({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=kt(ie),gt=se({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=kt(gt),It=[9,13,27,32],ct=f&&"CompositionEvent"in window,En=null;f&&"documentMode"in document&&(En=document.documentMode);var hn=f&&"TextEvent"in window&&!En,Xi=f&&(!ct||En&&8<En&&11>=En),Js=" ",Np=!1;function Dp(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xs=!1;function oE(r,s){switch(r){case"compositionend":return xp(s);case"keypress":return s.which!==32?null:(Np=!0,Js);case"textInput":return r=s.data,r===Js&&Np?null:r;default:return null}}function aE(r,s){if(Xs)return r==="compositionend"||!ct&&Dp(r,s)?(r=fa(),Xt=qs=cn=null,Xs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xi&&s.locale!=="ko"?null:s.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!lE[r.type]:s==="textarea"}function Lp(r,s,a,c){Gn(c),s=ru(s,"onChange"),0<s.length&&(a=new Hs("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var ya=null,va=null;function uE(r){Xp(r,0)}function Zl(r){var s=ro(r);if(Cs(s))return r}function cE(r,s){if(r==="change")return s}var Op=!1;if(f){var gh;if(f){var yh="oninput"in document;if(!yh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),yh=typeof Mp.oninput=="function"}gh=yh}else gh=!1;Op=gh&&(!document.documentMode||9<document.documentMode)}function bp(){ya&&(ya.detachEvent("onpropertychange",Fp),va=ya=null)}function Fp(r){if(r.propertyName==="value"&&Zl(va)){var s=[];Lp(s,va,r,Ds(r)),ia(uE,s)}}function hE(r,s,a){r==="focusin"?(bp(),ya=s,va=a,ya.attachEvent("onpropertychange",Fp)):r==="focusout"&&bp()}function dE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zl(va)}function fE(r,s){if(r==="click")return Zl(s)}function pE(r,s){if(r==="input"||r==="change")return Zl(s)}function mE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var bn=typeof Object.is=="function"?Object.is:mE;function _a(r,s){if(bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!bn(r[d],s[d]))return!1}return!0}function Up(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jp(r,s){var a=Up(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Up(a)}}function Bp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zp(){for(var r=window,s=Hr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Hr(r.document)}return s}function vh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function gE(r){var s=zp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Bp(a.ownerDocument.documentElement,a)){if(c!==null&&vh(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=jp(a,g);var E=jp(a,c);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var yE=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,_h=null,Ea=null,Eh=!1;function qp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Eh||Zs==null||Zs!==Hr(c)||(c=Zs,"selectionStart"in c&&vh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ea&&_a(Ea,c)||(Ea=c,c=ru(_h,"onSelect"),0<c.length&&(s=new Hs("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Zs)))}function eu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var eo={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},wh={},Wp={};f&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function tu(r){if(wh[r])return wh[r];if(!eo[r])return r;var s=eo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Wp)return wh[r]=s[a];return r}var Hp=tu("animationend"),Kp=tu("animationiteration"),Gp=tu("animationstart"),$p=tu("transitionend"),Qp=new Map,Yp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(r,s){Qp.set(r,s),l(s,[r])}for(var Th=0;Th<Yp.length;Th++){var Ih=Yp[Th],vE=Ih.toLowerCase(),_E=Ih[0].toUpperCase()+Ih.slice(1);ni(vE,"on"+_E)}ni(Hp,"onAnimationEnd"),ni(Kp,"onAnimationIteration"),ni(Gp,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni($p,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Jp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,Dl(c,s,void 0,r),r.currentTarget=null}function Xp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var C=c[E],V=C.instance,H=C.currentTarget;if(C=C.listener,V!==g&&d.isPropagationStopped())break e;Jp(d,C,H),g=V}else for(E=0;E<c.length;E++){if(C=c[E],V=C.instance,H=C.currentTarget,C=C.listener,V!==g&&d.isPropagationStopped())break e;Jp(d,C,H),g=V}}}if(kn)throw r=sa,kn=!1,sa=null,r}function Qe(r,s){var a=s[Dh];a===void 0&&(a=s[Dh]=new Set);var c=r+"__bubble";a.has(c)||(Zp(s,r,2,!1),a.add(c))}function Ah(r,s,a){var c=0;s&&(c|=4),Zp(a,r,c,s)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ta(r){if(!r[nu]){r[nu]=!0,i.forEach(function(a){a!=="selectionchange"&&(EE.has(a)||Ah(a,!1,r),Ah(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[nu]||(s[nu]=!0,Ah("selectionchange",!1,s))}}function Zp(r,s,a,c){switch(da(s)){case 1:var d=Xe;break;case 4:d=ph;break;default:d=ha}a=d.bind(null,s,a,r),d=void 0,!Ls||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Sh(r,s,a,c,d){var g=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===d||C.nodeType===8&&C.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var V=E.tag;if((V===3||V===4)&&(V=E.stateNode.containerInfo,V===d||V.nodeType===8&&V.parentNode===d))return;E=E.return}for(;C!==null;){if(E=Zi(C),E===null)return;if(V=E.tag,V===5||V===6){c=g=E;continue e}C=C.parentNode}}c=c.return}ia(function(){var H=g,Z=Ds(a),te=[];e:{var J=Qp.get(r);if(J!==void 0){var oe=Hs,he=r;switch(r){case"keypress":if(Ws(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":he="focus",oe=Qs;break;case"focusout":he="blur",oe=Qs;break;case"beforeblur":case"afterblur":oe=Qs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=Gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=K;break;case Hp:case Kp:case Gp:oe=wr;break;case $p:oe=qe;break;case"scroll":oe=mh;break;case"wheel":oe=Me;break;case"copy":case"cut":case"paste":oe=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=w}var de=(s&4)!==0,lt=!de&&r==="scroll",B=de?J!==null?J+"Capture":null:J;de=[];for(var O=H,q;O!==null;){q=O;var ne=q.stateNode;if(q.tag===5&&ne!==null&&(q=ne,B!==null&&(ne=at(O,B),ne!=null&&de.push(Ia(O,ne,q)))),lt)break;O=O.return}0<de.length&&(J=new oe(J,he,null,a,Z),te.push({event:J,listeners:de}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",J&&a!==ji&&(he=a.relatedTarget||a.fromElement)&&(Zi(he)||he[Tr]))break e;if((oe||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,oe?(he=a.relatedTarget||a.toElement,oe=H,he=he?Zi(he):null,he!==null&&(lt=Nn(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(oe=null,he=H),oe!==he)){if(de=Gs,ne="onMouseLeave",B="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(de=w,ne="onPointerLeave",B="onPointerEnter",O="pointer"),lt=oe==null?J:ro(oe),q=he==null?J:ro(he),J=new de(ne,O+"leave",oe,a,Z),J.target=lt,J.relatedTarget=q,ne=null,Zi(Z)===H&&(de=new de(B,O+"enter",he,a,Z),de.target=q,de.relatedTarget=lt,ne=de),lt=ne,oe&&he)t:{for(de=oe,B=he,O=0,q=de;q;q=to(q))O++;for(q=0,ne=B;ne;ne=to(ne))q++;for(;0<O-q;)de=to(de),O--;for(;0<q-O;)B=to(B),q--;for(;O--;){if(de===B||B!==null&&de===B.alternate)break t;de=to(de),B=to(B)}de=null}else de=null;oe!==null&&em(te,J,oe,de,!1),he!==null&&lt!==null&&em(te,lt,he,de,!0)}}e:{if(J=H?ro(H):window,oe=J.nodeName&&J.nodeName.toLowerCase(),oe==="select"||oe==="input"&&J.type==="file")var ge=cE;else if(Vp(J))if(Op)ge=pE;else{ge=dE;var ve=hE}else(oe=J.nodeName)&&oe.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ge=fE);if(ge&&(ge=ge(r,H))){Lp(te,ge,a,Z);break e}ve&&ve(r,J,H),r==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&Ps(J,"number",J.value)}switch(ve=H?ro(H):window,r){case"focusin":(Vp(ve)||ve.contentEditable==="true")&&(Zs=ve,_h=H,Ea=null);break;case"focusout":Ea=_h=Zs=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,qp(te,a,Z);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":qp(te,a,Z)}var _e;if(ct)e:{switch(r){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Xs?Dp(r,a)&&(Ie="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Xi&&a.locale!=="ko"&&(Xs||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Xs&&(_e=fa()):(cn=Z,qs="value"in cn?cn.value:cn.textContent,Xs=!0)),ve=ru(H,Ie),0<ve.length&&(Ie=new ga(Ie,r,null,a,Z),te.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=xp(a),_e!==null&&(Ie.data=_e)))),(_e=hn?oE(r,a):aE(r,a))&&(H=ru(H,"onBeforeInput"),0<H.length&&(Z=new ga("onBeforeInput","beforeinput",null,a,Z),te.push({event:Z,listeners:H}),Z.data=_e))}Xp(te,s)})}function Ia(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ru(r,s){for(var a=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=at(r,a),g!=null&&c.unshift(Ia(r,g,d)),g=at(r,s),g!=null&&c.push(Ia(r,g,d))),r=r.return}return c}function to(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function em(r,s,a,c,d){for(var g=s._reactName,E=[];a!==null&&a!==c;){var C=a,V=C.alternate,H=C.stateNode;if(V!==null&&V===c)break;C.tag===5&&H!==null&&(C=H,d?(V=at(a,g),V!=null&&E.unshift(Ia(a,V,C))):d||(V=at(a,g),V!=null&&E.push(Ia(a,V,C)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var wE=/\r\n?/g,TE=/\u0000|\uFFFD/g;function tm(r){return(typeof r=="string"?r:""+r).replace(wE,`
`).replace(TE,"")}function iu(r,s,a){if(s=tm(s),tm(r)!==s&&a)throw Error(t(425))}function su(){}var Ch=null,Rh=null;function Ph(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,AE=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(r){return nm.resolve(null).then(r).catch(SE)}:kh;function SE(r){setTimeout(function(){throw r})}function Nh(r,s){var a=s,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),On(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);On(s)}function ri(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function rm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var no=Math.random().toString(36).slice(2),Zn="__reactFiber$"+no,Aa="__reactProps$"+no,Tr="__reactContainer$"+no,Dh="__reactEvents$"+no,CE="__reactListeners$"+no,RE="__reactHandles$"+no;function Zi(r){var s=r[Zn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Tr]||a[Zn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=rm(r);r!==null;){if(a=r[Zn])return a;r=rm(r)}return s}r=a,a=r.parentNode}return null}function Sa(r){return r=r[Zn]||r[Tr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ou(r){return r[Aa]||null}var xh=[],io=-1;function ii(r){return{current:r}}function Ye(r){0>io||(r.current=xh[io],xh[io]=null,io--)}function $e(r,s){io++,xh[io]=r.current,r.current=s}var si={},Mt=ii(si),Zt=ii(!1),es=si;function so(r,s){var a=r.type.contextTypes;if(!a)return si;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function en(r){return r=r.childContextTypes,r!=null}function au(){Ye(Zt),Ye(Mt)}function im(r,s,a){if(Mt.current!==si)throw Error(t(168));$e(Mt,s),$e(Zt,a)}function sm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,De(r)||"Unknown",d));return se({},a,c)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||si,es=Mt.current,$e(Mt,r),$e(Zt,Zt.current),!0}function om(r,s,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=sm(r,s,es),c.__reactInternalMemoizedMergedChildContext=r,Ye(Zt),Ye(Mt),$e(Mt,r)):Ye(Zt),$e(Zt,a)}var Ir=null,uu=!1,Vh=!1;function am(r){Ir===null?Ir=[r]:Ir.push(r)}function PE(r){uu=!0,am(r)}function oi(){if(!Vh&&Ir!==null){Vh=!0;var r=0,s=Le;try{var a=Ir;for(Le=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Ir=null,uu=!1}catch(d){throw Ir!==null&&(Ir=Ir.slice(r+1)),Fs(Hi,oi),d}finally{Le=s,Vh=!1}}return null}var oo=[],ao=0,cu=null,hu=0,wn=[],Tn=0,ts=null,Ar=1,Sr="";function ns(r,s){oo[ao++]=hu,oo[ao++]=cu,cu=r,hu=s}function lm(r,s,a){wn[Tn++]=Ar,wn[Tn++]=Sr,wn[Tn++]=ts,ts=r;var c=Ar;r=Sr;var d=32-Kt(c)-1;c&=~(1<<d),a+=1;var g=32-Kt(s)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,Ar=1<<32-Kt(s)+d|a<<d|c,Sr=g+r}else Ar=1<<g|a<<d|c,Sr=r}function Lh(r){r.return!==null&&(ns(r,1),lm(r,1,0))}function Oh(r){for(;r===cu;)cu=oo[--ao],oo[ao]=null,hu=oo[--ao],oo[ao]=null;for(;r===ts;)ts=wn[--Tn],wn[Tn]=null,Sr=wn[--Tn],wn[Tn]=null,Ar=wn[--Tn],wn[Tn]=null}var dn=null,fn=null,Ze=!1,Fn=null;function um(r,s){var a=Cn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function cm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=ri(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ts!==null?{id:Ar,overflow:Sr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Cn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,dn=r,fn=null,!0):!1;default:return!1}}function Mh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bh(r){if(Ze){var s=fn;if(s){var a=s;if(!cm(r,s)){if(Mh(r))throw Error(t(418));s=ri(a.nextSibling);var c=dn;s&&cm(r,s)?um(c,a):(r.flags=r.flags&-4097|2,Ze=!1,dn=r)}}else{if(Mh(r))throw Error(t(418));r.flags=r.flags&-4097|2,Ze=!1,dn=r}}}function hm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function du(r){if(r!==dn)return!1;if(!Ze)return hm(r),Ze=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ph(r.type,r.memoizedProps)),s&&(s=fn)){if(Mh(r))throw dm(),Error(t(418));for(;s;)um(r,s),s=ri(s.nextSibling)}if(hm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){fn=ri(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?ri(r.stateNode.nextSibling):null;return!0}function dm(){for(var r=fn;r;)r=ri(r.nextSibling)}function lo(){fn=dn=null,Ze=!1}function Fh(r){Fn===null?Fn=[r]:Fn.push(r)}var kE=ee.ReactCurrentBatchConfig;function Ca(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var C=d.refs;E===null?delete C[g]:C[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function fu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function fm(r){var s=r._init;return s(r._payload)}function pm(r){function s(B,O){if(r){var q=B.deletions;q===null?(B.deletions=[O],B.flags|=16):q.push(O)}}function a(B,O){if(!r)return null;for(;O!==null;)s(B,O),O=O.sibling;return null}function c(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function d(B,O){return B=pi(B,O),B.index=0,B.sibling=null,B}function g(B,O,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<O?(B.flags|=2,O):q):(B.flags|=2,O)):(B.flags|=1048576,O)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function C(B,O,q,ne){return O===null||O.tag!==6?(O=kd(q,B.mode,ne),O.return=B,O):(O=d(O,q),O.return=B,O)}function V(B,O,q,ne){var ge=q.type;return ge===N?Z(B,O,q.props.children,ne,q.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ot&&fm(ge)===O.type)?(ne=d(O,q.props),ne.ref=Ca(B,O,q),ne.return=B,ne):(ne=bu(q.type,q.key,q.props,null,B.mode,ne),ne.ref=Ca(B,O,q),ne.return=B,ne)}function H(B,O,q,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==q.containerInfo||O.stateNode.implementation!==q.implementation?(O=Nd(q,B.mode,ne),O.return=B,O):(O=d(O,q.children||[]),O.return=B,O)}function Z(B,O,q,ne,ge){return O===null||O.tag!==7?(O=cs(q,B.mode,ne,ge),O.return=B,O):(O=d(O,q),O.return=B,O)}function te(B,O,q){if(typeof O=="string"&&O!==""||typeof O=="number")return O=kd(""+O,B.mode,q),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fe:return q=bu(O.type,O.key,O.props,null,B.mode,q),q.ref=Ca(B,null,O),q.return=B,q;case pe:return O=Nd(O,B.mode,q),O.return=B,O;case ot:var ne=O._init;return te(B,ne(O._payload),q)}if(fr(O)||me(O))return O=cs(O,B.mode,q,null),O.return=B,O;fu(B,O)}return null}function J(B,O,q,ne){var ge=O!==null?O.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return ge!==null?null:C(B,O,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:return q.key===ge?V(B,O,q,ne):null;case pe:return q.key===ge?H(B,O,q,ne):null;case ot:return ge=q._init,J(B,O,ge(q._payload),ne)}if(fr(q)||me(q))return ge!==null?null:Z(B,O,q,ne,null);fu(B,q)}return null}function oe(B,O,q,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(q)||null,C(O,B,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case fe:return B=B.get(ne.key===null?q:ne.key)||null,V(O,B,ne,ge);case pe:return B=B.get(ne.key===null?q:ne.key)||null,H(O,B,ne,ge);case ot:var ve=ne._init;return oe(B,O,q,ve(ne._payload),ge)}if(fr(ne)||me(ne))return B=B.get(q)||null,Z(O,B,ne,ge,null);fu(O,ne)}return null}function he(B,O,q,ne){for(var ge=null,ve=null,_e=O,Ie=O=0,Ct=null;_e!==null&&Ie<q.length;Ie++){_e.index>Ie?(Ct=_e,_e=null):Ct=_e.sibling;var je=J(B,_e,q[Ie],ne);if(je===null){_e===null&&(_e=Ct);break}r&&_e&&je.alternate===null&&s(B,_e),O=g(je,O,Ie),ve===null?ge=je:ve.sibling=je,ve=je,_e=Ct}if(Ie===q.length)return a(B,_e),Ze&&ns(B,Ie),ge;if(_e===null){for(;Ie<q.length;Ie++)_e=te(B,q[Ie],ne),_e!==null&&(O=g(_e,O,Ie),ve===null?ge=_e:ve.sibling=_e,ve=_e);return Ze&&ns(B,Ie),ge}for(_e=c(B,_e);Ie<q.length;Ie++)Ct=oe(_e,B,Ie,q[Ie],ne),Ct!==null&&(r&&Ct.alternate!==null&&_e.delete(Ct.key===null?Ie:Ct.key),O=g(Ct,O,Ie),ve===null?ge=Ct:ve.sibling=Ct,ve=Ct);return r&&_e.forEach(function(mi){return s(B,mi)}),Ze&&ns(B,Ie),ge}function de(B,O,q,ne){var ge=me(q);if(typeof ge!="function")throw Error(t(150));if(q=ge.call(q),q==null)throw Error(t(151));for(var ve=ge=null,_e=O,Ie=O=0,Ct=null,je=q.next();_e!==null&&!je.done;Ie++,je=q.next()){_e.index>Ie?(Ct=_e,_e=null):Ct=_e.sibling;var mi=J(B,_e,je.value,ne);if(mi===null){_e===null&&(_e=Ct);break}r&&_e&&mi.alternate===null&&s(B,_e),O=g(mi,O,Ie),ve===null?ge=mi:ve.sibling=mi,ve=mi,_e=Ct}if(je.done)return a(B,_e),Ze&&ns(B,Ie),ge;if(_e===null){for(;!je.done;Ie++,je=q.next())je=te(B,je.value,ne),je!==null&&(O=g(je,O,Ie),ve===null?ge=je:ve.sibling=je,ve=je);return Ze&&ns(B,Ie),ge}for(_e=c(B,_e);!je.done;Ie++,je=q.next())je=oe(_e,B,Ie,je.value,ne),je!==null&&(r&&je.alternate!==null&&_e.delete(je.key===null?Ie:je.key),O=g(je,O,Ie),ve===null?ge=je:ve.sibling=je,ve=je);return r&&_e.forEach(function(lw){return s(B,lw)}),Ze&&ns(B,Ie),ge}function lt(B,O,q,ne){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case fe:e:{for(var ge=q.key,ve=O;ve!==null;){if(ve.key===ge){if(ge=q.type,ge===N){if(ve.tag===7){a(B,ve.sibling),O=d(ve,q.props.children),O.return=B,B=O;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ot&&fm(ge)===ve.type){a(B,ve.sibling),O=d(ve,q.props),O.ref=Ca(B,ve,q),O.return=B,B=O;break e}a(B,ve);break}else s(B,ve);ve=ve.sibling}q.type===N?(O=cs(q.props.children,B.mode,ne,q.key),O.return=B,B=O):(ne=bu(q.type,q.key,q.props,null,B.mode,ne),ne.ref=Ca(B,O,q),ne.return=B,B=ne)}return E(B);case pe:e:{for(ve=q.key;O!==null;){if(O.key===ve)if(O.tag===4&&O.stateNode.containerInfo===q.containerInfo&&O.stateNode.implementation===q.implementation){a(B,O.sibling),O=d(O,q.children||[]),O.return=B,B=O;break e}else{a(B,O);break}else s(B,O);O=O.sibling}O=Nd(q,B.mode,ne),O.return=B,B=O}return E(B);case ot:return ve=q._init,lt(B,O,ve(q._payload),ne)}if(fr(q))return he(B,O,q,ne);if(me(q))return de(B,O,q,ne);fu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,O!==null&&O.tag===6?(a(B,O.sibling),O=d(O,q),O.return=B,B=O):(a(B,O),O=kd(q,B.mode,ne),O.return=B,B=O),E(B)):a(B,O)}return lt}var uo=pm(!0),mm=pm(!1),pu=ii(null),mu=null,co=null,Uh=null;function jh(){Uh=co=mu=null}function Bh(r){var s=pu.current;Ye(pu),r._currentValue=s}function zh(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function ho(r,s){mu=r,Uh=co=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(tn=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(Uh!==r)if(r={context:r,memoizedValue:s,next:null},co===null){if(mu===null)throw Error(t(308));co=r,mu.dependencies={lanes:0,firstContext:r}}else co=co.next=r;return s}var rs=null;function qh(r){rs===null?rs=[r]:rs.push(r)}function gm(r,s,a,c){var d=s.interleaved;return d===null?(a.next=a,qh(s)):(a.next=d.next,d.next=a),s.interleaved=a,Cr(r,c)}function Cr(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ai=!1;function Wh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ym(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Rr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function li(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,Ue&2){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,Cr(r,a)}return d=c.interleaved,d===null?(s.next=s,qh(c)):(s.next=d.next,d.next=s),c.interleaved=s,Cr(r,a)}function gu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Jr(r,a)}}function vm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function yu(r,s,a,c){var d=r.updateQueue;ai=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var V=C,H=V.next;V.next=null,E===null?g=H:E.next=H,E=V;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,C=Z.lastBaseUpdate,C!==E&&(C===null?Z.firstBaseUpdate=H:C.next=H,Z.lastBaseUpdate=V))}if(g!==null){var te=d.baseState;E=0,Z=H=V=null,C=g;do{var J=C.lane,oe=C.eventTime;if((c&J)===J){Z!==null&&(Z=Z.next={eventTime:oe,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=r,de=C;switch(J=s,oe=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(oe,te,J);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(oe,te,J):he,J==null)break e;te=se({},te,J);break e;case 2:ai=!0}}C.callback!==null&&C.lane!==0&&(r.flags|=64,J=d.effects,J===null?d.effects=[C]:J.push(C))}else oe={eventTime:oe,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Z===null?(H=Z=oe,V=te):Z=Z.next=oe,E|=J;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;J=C,C=J.next,J.next=null,d.lastBaseUpdate=J,d.shared.pending=null}}while(!0);if(Z===null&&(V=te),d.baseState=V,d.firstBaseUpdate=H,d.lastBaseUpdate=Z,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);os|=E,r.lanes=E,r.memoizedState=te}}function _m(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Ra={},er=ii(Ra),Pa=ii(Ra),ka=ii(Ra);function is(r){if(r===Ra)throw Error(t(174));return r}function Hh(r,s){switch($e(ka,s),$e(Pa,r),$e(er,Ra),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:mt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=mt(s,r)}Ye(er),$e(er,s)}function fo(){Ye(er),Ye(Pa),Ye(ka)}function Em(r){is(ka.current);var s=is(er.current),a=mt(s,r.type);s!==a&&($e(Pa,r),$e(er,a))}function Kh(r){Pa.current===r&&(Ye(er),Ye(Pa))}var tt=ii(0);function vu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Gh=[];function $h(){for(var r=0;r<Gh.length;r++)Gh[r]._workInProgressVersionPrimary=null;Gh.length=0}var _u=ee.ReactCurrentDispatcher,Qh=ee.ReactCurrentBatchConfig,ss=0,nt=null,yt=null,At=null,Eu=!1,Na=!1,Da=0,NE=0;function bt(){throw Error(t(321))}function Yh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!bn(r[a],s[a]))return!1;return!0}function Jh(r,s,a,c,d,g){if(ss=g,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=r===null||r.memoizedState===null?LE:OE,r=a(c,d),Na){g=0;do{if(Na=!1,Da=0,25<=g)throw Error(t(301));g+=1,At=yt=null,s.updateQueue=null,_u.current=ME,r=a(c,d)}while(Na)}if(_u.current=Iu,s=yt!==null&&yt.next!==null,ss=0,At=yt=nt=null,Eu=!1,s)throw Error(t(300));return r}function Xh(){var r=Da!==0;return Da=0,r}function tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=r:At=At.next=r,At}function An(){if(yt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var s=At===null?nt.memoizedState:At.next;if(s!==null)At=s,yt=r;else{if(r===null)throw Error(t(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?nt.memoizedState=At=r:At=At.next=r}return At}function xa(r,s){return typeof s=="function"?s(r):s}function Zh(r){var s=An(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=yt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var C=E=null,V=null,H=g;do{var Z=H.lane;if((ss&Z)===Z)V!==null&&(V=V.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:r(c,H.action);else{var te={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};V===null?(C=V=te,E=c):V=V.next=te,nt.lanes|=Z,os|=Z}H=H.next}while(H!==null&&H!==g);V===null?E=c:V.next=C,bn(c,s.memoizedState)||(tn=!0),s.memoizedState=c,s.baseState=E,s.baseQueue=V,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,nt.lanes|=g,os|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ed(r){var s=An(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);bn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function wm(){}function Tm(r,s){var a=nt,c=An(),d=s(),g=!bn(c.memoizedState,d);if(g&&(c.memoizedState=d,tn=!0),c=c.queue,td(Sm.bind(null,a,c,r),[r]),c.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,Va(9,Am.bind(null,a,c,d,s),void 0,null),St===null)throw Error(t(349));ss&30||Im(a,s,d)}return d}function Im(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Am(r,s,a,c){s.value=a,s.getSnapshot=c,Cm(s)&&Rm(r)}function Sm(r,s,a){return a(function(){Cm(s)&&Rm(r)})}function Cm(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!bn(r,a)}catch{return!0}}function Rm(r){var s=Cr(r,1);s!==null&&zn(s,r,1,-1)}function Pm(r){var s=tr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:r},s.queue=r,r=r.dispatch=VE.bind(null,nt,r),[s.memoizedState,r]}function Va(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function km(){return An().memoizedState}function wu(r,s,a,c){var d=tr();nt.flags|=r,d.memoizedState=Va(1|s,a,void 0,c===void 0?null:c)}function Tu(r,s,a,c){var d=An();c=c===void 0?null:c;var g=void 0;if(yt!==null){var E=yt.memoizedState;if(g=E.destroy,c!==null&&Yh(c,E.deps)){d.memoizedState=Va(s,a,g,c);return}}nt.flags|=r,d.memoizedState=Va(1|s,a,g,c)}function Nm(r,s){return wu(8390656,8,r,s)}function td(r,s){return Tu(2048,8,r,s)}function Dm(r,s){return Tu(4,2,r,s)}function xm(r,s){return Tu(4,4,r,s)}function Vm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Lm(r,s,a){return a=a!=null?a.concat([r]):null,Tu(4,4,Vm.bind(null,s,r),a)}function nd(){}function Om(r,s){var a=An();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function Mm(r,s){var a=An();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Yh(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function bm(r,s,a){return ss&21?(bn(a,s)||(a=$i(),nt.lanes|=a,os|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a)}function DE(r,s){var a=Le;Le=a!==0&&4>a?a:4,r(!0);var c=Qh.transition;Qh.transition={};try{r(!1),s()}finally{Le=a,Qh.transition=c}}function Fm(){return An().memoizedState}function xE(r,s,a){var c=di(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Um(r))jm(s,a);else if(a=gm(r,s,a,c),a!==null){var d=Qt();zn(a,r,c,d),Bm(a,s,c)}}function VE(r,s,a){var c=di(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Um(r))jm(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,C=g(E,a);if(d.hasEagerState=!0,d.eagerState=C,bn(C,E)){var V=s.interleaved;V===null?(d.next=d,qh(s)):(d.next=V.next,V.next=d),s.interleaved=d;return}}catch{}finally{}a=gm(r,s,d,c),a!==null&&(d=Qt(),zn(a,r,c,d),Bm(a,s,c))}}function Um(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function jm(r,s){Na=Eu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Bm(r,s,a){if(a&4194240){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Jr(r,a)}}var Iu={readContext:In,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},LE={readContext:In,useCallback:function(r,s){return tr().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:Nm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,wu(4194308,4,Vm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return wu(4,2,r,s)},useMemo:function(r,s){var a=tr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=tr();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=xE.bind(null,nt,r),[c.memoizedState,r]},useRef:function(r){var s=tr();return r={current:r},s.memoizedState=r},useState:Pm,useDebugValue:nd,useDeferredValue:function(r){return tr().memoizedState=r},useTransition:function(){var r=Pm(!1),s=r[0];return r=DE.bind(null,r[1]),tr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=nt,d=tr();if(Ze){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),St===null)throw Error(t(349));ss&30||Im(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,Nm(Sm.bind(null,c,g,r),[r]),c.flags|=2048,Va(9,Am.bind(null,c,g,a,s),void 0,null),a},useId:function(){var r=tr(),s=St.identifierPrefix;if(Ze){var a=Sr,c=Ar;a=(c&~(1<<32-Kt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Da++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=NE++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},OE={readContext:In,useCallback:Om,useContext:In,useEffect:td,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:xm,useMemo:Mm,useReducer:Zh,useRef:km,useState:function(){return Zh(xa)},useDebugValue:nd,useDeferredValue:function(r){var s=An();return bm(s,yt.memoizedState,r)},useTransition:function(){var r=Zh(xa)[0],s=An().memoizedState;return[r,s]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1},ME={readContext:In,useCallback:Om,useContext:In,useEffect:td,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:xm,useMemo:Mm,useReducer:ed,useRef:km,useState:function(){return ed(xa)},useDebugValue:nd,useDeferredValue:function(r){var s=An();return yt===null?s.memoizedState=r:bm(s,yt.memoizedState,r)},useTransition:function(){var r=ed(xa)[0],s=An().memoizedState;return[r,s]},useMutableSource:wm,useSyncExternalStore:Tm,useId:Fm,unstable_isNewReconciler:!1};function Un(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function rd(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Au={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Qt(),d=di(r),g=Rr(c,d);g.payload=s,a!=null&&(g.callback=a),s=li(r,g,d),s!==null&&(zn(s,r,d,c),gu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Qt(),d=di(r),g=Rr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=li(r,g,d),s!==null&&(zn(s,r,d,c),gu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Qt(),c=di(r),d=Rr(a,c);d.tag=2,s!=null&&(d.callback=s),s=li(r,d,c),s!==null&&(zn(s,r,c,a),gu(s,r,c))}};function zm(r,s,a,c,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!_a(a,c)||!_a(d,g):!0}function qm(r,s,a){var c=!1,d=si,g=s.contextType;return typeof g=="object"&&g!==null?g=In(g):(d=en(s)?es:Mt.current,c=s.contextTypes,g=(c=c!=null)?so(r,d):si),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Au,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),s}function Wm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Au.enqueueReplaceState(s,s.state,null)}function id(r,s,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},Wh(r);var g=s.contextType;typeof g=="object"&&g!==null?d.context=In(g):(g=en(s)?es:Mt.current,d.context=so(r,g)),d.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(rd(r,s,g,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Au.enqueueReplaceState(d,d.state,null),yu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function po(r,s){try{var a="",c=s;do a+=we(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:d,digest:null}}function sd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function od(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var bE=typeof WeakMap=="function"?WeakMap:Map;function Hm(r,s,a){a=Rr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){Du||(Du=!0,wd=c),od(r,s)},a}function Km(r,s,a){a=Rr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){od(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){od(r,s),typeof c!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Gm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new bE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),r=JE.bind(null,r,s,a),s.then(r,r))}function $m(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qm(r,s,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Rr(-1,1),s.tag=2,li(a,s,1))),a.lanes|=1),r)}var FE=ee.ReactCurrentOwner,tn=!1;function $t(r,s,a,c){s.child=r===null?mm(s,null,a,c):uo(s,r.child,a,c)}function Ym(r,s,a,c,d){a=a.render;var g=s.ref;return ho(s,d),c=Jh(r,s,a,c,g,d),a=Xh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(Ze&&a&&Lh(s),s.flags|=1,$t(r,s,c,d),s.child)}function Jm(r,s,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!Pd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Xm(r,s,g,c,d)):(r=bu(a.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&d)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(E,c)&&r.ref===s.ref)return Pr(r,s,d)}return s.flags|=1,r=pi(g,c),r.ref=s.ref,r.return=s,s.child=r}function Xm(r,s,a,c,d){if(r!==null){var g=r.memoizedProps;if(_a(g,c)&&r.ref===s.ref)if(tn=!1,s.pendingProps=c=g,(r.lanes&d)!==0)r.flags&131072&&(tn=!0);else return s.lanes=r.lanes,Pr(r,s,d)}return ad(r,s,a,c,d)}function Zm(r,s,a){var c=s.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(go,pn),pn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,$e(go,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,$e(go,pn),pn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,$e(go,pn),pn|=c;return $t(r,s,d,a),s.child}function eg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function ad(r,s,a,c,d){var g=en(a)?es:Mt.current;return g=so(s,g),ho(s,d),a=Jh(r,s,a,c,g,d),c=Xh(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Pr(r,s,d)):(Ze&&c&&Lh(s),s.flags|=1,$t(r,s,a,d),s.child)}function tg(r,s,a,c,d){if(en(a)){var g=!0;lu(s)}else g=!1;if(ho(s,d),s.stateNode===null)Cu(r,s),qm(s,a,c),id(s,a,c,d),c=!0;else if(r===null){var E=s.stateNode,C=s.memoizedProps;E.props=C;var V=E.context,H=a.contextType;typeof H=="object"&&H!==null?H=In(H):(H=en(a)?es:Mt.current,H=so(s,H));var Z=a.getDerivedStateFromProps,te=typeof Z=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==c||V!==H)&&Wm(s,E,c,H),ai=!1;var J=s.memoizedState;E.state=J,yu(s,c,E,d),V=s.memoizedState,C!==c||J!==V||Zt.current||ai?(typeof Z=="function"&&(rd(s,a,Z,c),V=s.memoizedState),(C=ai||zm(s,a,C,c,J,V,H))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=V),E.props=c,E.state=V,E.context=H,c=C):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{E=s.stateNode,ym(r,s),C=s.memoizedProps,H=s.type===s.elementType?C:Un(s.type,C),E.props=H,te=s.pendingProps,J=E.context,V=a.contextType,typeof V=="object"&&V!==null?V=In(V):(V=en(a)?es:Mt.current,V=so(s,V));var oe=a.getDerivedStateFromProps;(Z=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(C!==te||J!==V)&&Wm(s,E,c,V),ai=!1,J=s.memoizedState,E.state=J,yu(s,c,E,d);var he=s.memoizedState;C!==te||J!==he||Zt.current||ai?(typeof oe=="function"&&(rd(s,a,oe,c),he=s.memoizedState),(H=ai||zm(s,a,H,c,J,he,V)||!1)?(Z||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,he,V),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,he,V)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=he),E.props=c,E.state=he,E.context=V,c=H):(typeof E.componentDidUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return ld(r,s,a,c,g,d)}function ld(r,s,a,c,d,g){eg(r,s);var E=(s.flags&128)!==0;if(!c&&!E)return d&&om(s,a,!1),Pr(r,s,g);c=s.stateNode,FE.current=s;var C=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&E?(s.child=uo(s,r.child,null,g),s.child=uo(s,null,C,g)):$t(r,s,C,g),s.memoizedState=c.state,d&&om(s,a,!0),s.child}function ng(r){var s=r.stateNode;s.pendingContext?im(r,s.pendingContext,s.pendingContext!==s.context):s.context&&im(r,s.context,!1),Hh(r,s.containerInfo)}function rg(r,s,a,c,d){return lo(),Fh(d),s.flags|=256,$t(r,s,a,c),s.child}var ud={dehydrated:null,treeContext:null,retryLane:0};function cd(r){return{baseLanes:r,cachePool:null,transitions:null}}function ig(r,s,a){var c=s.pendingProps,d=tt.current,g=!1,E=(s.flags&128)!==0,C;if((C=E)||(C=r!==null&&r.memoizedState===null?!1:(d&2)!==0),C?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),$e(tt,d&1),r===null)return bh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=c.children,r=c.fallback,g?(c=s.mode,g=s.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Fu(E,c,0,null),r=cs(r,c,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=cd(a),s.memoizedState=ud,r):hd(s,E));if(d=r.memoizedState,d!==null&&(C=d.dehydrated,C!==null))return UE(r,s,E,c,C,d,a);if(g){g=c.fallback,E=s.mode,d=r.child,C=d.sibling;var V={mode:"hidden",children:c.children};return!(E&1)&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=V,s.deletions=null):(c=pi(d,V),c.subtreeFlags=d.subtreeFlags&14680064),C!==null?g=pi(C,g):(g=cs(g,E,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,E=r.child.memoizedState,E=E===null?cd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,s.memoizedState=ud,c}return g=r.child,r=g.sibling,c=pi(g,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function hd(r,s){return s=Fu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Su(r,s,a,c){return c!==null&&Fh(c),uo(s,r.child,null,a),r=hd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function UE(r,s,a,c,d,g,E){if(a)return s.flags&256?(s.flags&=-257,c=sd(Error(t(422))),Su(r,s,E,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=Fu({mode:"visible",children:c.children},d,0,null),g=cs(g,d,E,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,s.mode&1&&uo(s,r.child,null,E),s.child.memoizedState=cd(E),s.memoizedState=ud,g);if(!(s.mode&1))return Su(r,s,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var C=c.dgst;return c=C,g=Error(t(419)),c=sd(g,c,void 0),Su(r,s,E,c)}if(C=(E&r.childLanes)!==0,tn||C){if(c=St,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|E)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Cr(r,d),zn(c,r,d,-1))}return Rd(),c=sd(Error(t(421))),Su(r,s,E,c)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=XE.bind(null,r),d._reactRetry=s,null):(r=g.treeContext,fn=ri(d.nextSibling),dn=s,Ze=!0,Fn=null,r!==null&&(wn[Tn++]=Ar,wn[Tn++]=Sr,wn[Tn++]=ts,Ar=r.id,Sr=r.overflow,ts=s),s=hd(s,c.children),s.flags|=4096,s)}function sg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),zh(r.return,s,a)}function dd(r,s,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function og(r,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if($t(r,s,c.children,a),c=tt.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sg(r,a,s);else if(r.tag===19)sg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if($e(tt,c),!(s.mode&1))s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&vu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),dd(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&vu(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}dd(s,!0,a,null,g);break;case"together":dd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Cu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),os|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function jE(r,s,a){switch(s.tag){case 3:ng(s),lo();break;case 5:Em(s);break;case 1:en(s.type)&&lu(s);break;case 4:Hh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;$e(pu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?($e(tt,tt.current&1),s.flags|=128,null):a&s.child.childLanes?ig(r,s,a):($e(tt,tt.current&1),r=Pr(r,s,a),r!==null?r.sibling:null);$e(tt,tt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,r.flags&128){if(c)return og(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(tt,tt.current),c)break;return null;case 22:case 23:return s.lanes=0,Zm(r,s,a)}return Pr(r,s,a)}var ag,fd,lg,ug;ag=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},fd=function(){},lg=function(r,s,a,c){var d=r.memoizedProps;if(d!==c){r=s.stateNode,is(er.current);var g=null;switch(a){case"input":d=bi(r,d),c=bi(r,c),g=[];break;case"select":d=se({},d,{value:void 0}),c=se({},c,{value:void 0}),g=[];break;case"textarea":d=$o(r,d),c=$o(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=su)}ea(a,c);var E;a=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var C=d[H];for(E in C)C.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var V=c[H];if(C=d!=null?d[H]:void 0,c.hasOwnProperty(H)&&V!==C&&(V!=null||C!=null))if(H==="style")if(C){for(E in C)!C.hasOwnProperty(E)||V&&V.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in V)V.hasOwnProperty(E)&&C[E]!==V[E]&&(a||(a={}),a[E]=V[E])}else a||(g||(g=[]),g.push(H,a)),a=V;else H==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,C=C?C.__html:void 0,V!=null&&C!==V&&(g=g||[]).push(H,V)):H==="children"?typeof V!="string"&&typeof V!="number"||(g=g||[]).push(H,""+V):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(V!=null&&H==="onScroll"&&Qe("scroll",r),g||C===V||(g=[])):(g=g||[]).push(H,V))}a&&(g=g||[]).push("style",a);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},ug=function(r,s,a,c){a!==c&&(s.flags|=4)};function La(r,s){if(!Ze)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function BE(r,s,a){var c=s.pendingProps;switch(Oh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return en(s.type)&&au(),Ft(s),null;case 3:return c=s.stateNode,fo(),Ye(Zt),Ye(Mt),$h(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(du(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Fn!==null&&(Ad(Fn),Fn=null))),fd(r,s),Ft(s),null;case 5:Kh(s);var d=is(ka.current);if(a=s.type,r!==null&&s.stateNode!=null)lg(r,s,a,c,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=is(er.current),du(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[Zn]=s,c[Aa]=g,r=(s.mode&1)!==0,a){case"dialog":Qe("cancel",c),Qe("close",c);break;case"iframe":case"object":case"embed":Qe("load",c);break;case"video":case"audio":for(d=0;d<wa.length;d++)Qe(wa[d],c);break;case"source":Qe("error",c);break;case"img":case"image":case"link":Qe("error",c),Qe("load",c);break;case"details":Qe("toggle",c);break;case"input":Rs(c,g),Qe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Qe("invalid",c);break;case"textarea":ks(c,g),Qe("invalid",c)}ea(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var C=g[E];E==="children"?typeof C=="string"?c.textContent!==C&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,C,r),d=["children",C]):typeof C=="number"&&c.textContent!==""+C&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,C,r),d=["children",""+C]):o.hasOwnProperty(E)&&C!=null&&E==="onScroll"&&Qe("scroll",c)}switch(a){case"input":dr(c),Nl(c,g,!0);break;case"textarea":dr(c),Qo(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=su)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=E.createElement(a,{is:c.is}):(r=E.createElement(a),a==="select"&&(E=r,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):r=E.createElementNS(r,a),r[Zn]=s,r[Aa]=c,ag(r,s,!1,!1),s.stateNode=r;e:{switch(E=ta(a,c),a){case"dialog":Qe("cancel",r),Qe("close",r),d=c;break;case"iframe":case"object":case"embed":Qe("load",r),d=c;break;case"video":case"audio":for(d=0;d<wa.length;d++)Qe(wa[d],r);d=c;break;case"source":Qe("error",r),d=c;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),d=c;break;case"details":Qe("toggle",r),d=c;break;case"input":Rs(r,c),d=bi(r,c),Qe("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=se({},c,{value:void 0}),Qe("invalid",r);break;case"textarea":ks(r,c),d=$o(r,c),Qe("invalid",r);break;default:d=c}ea(a,d),C=d;for(g in C)if(C.hasOwnProperty(g)){var V=C[g];g==="style"?Xo(r,V):g==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Yo(r,V)):g==="children"?typeof V=="string"?(a!=="textarea"||V!=="")&&Kr(r,V):typeof V=="number"&&Kr(r,""+V):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?V!=null&&g==="onScroll"&&Qe("scroll",r):V!=null&&G(r,g,V,E))}switch(a){case"input":dr(r),Nl(r,c,!1);break;case"textarea":dr(r),Qo(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Fe(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?pr(r,!!c.multiple,g,!1):c.defaultValue!=null&&pr(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=su)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)ug(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=is(ka.current),is(er.current),du(s)){if(c=s.stateNode,a=s.memoizedProps,c[Zn]=s,(g=c.nodeValue!==a)&&(r=dn,r!==null))switch(r.tag){case 3:iu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&iu(c.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Zn]=s,s.stateNode=c}return Ft(s),null;case 13:if(Ye(tt),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ze&&fn!==null&&s.mode&1&&!(s.flags&128))dm(),lo(),s.flags|=98560,g=!1;else if(g=du(s),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Zn]=s}else lo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else Fn!==null&&(Ad(Fn),Fn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||tt.current&1?vt===0&&(vt=3):Rd())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return fo(),fd(r,s),r===null&&Ta(s.stateNode.containerInfo),Ft(s),null;case 10:return Bh(s.type._context),Ft(s),null;case 17:return en(s.type)&&au(),Ft(s),null;case 19:if(Ye(tt),g=s.memoizedState,g===null)return Ft(s),null;if(c=(s.flags&128)!==0,E=g.rendering,E===null)if(c)La(g,!1);else{if(vt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=vu(r),E!==null){for(s.flags|=128,La(g,!1),c=E.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,r=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return $e(tt,tt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ge()>yo&&(s.flags|=128,c=!0,La(g,!1),s.lanes=4194304)}else{if(!c)if(r=vu(E),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),La(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!Ze)return Ft(s),null}else 2*Ge()-g.renderingStartTime>yo&&a!==1073741824&&(s.flags|=128,c=!0,La(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ge(),s.sibling=null,a=tt.current,$e(tt,c?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Cd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?pn&1073741824&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function zE(r,s){switch(Oh(s),s.tag){case 1:return en(s.type)&&au(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return fo(),Ye(Zt),Ye(Mt),$h(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Kh(s),null;case 13:if(Ye(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));lo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ye(tt),null;case 4:return fo(),null;case 10:return Bh(s.type._context),null;case 22:case 23:return Cd(),null;case 24:return null;default:return null}}var Ru=!1,Ut=!1,qE=typeof WeakSet=="function"?WeakSet:Set,ue=null;function mo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(r,s,c)}else a.current=null}function pd(r,s,a){try{a()}catch(c){st(r,s,c)}}var cg=!1;function WE(r,s){if(Ch=ei,r=zp(),vh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,C=-1,V=-1,H=0,Z=0,te=r,J=null;t:for(;;){for(var oe;te!==a||d!==0&&te.nodeType!==3||(C=E+d),te!==g||c!==0&&te.nodeType!==3||(V=E+c),te.nodeType===3&&(E+=te.nodeValue.length),(oe=te.firstChild)!==null;)J=te,te=oe;for(;;){if(te===r)break t;if(J===a&&++H===d&&(C=E),J===g&&++Z===c&&(V=E),(oe=te.nextSibling)!==null)break;te=J,J=te.parentNode}te=oe}a=C===-1||V===-1?null:{start:C,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rh={focusedElem:r,selectionRange:a},ei=!1,ue=s;ue!==null;)if(s=ue,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ue=r;else for(;ue!==null;){s=ue;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,lt=he.memoizedState,B=s.stateNode,O=B.getSnapshotBeforeUpdate(s.elementType===s.type?de:Un(s.type,de),lt);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){st(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,ue=r;break}ue=s.return}return he=cg,cg=!1,he}function Oa(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&pd(s,a,g)}d=d.next}while(d!==c)}}function Pu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function md(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function hg(r){var s=r.alternate;s!==null&&(r.alternate=null,hg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Zn],delete s[Aa],delete s[Dh],delete s[CE],delete s[RE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function dg(r){return r.tag===5||r.tag===3||r.tag===4}function fg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=su));else if(c!==4&&(r=r.child,r!==null))for(gd(r,s,a),r=r.sibling;r!==null;)gd(r,s,a),r=r.sibling}function yd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(yd(r,s,a),r=r.sibling;r!==null;)yd(r,s,a),r=r.sibling}var Nt=null,jn=!1;function ui(r,s,a){for(a=a.child;a!==null;)pg(r,s,a),a=a.sibling}function pg(r,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ki,a)}catch{}switch(a.tag){case 5:Ut||mo(a,s);case 6:var c=Nt,d=jn;Nt=null,ui(r,s,a),Nt=c,jn=d,Nt!==null&&(jn?(r=Nt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Nt.removeChild(a.stateNode));break;case 18:Nt!==null&&(jn?(r=Nt,a=a.stateNode,r.nodeType===8?Nh(r.parentNode,a):r.nodeType===1&&Nh(r,a),On(r)):Nh(Nt,a.stateNode));break;case 4:c=Nt,d=jn,Nt=a.stateNode.containerInfo,jn=!0,ui(r,s,a),Nt=c,jn=d;break;case 0:case 11:case 14:case 15:if(!Ut&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&pd(a,s,E),d=d.next}while(d!==c)}ui(r,s,a);break;case 1:if(!Ut&&(mo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(C){st(a,s,C)}ui(r,s,a);break;case 21:ui(r,s,a);break;case 22:a.mode&1?(Ut=(c=Ut)||a.memoizedState!==null,ui(r,s,a),Ut=c):ui(r,s,a);break;default:ui(r,s,a)}}function mg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new qE),s.forEach(function(c){var d=ZE.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Bn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 5:Nt=C.stateNode,jn=!1;break e;case 3:Nt=C.stateNode.containerInfo,jn=!0;break e;case 4:Nt=C.stateNode.containerInfo,jn=!0;break e}C=C.return}if(Nt===null)throw Error(t(160));pg(g,E,d),Nt=null,jn=!1;var V=d.alternate;V!==null&&(V.return=null),d.return=null}catch(H){st(d,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gg(s,r),s=s.sibling}function gg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Bn(s,r),nr(r),c&4){try{Oa(3,r,r.return),Pu(3,r)}catch(de){st(r,r.return,de)}try{Oa(5,r,r.return)}catch(de){st(r,r.return,de)}}break;case 1:Bn(s,r),nr(r),c&512&&a!==null&&mo(a,a.return);break;case 5:if(Bn(s,r),nr(r),c&512&&a!==null&&mo(a,a.return),r.flags&32){var d=r.stateNode;try{Kr(d,"")}catch(de){st(r,r.return,de)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,C=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{C==="input"&&g.type==="radio"&&g.name!=null&&Ko(d,g),ta(C,E);var H=ta(C,g);for(E=0;E<V.length;E+=2){var Z=V[E],te=V[E+1];Z==="style"?Xo(d,te):Z==="dangerouslySetInnerHTML"?Yo(d,te):Z==="children"?Kr(d,te):G(d,Z,te,H)}switch(C){case"input":Go(d,g);break;case"textarea":Ns(d,g);break;case"select":var J=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?pr(d,!!g.multiple,oe,!1):J!==!!g.multiple&&(g.defaultValue!=null?pr(d,!!g.multiple,g.defaultValue,!0):pr(d,!!g.multiple,g.multiple?[]:"",!1))}d[Aa]=g}catch(de){st(r,r.return,de)}}break;case 6:if(Bn(s,r),nr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(de){st(r,r.return,de)}}break;case 3:if(Bn(s,r),nr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{On(s.containerInfo)}catch(de){st(r,r.return,de)}break;case 4:Bn(s,r),nr(r);break;case 13:Bn(s,r),nr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Ed=Ge())),c&4&&mg(r);break;case 22:if(Z=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=(H=Ut)||Z,Bn(s,r),Ut=H):Bn(s,r),nr(r),c&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Z&&r.mode&1)for(ue=r,Z=r.child;Z!==null;){for(te=ue=Z;ue!==null;){switch(J=ue,oe=J.child,J.tag){case 0:case 11:case 14:case 15:Oa(4,J,J.return);break;case 1:mo(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){c=J,a=J.return;try{s=c,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){st(c,a,de)}}break;case 5:mo(J,J.return);break;case 22:if(J.memoizedState!==null){_g(te);continue}}oe!==null?(oe.return=J,ue=oe):_g(te)}Z=Z.sibling}e:for(Z=null,te=r;;){if(te.tag===5){if(Z===null){Z=te;try{d=te.stateNode,H?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(C=te.stateNode,V=te.memoizedProps.style,E=V!=null&&V.hasOwnProperty("display")?V.display:null,C.style.display=Jo("display",E))}catch(de){st(r,r.return,de)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(de){st(r,r.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Bn(s,r),nr(r),c&4&&mg(r);break;case 21:break;default:Bn(s,r),nr(r)}}function nr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(dg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Kr(d,""),c.flags&=-33);var g=fg(r);yd(r,g,d);break;case 3:case 4:var E=c.stateNode.containerInfo,C=fg(r);gd(r,C,E);break;default:throw Error(t(161))}}catch(V){st(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function HE(r,s,a){ue=r,yg(r)}function yg(r,s,a){for(var c=(r.mode&1)!==0;ue!==null;){var d=ue,g=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||Ru;if(!E){var C=d.alternate,V=C!==null&&C.memoizedState!==null||Ut;C=Ru;var H=Ut;if(Ru=E,(Ut=V)&&!H)for(ue=d;ue!==null;)E=ue,V=E.child,E.tag===22&&E.memoizedState!==null?Eg(d):V!==null?(V.return=E,ue=V):Eg(d);for(;g!==null;)ue=g,yg(g),g=g.sibling;ue=d,Ru=C,Ut=H}vg(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ue=g):vg(r)}}function vg(r){for(;ue!==null;){var s=ue;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ut||Pu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ut)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Un(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&_m(s,g,c);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}_m(s,E,a)}break;case 5:var C=s.stateNode;if(a===null&&s.flags&4){a=C;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&a.focus();break;case"img":V.src&&(a.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&On(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&md(s)}catch(J){st(s,s.return,J)}}if(s===r){ue=null;break}if(a=s.sibling,a!==null){a.return=s.return,ue=a;break}ue=s.return}}function _g(r){for(;ue!==null;){var s=ue;if(s===r){ue=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ue=a;break}ue=s.return}}function Eg(r){for(;ue!==null;){var s=ue;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Pu(4,s)}catch(V){st(s,a,V)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(V){st(s,d,V)}}var g=s.return;try{md(s)}catch(V){st(s,g,V)}break;case 5:var E=s.return;try{md(s)}catch(V){st(s,E,V)}}}catch(V){st(s,s.return,V)}if(s===r){ue=null;break}var C=s.sibling;if(C!==null){C.return=s.return,ue=C;break}ue=s.return}}var KE=Math.ceil,ku=ee.ReactCurrentDispatcher,vd=ee.ReactCurrentOwner,Sn=ee.ReactCurrentBatchConfig,Ue=0,St=null,ht=null,Dt=0,pn=0,go=ii(0),vt=0,Ma=null,os=0,Nu=0,_d=0,ba=null,nn=null,Ed=0,yo=1/0,kr=null,Du=!1,wd=null,ci=null,xu=!1,hi=null,Vu=0,Fa=0,Td=null,Lu=-1,Ou=0;function Qt(){return Ue&6?Ge():Lu!==-1?Lu:Lu=Ge()}function di(r){return r.mode&1?Ue&2&&Dt!==0?Dt&-Dt:kE.transition!==null?(Ou===0&&(Ou=$i()),Ou):(r=Le,r!==0||(r=window.event,r=r===void 0?16:da(r.type)),r):1}function zn(r,s,a,c){if(50<Fa)throw Fa=0,Td=null,Error(t(185));Yr(r,a,c),(!(Ue&2)||r!==St)&&(r===St&&(!(Ue&2)&&(Nu|=a),vt===4&&fi(r,Dt)),rn(r,c),a===1&&Ue===0&&!(s.mode&1)&&(yo=Ge()+500,uu&&oi()))}function rn(r,s){var a=r.callbackNode;yr(r,s);var c=Gi(r,r===St?Dt:0);if(c===0)a!==null&&aa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&aa(a),s===1)r.tag===0?PE(Tg.bind(null,r)):am(Tg.bind(null,r)),AE(function(){!(Ue&6)&&oi()}),a=null;else{switch(Xr(c)){case 1:a=Hi;break;case 4:a=Gr;break;case 16:a=vn;break;case 536870912:a=Ol;break;default:a=vn}a=Ng(a,wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function wg(r,s){if(Lu=-1,Ou=0,Ue&6)throw Error(t(327));var a=r.callbackNode;if(vo()&&r.callbackNode!==a)return null;var c=Gi(r,r===St?Dt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=Mu(r,c);else{s=c;var d=Ue;Ue|=2;var g=Ag();(St!==r||Dt!==s)&&(kr=null,yo=Ge()+500,ls(r,s));do try{QE();break}catch(C){Ig(r,C)}while(!0);jh(),ku.current=g,Ue=d,ht!==null?s=0:(St=null,Dt=0,s=vt)}if(s!==0){if(s===2&&(d=un(r),d!==0&&(c=d,s=Id(r,d))),s===1)throw a=Ma,ls(r,0),fi(r,c),rn(r,Ge()),a;if(s===6)fi(r,c);else{if(d=r.current.alternate,!(c&30)&&!GE(d)&&(s=Mu(r,c),s===2&&(g=un(r),g!==0&&(c=g,s=Id(r,g))),s===1))throw a=Ma,ls(r,0),fi(r,c),rn(r,Ge()),a;switch(r.finishedWork=d,r.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:us(r,nn,kr);break;case 3:if(fi(r,c),(c&130023424)===c&&(s=Ed+500-Ge(),10<s)){if(Gi(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){Qt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=kh(us.bind(null,r,nn,kr),s);break}us(r,nn,kr);break;case 4:if(fi(r,c),(c&4194240)===c)break;for(s=r.eventTimes,d=-1;0<c;){var E=31-Kt(c);g=1<<E,E=s[E],E>d&&(d=E),c&=~g}if(c=d,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*KE(c/1960))-c,10<c){r.timeoutHandle=kh(us.bind(null,r,nn,kr),c);break}us(r,nn,kr);break;case 5:us(r,nn,kr);break;default:throw Error(t(329))}}}return rn(r,Ge()),r.callbackNode===a?wg.bind(null,r):null}function Id(r,s){var a=ba;return r.current.memoizedState.isDehydrated&&(ls(r,s).flags|=256),r=Mu(r,s),r!==2&&(s=nn,nn=a,s!==null&&Ad(s)),r}function Ad(r){nn===null?nn=r:nn.push.apply(nn,r)}function GE(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!bn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fi(r,s){for(s&=~_d,s&=~Nu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Kt(s),c=1<<a;r[a]=-1,s&=~c}}function Tg(r){if(Ue&6)throw Error(t(327));vo();var s=Gi(r,0);if(!(s&1))return rn(r,Ge()),null;var a=Mu(r,s);if(r.tag!==0&&a===2){var c=un(r);c!==0&&(s=c,a=Id(r,c))}if(a===1)throw a=Ma,ls(r,0),fi(r,s),rn(r,Ge()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,us(r,nn,kr),rn(r,Ge()),null}function Sd(r,s){var a=Ue;Ue|=1;try{return r(s)}finally{Ue=a,Ue===0&&(yo=Ge()+500,uu&&oi())}}function as(r){hi!==null&&hi.tag===0&&!(Ue&6)&&vo();var s=Ue;Ue|=1;var a=Sn.transition,c=Le;try{if(Sn.transition=null,Le=1,r)return r()}finally{Le=c,Sn.transition=a,Ue=s,!(Ue&6)&&oi()}}function Cd(){pn=go.current,Ye(go)}function ls(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,IE(a)),ht!==null)for(a=ht.return;a!==null;){var c=a;switch(Oh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&au();break;case 3:fo(),Ye(Zt),Ye(Mt),$h();break;case 5:Kh(c);break;case 4:fo();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Bh(c.type._context);break;case 22:case 23:Cd()}a=a.return}if(St=r,ht=r=pi(r.current,null),Dt=pn=s,vt=0,Ma=null,_d=Nu=os=0,nn=ba=null,rs!==null){for(s=0;s<rs.length;s++)if(a=rs[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,c.next=E}a.pending=c}rs=null}return r}function Ig(r,s){do{var a=ht;try{if(jh(),_u.current=Iu,Eu){for(var c=nt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Eu=!1}if(ss=0,At=yt=nt=null,Na=!1,Da=0,vd.current=null,a===null||a.return===null){vt=1,Ma=s,ht=null;break}e:{var g=r,E=a.return,C=a,V=s;if(s=Dt,C.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var H=V,Z=C,te=Z.tag;if(!(Z.mode&1)&&(te===0||te===11||te===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var oe=$m(E);if(oe!==null){oe.flags&=-257,Qm(oe,E,C,g,s),oe.mode&1&&Gm(g,H,s),s=oe,V=H;var he=s.updateQueue;if(he===null){var de=new Set;de.add(V),s.updateQueue=de}else he.add(V);break e}else{if(!(s&1)){Gm(g,H,s),Rd();break e}V=Error(t(426))}}else if(Ze&&C.mode&1){var lt=$m(E);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),Qm(lt,E,C,g,s),Fh(po(V,C));break e}}g=V=po(V,C),vt!==4&&(vt=2),ba===null?ba=[g]:ba.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var B=Hm(g,V,s);vm(g,B);break e;case 1:C=V;var O=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof O.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(ci===null||!ci.has(q)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Km(g,C,s);vm(g,ne);break e}}g=g.return}while(g!==null)}Cg(a)}catch(ge){s=ge,ht===a&&a!==null&&(ht=a=a.return);continue}break}while(!0)}function Ag(){var r=ku.current;return ku.current=Iu,r===null?Iu:r}function Rd(){(vt===0||vt===3||vt===2)&&(vt=4),St===null||!(os&268435455)&&!(Nu&268435455)||fi(St,Dt)}function Mu(r,s){var a=Ue;Ue|=2;var c=Ag();(St!==r||Dt!==s)&&(kr=null,ls(r,s));do try{$E();break}catch(d){Ig(r,d)}while(!0);if(jh(),Ue=a,ku.current=c,ht!==null)throw Error(t(261));return St=null,Dt=0,vt}function $E(){for(;ht!==null;)Sg(ht)}function QE(){for(;ht!==null&&!Vl();)Sg(ht)}function Sg(r){var s=kg(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Cg(r):ht=s,vd.current=null}function Cg(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=zE(a,s),a!==null){a.flags&=32767,ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{vt=6,ht=null;return}}else if(a=BE(a,s,pn),a!==null){ht=a;return}if(s=s.sibling,s!==null){ht=s;return}ht=s=r}while(s!==null);vt===0&&(vt=5)}function us(r,s,a){var c=Le,d=Sn.transition;try{Sn.transition=null,Le=1,YE(r,s,a,c)}finally{Sn.transition=d,Le=c}return null}function YE(r,s,a,c){do vo();while(hi!==null);if(Ue&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(We(r,g),r===St&&(ht=St=null,Dt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||xu||(xu=!0,Ng(vn,function(){return vo(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Sn.transition,Sn.transition=null;var E=Le;Le=1;var C=Ue;Ue|=4,vd.current=null,WE(r,a),gg(a,r),gE(Rh),ei=!!Ch,Rh=Ch=null,r.current=a,HE(a),ch(),Ue=C,Le=E,Sn.transition=g}else r.current=a;if(xu&&(xu=!1,hi=r,Vu=d),g=r.pendingLanes,g===0&&(ci=null),Ml(a.stateNode),rn(r,Ge()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Du)throw Du=!1,r=wd,wd=null,r;return Vu&1&&r.tag!==0&&vo(),g=r.pendingLanes,g&1?r===Td?Fa++:(Fa=0,Td=r):Fa=0,oi(),null}function vo(){if(hi!==null){var r=Xr(Vu),s=Sn.transition,a=Le;try{if(Sn.transition=null,Le=16>r?16:r,hi===null)var c=!1;else{if(r=hi,hi=null,Vu=0,Ue&6)throw Error(t(331));var d=Ue;for(Ue|=4,ue=r.current;ue!==null;){var g=ue,E=g.child;if(ue.flags&16){var C=g.deletions;if(C!==null){for(var V=0;V<C.length;V++){var H=C[V];for(ue=H;ue!==null;){var Z=ue;switch(Z.tag){case 0:case 11:case 15:Oa(8,Z,g)}var te=Z.child;if(te!==null)te.return=Z,ue=te;else for(;ue!==null;){Z=ue;var J=Z.sibling,oe=Z.return;if(hg(Z),Z===H){ue=null;break}if(J!==null){J.return=oe,ue=J;break}ue=oe}}}var he=g.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var lt=de.sibling;de.sibling=null,de=lt}while(de!==null)}}ue=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ue=E;else e:for(;ue!==null;){if(g=ue,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Oa(9,g,g.return)}var B=g.sibling;if(B!==null){B.return=g.return,ue=B;break e}ue=g.return}}var O=r.current;for(ue=O;ue!==null;){E=ue;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ue=q;else e:for(E=O;ue!==null;){if(C=ue,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Pu(9,C)}}catch(ge){st(C,C.return,ge)}if(C===E){ue=null;break e}var ne=C.sibling;if(ne!==null){ne.return=C.return,ue=ne;break e}ue=C.return}}if(Ue=d,oi(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ki,r)}catch{}c=!0}return c}finally{Le=a,Sn.transition=s}}return!1}function Rg(r,s,a){s=po(a,s),s=Hm(r,s,1),r=li(r,s,1),s=Qt(),r!==null&&(Yr(r,1,s),rn(r,s))}function st(r,s,a){if(r.tag===3)Rg(r,r,a);else for(;s!==null;){if(s.tag===3){Rg(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ci===null||!ci.has(c))){r=po(a,r),r=Km(s,r,1),s=li(s,r,1),r=Qt(),s!==null&&(Yr(s,1,r),rn(s,r));break}}s=s.return}}function JE(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&a,St===r&&(Dt&a)===a&&(vt===4||vt===3&&(Dt&130023424)===Dt&&500>Ge()-Ed?ls(r,0):_d|=a),rn(r,s)}function Pg(r,s){s===0&&(r.mode&1?(s=js,js<<=1,!(js&130023424)&&(js=4194304)):s=1);var a=Qt();r=Cr(r,s),r!==null&&(Yr(r,s,a),rn(r,a))}function XE(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Pg(r,a)}function ZE(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Pg(r,a)}var kg;kg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return tn=!1,jE(r,s,a);tn=!!(r.flags&131072)}else tn=!1,Ze&&s.flags&1048576&&lm(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Cu(r,s),r=s.pendingProps;var d=so(s,Mt.current);ho(s,a),d=Jh(null,s,c,r,d,a);var g=Xh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(c)?(g=!0,lu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Wh(s),d.updater=Au,s.stateNode=d,d._reactInternals=s,id(s,c,r,a),s=ld(null,s,c,!0,g,a)):(s.tag=0,Ze&&g&&Lh(s),$t(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Cu(r,s),r=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=tw(c),r=Un(c,r),d){case 0:s=ad(null,s,c,r,a);break e;case 1:s=tg(null,s,c,r,a);break e;case 11:s=Ym(null,s,c,r,a);break e;case 14:s=Jm(null,s,c,Un(c.type,r),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Un(c,d),ad(r,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Un(c,d),tg(r,s,c,d,a);case 3:e:{if(ng(s),r===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,ym(r,s),yu(s,c,null,a);var E=s.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=po(Error(t(423)),s),s=rg(r,s,c,a,d);break e}else if(c!==d){d=po(Error(t(424)),s),s=rg(r,s,c,a,d);break e}else for(fn=ri(s.stateNode.containerInfo.firstChild),dn=s,Ze=!0,Fn=null,a=mm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(lo(),c===d){s=Pr(r,s,a);break e}$t(r,s,c,a)}s=s.child}return s;case 5:return Em(s),r===null&&bh(s),c=s.type,d=s.pendingProps,g=r!==null?r.memoizedProps:null,E=d.children,Ph(c,d)?E=null:g!==null&&Ph(c,g)&&(s.flags|=32),eg(r,s),$t(r,s,E,a),s.child;case 6:return r===null&&bh(s),null;case 13:return ig(r,s,a);case 4:return Hh(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=uo(s,null,c,a):$t(r,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Un(c,d),Ym(r,s,c,d,a);case 7:return $t(r,s,s.pendingProps,a),s.child;case 8:return $t(r,s,s.pendingProps.children,a),s.child;case 12:return $t(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,E=d.value,$e(pu,c._currentValue),c._currentValue=E,g!==null)if(bn(g.value,E)){if(g.children===d.children&&!Zt.current){s=Pr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var C=g.dependencies;if(C!==null){E=g.child;for(var V=C.firstContext;V!==null;){if(V.context===c){if(g.tag===1){V=Rr(-1,a&-a),V.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?V.next=V:(V.next=Z.next,Z.next=V),H.pending=V}}g.lanes|=a,V=g.alternate,V!==null&&(V.lanes|=a),zh(g.return,a,s),C.lanes|=a;break}V=V.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,C=E.alternate,C!==null&&(C.lanes|=a),zh(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}$t(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,ho(s,a),d=In(d),c=c(d),s.flags|=1,$t(r,s,c,a),s.child;case 14:return c=s.type,d=Un(c,s.pendingProps),d=Un(c.type,d),Jm(r,s,c,d,a);case 15:return Xm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Un(c,d),Cu(r,s),s.tag=1,en(c)?(r=!0,lu(s)):r=!1,ho(s,a),qm(s,c,d),id(s,c,d,a),ld(null,s,c,!0,r,a);case 19:return og(r,s,a);case 22:return Zm(r,s,a)}throw Error(t(156,s.tag))};function Ng(r,s){return Fs(r,s)}function ew(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,s,a,c){return new ew(r,s,a,c)}function Pd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function tw(r){if(typeof r=="function")return Pd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===et)return 14}return 2}function pi(r,s){var a=r.alternate;return a===null?(a=Cn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function bu(r,s,a,c,d,g){var E=2;if(c=r,typeof r=="function")Pd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case N:return cs(a.children,d,g,s);case A:E=8,d|=8;break;case S:return r=Cn(12,a,s,d|2),r.elementType=S,r.lanes=g,r;case R:return r=Cn(13,a,s,d),r.elementType=R,r.lanes=g,r;case Be:return r=Cn(19,a,s,d),r.elementType=Be,r.lanes=g,r;case ke:return Fu(a,d,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:E=10;break e;case L:E=9;break e;case F:E=11;break e;case et:E=14;break e;case ot:E=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Cn(E,a,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function cs(r,s,a,c){return r=Cn(7,r,c,s),r.lanes=a,r}function Fu(r,s,a,c){return r=Cn(22,r,c,s),r.elementType=ke,r.lanes=a,r.stateNode={isHidden:!1},r}function kd(r,s,a){return r=Cn(6,r,null,s),r.lanes=a,r}function Nd(r,s,a){return s=Cn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function nw(r,s,a,c,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Dd(r,s,a,c,d,g,E,C,V){return r=new nw(r,s,a,C,V),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Cn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wh(g),r}function rw(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pe,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function Dg(r){if(!r)return si;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return sm(r,a,s)}return s}function xg(r,s,a,c,d,g,E,C,V){return r=Dd(a,c,!0,r,d,g,E,C,V),r.context=Dg(null),a=r.current,c=Qt(),d=di(a),g=Rr(c,d),g.callback=s??null,li(a,g,d),r.current.lanes=d,Yr(r,d,c),rn(r,c),r}function Uu(r,s,a,c){var d=s.current,g=Qt(),E=di(d);return a=Dg(a),s.context===null?s.context=a:s.pendingContext=a,s=Rr(g,E),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=li(d,s,E),r!==null&&(zn(r,d,E,g),gu(r,d,E)),E}function ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Vg(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function xd(r,s){Vg(r,s),(r=r.alternate)&&Vg(r,s)}function iw(){return null}var Lg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vd(r){this._internalRoot=r}Bu.prototype.render=Vd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Uu(r,s,null,null)},Bu.prototype.unmount=Vd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;as(function(){Uu(null,r,null,null)}),s[Tr]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Qn.length&&s!==0&&s<Qn[a].priority;a++);Qn.splice(a,0,r),a===0&&Wl(r)}};function Ld(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Og(){}function sw(r,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var H=ju(E);g.call(H)}}var E=xg(s,c,r,0,null,!1,!1,"",Og);return r._reactRootContainer=E,r[Tr]=E.current,Ta(r.nodeType===8?r.parentNode:r),as(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var C=c;c=function(){var H=ju(V);C.call(H)}}var V=Dd(r,0,!1,null,null,!1,!1,"",Og);return r._reactRootContainer=V,r[Tr]=V.current,Ta(r.nodeType===8?r.parentNode:r),as(function(){Uu(s,V,a,c)}),V}function qu(r,s,a,c,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var C=d;d=function(){var V=ju(E);C.call(V)}}Uu(s,E,r,d)}else E=sw(a,s,r,d,c);return ju(E)}Ul=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=$r(s.pendingLanes);a!==0&&(Jr(s,a|1),rn(s,Ge()),!(Ue&6)&&(yo=Ge()+500,oi()))}break;case 13:as(function(){var c=Cr(r,1);if(c!==null){var d=Qt();zn(c,r,1,d)}}),xd(r,1)}},Bs=function(r){if(r.tag===13){var s=Cr(r,134217728);if(s!==null){var a=Qt();zn(s,r,134217728,a)}xd(r,134217728)}},jl=function(r){if(r.tag===13){var s=di(r),a=Cr(r,s);if(a!==null){var c=Qt();zn(a,r,s,c)}xd(r,s)}},Bl=function(){return Le},zl=function(r,s){var a=Le;try{return Le=r,s()}finally{Le=a}},xs=function(r,s,a){switch(s){case"input":if(Go(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var d=ou(c);if(!d)throw Error(t(90));Cs(c),Go(c,d)}}}break;case"textarea":Ns(r,a);break;case"select":s=a.value,s!=null&&pr(r,!!a.multiple,s,!1)}},Bi=Sd,ra=as;var ow={usingClientEntryPoint:!1,Events:[Sa,ro,ou,Gn,na,Sd]},Ua={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aw={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=oa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||iw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Ki=Wu.inject(aw),ln=Wu}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow,sn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ld(s))throw Error(t(200));return rw(r,s,null,a)},sn.createRoot=function(r,s){if(!Ld(r))throw Error(t(299));var a=!1,c="",d=Lg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Dd(r,1,!1,null,null,a,!1,c,d),r[Tr]=s.current,Ta(r.nodeType===8?r.parentNode:r),new Vd(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=oa(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return as(r)},sn.hydrate=function(r,s,a){if(!zu(s))throw Error(t(200));return qu(null,r,s,!0,a)},sn.hydrateRoot=function(r,s,a){if(!Ld(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",E=Lg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=xg(s,null,r,1,a??null,d,!1,g,E),r[Tr]=s.current,Ta(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Bu(s)},sn.render=function(r,s,a){if(!zu(s))throw Error(t(200));return qu(null,r,s,!1,a)},sn.unmountComponentAtNode=function(r){if(!zu(r))throw Error(t(40));return r._reactRootContainer?(as(function(){qu(null,null,r,!1,function(){r._reactRootContainer=null,r[Tr]=null})}),!0):!1},sn.unstable_batchedUpdates=Sd,sn.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!zu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return qu(r,s,a,!1,c)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var qg;function gw(){if(qg)return bd.exports;qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bd.exports=mw(),bd.exports}var Wg;function yw(){if(Wg)return Hu;Wg=1;var n=gw();return Hu.createRoot=n.createRoot,Hu.hydrateRoot=n.hydrateRoot,Hu}var vw=yw(),z=Df();const He=uw(z);var Ba={},Hg;function _w(){if(Hg)return Ba;Hg=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.parse=h,Ba.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,P){const D=new l,M=T.length;if(M<2)return D;const x=(P==null?void 0:P.decode)||_;let U=0;do{const W=T.indexOf("=",U);if(W===-1)break;const G=T.indexOf(";",U),ee=G===-1?M:G;if(W>ee){U=T.lastIndexOf(";",W-1)+1;continue}const fe=f(T,U,W),pe=p(T,W,fe),N=T.slice(fe,pe);if(D[N]===void 0){let A=f(T,W+1,ee),S=p(T,ee,A);const k=x(T.slice(A,S));D[N]=k}U=ee+1}while(U<M);return D}function f(T,P,D){do{const M=T.charCodeAt(P);if(M!==32&&M!==9)return P}while(++P<D);return D}function p(T,P,D){for(;P>D;){const M=T.charCodeAt(--P);if(M!==32&&M!==9)return P+1}return D}function y(T,P,D){const M=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const x=M(P);if(!e.test(x))throw new TypeError(`argument val is invalid: ${P}`);let U=T+"="+x;if(!D)return U;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);U+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);U+="; Domain="+D.domain}if(D.path){if(!i.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);U+="; Path="+D.path}if(D.expires){if(!I(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);U+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(U+="; HttpOnly"),D.secure&&(U+="; Secure"),D.partitioned&&(U+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return U}function _(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function I(T){return o.call(T)==="[object Date]"}return Ba}_w();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kg="popstate";function Ew(n={}){function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return ef("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:tl(o)}return Tw(e,t,null,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ur(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function Gg(n,e){return{usr:n.state,key:n.key,idx:e}}function ef(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:t,key:e&&e.key||i||ww()}}function tl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function bo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function Tw(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function I(){f="POP";let x=_(),U=x==null?null:x-y;y=x,p&&p({action:f,location:M.location,delta:U})}function T(x,U){f="PUSH";let W=ef(M.location,x,U);y=_()+1;let G=Gg(W,y),ee=M.createHref(W);try{h.pushState(G,"",ee)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(ee)}l&&p&&p({action:f,location:M.location,delta:1})}function P(x,U){f="REPLACE";let W=ef(M.location,x,U);y=_();let G=Gg(W,y),ee=M.createHref(W);h.replaceState(G,"",ee),l&&p&&p({action:f,location:M.location,delta:0})}function D(x){let U=o.location.origin!=="null"?o.location.origin:o.location.href,W=typeof x=="string"?x:tl(x);return W=W.replace(/ $/,"%20"),rt(U,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,U)}let M={get action(){return f},get location(){return n(o,h)},listen(x){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Kg,I),p=x,()=>{o.removeEventListener(Kg,I),p=null}},createHref(x){return e(o,x)},createURL:D,encodeLocation(x){let U=D(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:P,go(x){return h.go(x)}};return M}function vv(n,e,t="/"){return Iw(n,e,t,!1)}function Iw(n,e,t,i){let o=typeof e=="string"?bo(e):e,l=Pi(o.pathname||"/",t);if(l==null)return null;let h=_v(n);Aw(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=Ow(l);f=Vw(h[p],y,i)}return f}function _v(n,e=[],t=[],i=""){let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=Vr([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(rt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),_v(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:Dw(y,l.index),routesMeta:_})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of Ev(l.path))o(l,h,p)}),e}function Ev(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=Ev(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function Aw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:xw(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var Sw=/^:[\w-]+$/,Cw=3,Rw=2,Pw=1,kw=10,Nw=-2,$g=n=>n==="*";function Dw(n,e){let t=n.split("/"),i=t.length;return t.some($g)&&(i+=Nw),e&&(i+=Rw),t.filter(o=>!$g(o)).reduce((o,l)=>o+(Sw.test(l)?Cw:l===""?Pw:kw),i)}function xw(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function Vw(n,e,t=!1){let{routesMeta:i}=n,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",I=gc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),T=p.route;if(!I&&y&&t&&!i[i.length-1].route.index&&(I=gc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!I)return null;Object.assign(o,I.params),h.push({params:o,pathname:Vr([l,I.pathname]),pathnameBase:Uw(Vr([l,I.pathnameBase])),route:T}),I.pathnameBase!=="/"&&(l=Vr([l,I.pathnameBase]))}return h}function gc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Lw(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,{paramName:_,isOptional:I},T)=>{if(_==="*"){let D=f[T]||"";h=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const P=f[T];return I&&!P?y[_]=void 0:y[_]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function Lw(n,e=!1,t=!0){ur(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Ow(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ur(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Mw(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?bo(n):n;return{pathname:t?t.startsWith("/")?t:bw(t,e):e,search:jw(i),hash:Bw(o)}}function bw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jd(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wv(n){let e=Fw(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Tv(n,e,t,i=!1){let o;typeof n=="string"?o=bo(n):(o={...n},rt(!o.pathname||!o.pathname.includes("?"),jd("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),jd("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),jd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let I=e.length-1;if(!i&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),I-=1;o.pathname=T.join("/")}f=I>=0?e[I]:"/"}let p=Mw(o,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var Vr=n=>n.join("/").replace(/\/\/+/g,"/"),Uw=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jw=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Bw=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zw(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Iv=["POST","PUT","PATCH","DELETE"];new Set(Iv);var qw=["GET",...Iv];new Set(qw);var Fo=z.createContext(null);Fo.displayName="DataRouter";var Mc=z.createContext(null);Mc.displayName="DataRouterState";var Av=z.createContext({isTransitioning:!1});Av.displayName="ViewTransition";var Ww=z.createContext(new Map);Ww.displayName="Fetchers";var Hw=z.createContext(null);Hw.displayName="Await";var hr=z.createContext(null);hr.displayName="Navigation";var pl=z.createContext(null);pl.displayName="Location";var Br=z.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var xf=z.createContext(null);xf.displayName="RouteError";function Kw(n,{relative:e}={}){rt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(hr),{hash:o,pathname:l,search:h}=yl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Vr([t,l])),i.createHref({pathname:f,search:h,hash:o})}function ml(){return z.useContext(pl)!=null}function Es(){return rt(ml(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(pl).location}var Sv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(n){z.useContext(hr).static||z.useLayoutEffect(n)}function gl(){let{isDataRoute:n}=z.useContext(Br);return n?sT():Gw()}function Gw(){rt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(Fo),{basename:e,navigator:t}=z.useContext(hr),{matches:i}=z.useContext(Br),{pathname:o}=Es(),l=JSON.stringify(wv(i)),h=z.useRef(!1);return Cv(()=>{h.current=!0}),z.useCallback((p,y={})=>{if(ur(h.current,Sv),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Tv(p,JSON.parse(l),o,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Vr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,o,n])}z.createContext(null);function yl(n,{relative:e}={}){let{matches:t}=z.useContext(Br),{pathname:i}=Es(),o=JSON.stringify(wv(t));return z.useMemo(()=>Tv(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function $w(n,e){return Rv(n,e)}function Rv(n,e,t,i){var U;rt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(hr),{matches:l}=z.useContext(Br),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let W=_&&_.path||"";Pv(p,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=Es(),T;if(e){let W=typeof e=="string"?bo(e):e;rt(y==="/"||((U=W.pathname)==null?void 0:U.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${W.pathname}" was given in the \`location\` prop.`),T=W}else T=I;let P=T.pathname||"/",D=P;if(y!=="/"){let W=y.replace(/^\//,"").split("/");D="/"+P.replace(/^\//,"").split("/").slice(W.length).join("/")}let M=vv(n,{pathname:D});ur(_||M!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),ur(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=Zw(M&&M.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Vr([y,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?y:Vr([y,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,t,i);return e&&x?z.createElement(pl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},x):x}function Qw(){let n=iT(),e=zw(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:o},t):null,h)}var Yw=z.createElement(Qw,null),Jw=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Br.Provider,{value:this.props.routeContext},z.createElement(xf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Xw({routeContext:n,match:e,children:t}){let i=z.useContext(Fo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Br.Provider,{value:n},t)}function Zw(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,l=t==null?void 0:t.errors;if(l!=null){let p=o.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:I}=t,T=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!I||I[y.route.id]===void 0);if(y.route.lazy||T){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,y,_)=>{let I,T=!1,P=null,D=null;t&&(I=l&&y.route.id?l[y.route.id]:void 0,P=y.route.errorElement||Yw,h&&(f<0&&_===0?(Pv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,D=null):f===_&&(T=!0,D=y.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,_+1)),x=()=>{let U;return I?U=P:T?U=D:y.route.Component?U=z.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=p,z.createElement(Xw,{match:y,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?z.createElement(Jw,{location:t.location,revalidation:t.revalidation,component:P,error:I,children:x(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):x()},null)}function Vf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eT(n){let e=z.useContext(Fo);return rt(e,Vf(n)),e}function tT(n){let e=z.useContext(Mc);return rt(e,Vf(n)),e}function nT(n){let e=z.useContext(Br);return rt(e,Vf(n)),e}function Lf(n){let e=nT(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function rT(){return Lf("useRouteId")}function iT(){var i;let n=z.useContext(xf),e=tT("useRouteError"),t=Lf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function sT(){let{router:n}=eT("useNavigate"),e=Lf("useNavigate"),t=z.useRef(!1);return Cv(()=>{t.current=!0}),z.useCallback(async(o,l={})=>{ur(t.current,Sv),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...l}))},[n,e])}var Qg={};function Pv(n,e,t){!e&&!Qg[n]&&(Qg[n]=!0,ur(!1,t))}z.memo(oT);function oT({routes:n,future:e,state:t}){return Rv(n,void 0,t,e)}function tc(n){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aT({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:l=!1}){rt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=z.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=bo(t));let{pathname:p="/",search:y="",hash:_="",state:I=null,key:T="default"}=t,P=z.useMemo(()=>{let D=Pi(p,h);return D==null?null:{location:{pathname:D,search:y,hash:_,state:I,key:T},navigationType:i}},[h,p,y,_,I,T,i]);return ur(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:z.createElement(hr.Provider,{value:f},z.createElement(pl.Provider,{children:e,value:P}))}function lT({children:n,location:e}){return $w(tf(n),e)}function tf(n,e=[]){let t=[];return z.Children.forEach(n,(i,o)=>{if(!z.isValidElement(i))return;let l=[...e,o];if(i.type===z.Fragment){t.push.apply(t,tf(i.props.children,l));return}rt(i.type===tc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=tf(i.props.children,l)),t.push(h)}),t}var nc="get",rc="application/x-www-form-urlencoded";function bc(n){return n!=null&&typeof n.tagName=="string"}function uT(n){return bc(n)&&n.tagName.toLowerCase()==="button"}function cT(n){return bc(n)&&n.tagName.toLowerCase()==="form"}function hT(n){return bc(n)&&n.tagName.toLowerCase()==="input"}function dT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function fT(n,e){return n.button===0&&(!e||e==="_self")&&!dT(n)}var Ku=null;function pT(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var mT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(n){return n!=null&&!mT.has(n)?(ur(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rc}"`),null):n}function gT(n,e){let t,i,o,l,h;if(cT(n)){let f=n.getAttribute("action");i=f?Pi(f,e):null,t=n.getAttribute("method")||nc,o=Bd(n.getAttribute("enctype"))||rc,l=new FormData(n)}else if(uT(n)||hT(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(i=p?Pi(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||nc,o=Bd(n.getAttribute("formenctype"))||Bd(f.getAttribute("enctype"))||rc,l=new FormData(f,n),!pT()){let{name:y,type:_,value:I}=n;if(_==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,I)}}else{if(bc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nc,i=null,o=rc,h=n}return l&&o==="text/plain"&&(h=l,l=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Of(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _T(n,e,t){let i=await Promise.all(n.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await yT(l,t);return h.links?h.links():[]}return[]}));return IT(i.flat(1).filter(vT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yg(n,e,t,i,o,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var I;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=t[0])==null?void 0:I.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ET(n,e){return wT(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function wT(n){return[...new Set(n)]}function TT(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function IT(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let l=JSON.stringify(TT(o));return t.has(l)||(t.add(l),i.push({key:l,link:o})),i},[])}function AT(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function ST(){let n=z.useContext(Fo);return Of(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function CT(){let n=z.useContext(Mc);return Of(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Mf=z.createContext(void 0);Mf.displayName="FrameworkContext";function kv(){let n=z.useContext(Mf);return Of(n,"You must render this element inside a <HydratedRouter> element"),n}function RT(n,e){let t=z.useContext(Mf),[i,o]=z.useState(!1),[l,h]=z.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:I}=e,T=z.useRef(null);z.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let M=U=>{U.forEach(W=>{h(W.isIntersecting)})},x=new IntersectionObserver(M,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),z.useEffect(()=>{if(i){let M=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(M)}}},[i]);let P=()=>{o(!0)},D=()=>{o(!1),h(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:za(f,P),onBlur:za(p,D),onMouseEnter:za(y,P),onMouseLeave:za(_,D),onTouchStart:za(I,P)}]:[!1,T,{}]}function za(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function PT({page:n,...e}){let{router:t}=ST(),i=z.useMemo(()=>vv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(NT,{page:n,matches:i,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function kT(n){let{manifest:e,routeModules:t}=kv(),[i,o]=z.useState([]);return z.useEffect(()=>{let l=!1;return _T(n,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[n,e,t]),i}function NT({page:n,matches:e,...t}){let i=Es(),{manifest:o,routeModules:l}=kv(),{loaderData:h,matches:f}=CT(),p=z.useMemo(()=>Yg(n,e,f,o,i,"data"),[n,e,f,o,i]),y=z.useMemo(()=>Yg(n,e,f,o,i,"assets"),[n,e,f,o,i]),_=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,D=!1;if(e.forEach(x=>{var W;let U=o.routes[x.route.id];!U||!U.hasLoader||(!p.some(G=>G.route.id===x.route.id)&&x.route.id in h&&((W=l[x.route.id])!=null&&W.shouldRevalidate)||U.hasClientLoader?D=!0:P.add(x.route.id))}),P.size===0)return[];let M=AT(n);return D&&P.size>0&&M.searchParams.set("_routes",e.filter(x=>P.has(x.route.id)).map(x=>x.route.id).join(",")),[M.pathname+M.search]},[h,i,o,p,e,n,l]),I=z.useMemo(()=>ET(y,o),[y,o]),T=kT(y);return z.createElement(z.Fragment,null,_.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),I.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),T.map(({key:P,link:D})=>z.createElement("link",{key:P,...D})))}function DT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nv&&(window.__reactRouterVersion="7.0.2")}catch{}function xT({basename:n,children:e,window:t}){let i=z.useRef();i.current==null&&(i.current=Ew({window:t,v5Compat:!0}));let o=i.current,[l,h]=z.useState({action:o.action,location:o.location}),f=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(f),[o,f]),z.createElement(aT,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:o})}var Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xv=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:_,viewTransition:I,...T},P){let{basename:D}=z.useContext(hr),M=typeof y=="string"&&Dv.test(y),x,U=!1;if(typeof y=="string"&&M&&(x=y,Nv))try{let S=new URL(window.location.href),k=y.startsWith("//")?new URL(S.protocol+y):new URL(y),L=Pi(k.pathname,D);k.origin===S.origin&&L!=null?y=L+k.search+k.hash:U=!0}catch{ur(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=Kw(y,{relative:o}),[G,ee,fe]=RT(i,T),pe=MT(y,{replace:h,state:f,target:p,preventScrollReset:_,relative:o,viewTransition:I});function N(S){e&&e(S),S.defaultPrevented||pe(S)}let A=z.createElement("a",{...T,...fe,href:x||W,onClick:U||l?e:N,ref:DT(P,ee),target:p,"data-discover":!M&&t==="render"?"true":void 0});return G&&!M?z.createElement(z.Fragment,null,A,z.createElement(PT,{page:W})):A});xv.displayName="Link";var VT=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:l,to:h,viewTransition:f,children:p,...y},_){let I=yl(h,{relative:y.relative}),T=Es(),P=z.useContext(Mc),{navigator:D,basename:M}=z.useContext(hr),x=P!=null&&BT(I)&&f===!0,U=D.encodeLocation?D.encodeLocation(I).pathname:I.pathname,W=T.pathname,G=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(W=W.toLowerCase(),G=G?G.toLowerCase():null,U=U.toLowerCase()),G&&M&&(G=Pi(G,M)||G);const ee=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let fe=W===U||!o&&W.startsWith(U)&&W.charAt(ee)==="/",pe=G!=null&&(G===U||!o&&G.startsWith(U)&&G.charAt(U.length)==="/"),N={isActive:fe,isPending:pe,isTransitioning:x},A=fe?e:void 0,S;typeof i=="function"?S=i(N):S=[i,fe?"active":null,pe?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(N):l;return z.createElement(xv,{...y,"aria-current":A,className:S,ref:_,style:k,to:h,viewTransition:f},typeof p=="function"?p(N):p)});VT.displayName="NavLink";var LT=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:l,method:h=nc,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:I,...T},P)=>{let D=UT(),M=jT(f,{relative:y}),x=h.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&Dv.test(f),W=G=>{if(p&&p(G),G.defaultPrevented)return;G.preventDefault();let ee=G.nativeEvent.submitter,fe=(ee==null?void 0:ee.getAttribute("formmethod"))||h;D(ee||G.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:o,state:l,relative:y,preventScrollReset:_,viewTransition:I})};return z.createElement("form",{ref:P,method:x,action:M,onSubmit:i?p:W,...T,"data-discover":!U&&n==="render"?"true":void 0})});LT.displayName="Form";function OT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Vv(n){let e=z.useContext(Fo);return rt(e,OT(n)),e}function MT(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=gl(),p=Es(),y=yl(n,{relative:l});return z.useCallback(_=>{if(fT(_,e)){_.preventDefault();let I=t!==void 0?t:tl(p)===tl(y);f(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:h})}},[p,f,y,t,i,e,n,o,l,h])}var bT=0,FT=()=>`__${String(++bT)}__`;function UT(){let{router:n}=Vv("useSubmit"),{basename:e}=z.useContext(hr),t=rT();return z.useCallback(async(i,o={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=gT(i,e);if(o.navigate===!1){let _=o.fetcherKey||FT();await n.fetch(_,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function jT(n,{relative:e}={}){let{basename:t}=z.useContext(hr),i=z.useContext(Br);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...yl(n||".",{relative:e})},h=Es();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(I=>I).forEach(I=>f.append("index",I));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Vr([t,l.pathname])),tl(l)}function BT(n,e={}){let t=z.useContext(Av);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Vv("useViewTransitionState"),o=yl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=Pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return gc(o.pathname,h)!=null||gc(o.pathname,l)!=null}new TextEncoder;const zT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAdTSURBVHgB7Z3dTtRaFMcXdaKi0YhRExMT6o0X3ihXiMak8wTqExzmCTznCZQ30CcQn0B9AiYhQOACOCEhgQRSEi5IIHwGGAgfrn/Ze1LKdPq1d3eZmV/SdGiGYfpnde2111rd7aKCMDExYZ+dnTn80rYsqxd7bOfn5w+6uroe+N/Lx7b52Da/dLE/PT39n/ezfNx99+7dLBWALjIEhGRBPt64ceMDC/I6KF5ahOiz/Nl/+LN/DwwMuGSAXIWdmZl5UKvVPvPLQbqwyDxwWeTveYuci7Cjo6NOqVT6wi8dMkuVLfr727dvf5NmtApbIEGDuOzPh9gfD5MmtAhbYEGDuCcnJ5X3799XSTFKhYUPPTw8/MGDx0e6XgzzNqTSBysTdnx8HGL+UDW6G0Cpe8gsLKz06OjoCw8K/1ILwOfxrbu7e6ivr2+bMpBJWMSivBuh/EKnvHB5K2dxDRalZGxs7DX/d2eo9UQFNm8jOEdKSSphJycn/2FfOnKN/WkcbJ5UjOBcKQWJXQH+EDv5YWojOHcx2N/f/zPJ7yQSth1FlSQVN7aw8DdtcPmHIrJo5bjZs1jCtvDonwiIywN2X5xoIXLwQpxKHVE9kBvm3YjQpCmRwiL4p46ofmyetn+JelNTV8B+dZCd9g/qcAW23k/N0o+hwnb8anPgb2/duvU8bOrbzBV0XEAT4G/ZTYZezQ0tlq3VoQtr7RAB53PLjfK5pZD3G/WrnCSnR48e0d27d+n+/fvEU0vvGOAToePjYwyqtLm5Sbu7u95rg98VV3Y1ePyKxZocsCBeb28v9fT01IWMw/r6Oq2urhoTuJHVXvn2LGpkKKEDWOaLFy8SCSp5/Pix9/srKyueFedNI6u9NHiJKoBNOfPw4UN6+fJlKlElPEJ7/xgIbAAHdT7/gUvCcgjxmXIGguDyV0Vaq8+KsNo6dWFF3OpQzjx79swTVxXSTxvA8U9168JyXJZ7ZRWCwj+qJungp4qDg4N63a8urAk3oMsfQlSImzc88NerDZ6wwg3YlDOIU3VhaBCzp6enPT/kCWvCDYA7d+6QLlT67STUarVP2HvCshv4QC0GZmsmkFpKi01d5s2CKavSCQvraWlNTU29NlXH0jkF5foUmQBZL/hZi+e5NhmiFYUFXGEoW6bcANjf3ydd7OzskEFsi538KzLE1tYW6ULnZ0eBm1MsUXk0AlwB8qmqwZVgMkdLsFgyXH5BHlU1a2trZBjbqMUCWKxKq4WlIvFtEkRZVhFahpaWlrySS1bwGfPz82QaGGvq/liVwMqWl5cpK/gMw761TiGEBSipLC4uphJGWqqJskwY+SctmwBhMKLbth077Qf/DFdSFEuVlMS9p4VpzYRACwsLXtpPFgmDOQVYKOJUDFI6wrWsoEumJO6iLlzPqz9aQOL65s2b3mtMVYtmnUFgrHAFLhW8lQgWqiJqyBEXcewKdVAKa7oDYV3qoBTWdFa6gkKBwQp+FfuwSoD0s9gXzediIYoSZ2KqZBAUFO/du1dvgEtbVeDSsycw0oV7e3taU5JRwAt4TXHj4+NbeYZcKCI+efLE6yjUVf+XmbO8m+UQZb1586anJH7ALTYOaQaCIvjPozQtm0Gw5dmNCP+KfUn88IfFdUgjaCXCZgIpMMTVkab0Ay2xl+VvbWuk4FJHJ6EpUf3gO2TtaoxCaukJK24Ic0kDBlsrGyL7cDXhypvr/NmtRDfhxgEWUiRRJfhOOq4grJAkX9eFrdVq30ghGDyKcPmHobp9FPhdal3YcrmMZEyVFFFkUSVPnz4lhVT999gGE91DpAidnYSqUNnq6XcD4JKwrHiVFFmtTPO1CW7w9s9GpRklVjs3N1fovCmmwEioK+KKZmF3JuKuRIcUIIPzokQHmOai70BhfQwh1vPgwbBIGf8BhxSA6SQ2jMAQF34N/jevFk6ZM0BSZmNjQ3nCHEv4NToeevc3J2Z+6VxKD7Mf5A4gsH8Dcu+/1TMIBJIdhdhzuFgv22CDkLg1VHPlYZittaGwoXM7/nIVPkFHV9YLJ1zEQmACXGoyHoX2FYi4tkIdwmi6yGTThg2EEMH4rMNFzMqiDjd7T5w1Yb5SAcs3BnG7u7u/Rr0pUljhEsqolVMHl7dynJU6Y/VuwZewsG0tLs797OzsU9wVOmM3xWGFNI4Q/qM2Beee5BkLiReN5FnZIBle2sQAlajBKkjiNk7xByrt4BbEOSYWFaRe8RiLSFqW9YtadAkpiIpxJe0jVjpLSTfGJVNLSQP8YZ6j97XSJALncvv27b6BjEv3Z15VXiIGtWu7uhwufU76VPr7+5W0Aih9wARcA3/BrxyapFrX2hT8nX/zbKqSdYl+P0qFlYgl/BCS2VRsqnSRTKmSYrQIKymwe6iSJkElWoWVYKE0sZiPQ2apkmZBJbkIKxE+WIpsUz64vP3kkf6bSh8aRa7C+vGJrOXRfqKDsj0e7dcM8TgAW4j8Sggd+TBKuniqEW5QcdGdbkrIIH8BDAGBkF/hM9YAAAAASUVORK5CYII=",qT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASdSURBVHgB3ZvBa9RAFMZfrYqwFVuQ9qAiFVER9eBB9GBBBLGX3v0jPXuqFL1URBFaxHpQtBWxB1u0C7IFcX5Nxk7fziSZbHaTzQePbSazs/PlvXnvzct0QvyYNTJvZM5IR4aDrpE1I58lHieMLEgyT40dI7tGNo180zcn1DXk7gYGGgZ6Rp5KPFDG3QL9eKjL6ecBjjk3Z4wsyujIgn0ph5MF+6HAx0ambcOkc+ORJKYyKkD2nSTmF4vfRk4bOVOgLxwvGvnKb1qTXpL+tbotyRrbkfKaqAPW/1xS7fBZhv15I5fVzXUjq5LY/l8ZLzBn66zmnHYUug3h65KsX4tPRt7K+AONou0ptxGnNa06lgkTTcW6up6D8Ixq3Jb2QDvEzjFpN3q64bgMDkLZTCr8jUfHszfSUgYhDLlrRq6KP35DfEuS0NaVhqAsYbR5X7LzbB4C8RBP+ULKJRiVo8wahuxDKb6p6KT9p6UBiCXM5NGsNmHMl/i9ln5qEyb3XZDRpq5exJr0TenX7IYkRHX6eSPtb8H3rqV9a0Oshs+rawI7WZkv1+behmq7IjVrOYYwzsedrN3AZwHS7sPAtGekRsQQ1hP9kf+Vg8C/mTPOSBFDWJti0djazRlnpIghrNdp0bA0lTPOSBFDeEdd48CKaGs2Z5yRIoYwmZJ2QLdyvkNoci2BNV1rjg1hl0TWumSyH1QbYeampy+av+25tyU1g8TjjSQTQ2N5YeajJLUiV2tokZwZze2l9y6I38mtS82YkHjYXDrG22JF1IfrWL9P3IsymwcmfaS4nQNbDK/VWVlMSjn8kWQ9ouWpwDho9b0cVj/rwhE/UsakfSD06IrHsOrZ7nsv0JPD3Rp+RD/cIyZdRYlH0h8adriBKO+TdMLTce5Dlqpr0PlWRXjY0FvNEDpyGPtXfR2aTpglcs/IOYnDfPrZR7rJhG1pyJezs14xXUyY/IHykS5OzPsGrcppVQ00imZ9yQta8/mLrAf0H2XD0jDBGrwj/XPD669IuPppy8JsaoLvj6vQ8Gz6I+6Lq710YjZUFEHWeqVUVPQFX6amByFc9HhE37GDwFihSUJ0Q+Ln5h2vrEnbAYuUazAv3k7wcH3aRqMPjJxS7Tyg51JuhxU0byaBKbED6qWd8rKjQs4hgG76Gzvp98mWQidxXsrgKSm/seQ2EJYwS1t+PTgWkDOAj6x7PAKged+xA753VbIRs17z0PfAIOzWmrPWY4gse1ydym074iveh1BmvUahaOIRQ9YFyQGkCTWXMvrRB7JD30IWIVyWrAVm9UoSQqzZ6XQsfAahq4jfqAx5hAcl68J6zlrrWlkVjyrJNgYhwq0kC3yEW0sW+Ai3liwIadhFa8iCvDJtq8iCLMKtIwtChFtJFkBYJ9j2kEoboPcGuxDWRxdqPZJQMXT+/pMCwL66gZcObdbHCWxY9FZ0HcKYtD5Iba970qBzkgVAMeOsJHt8rV14vLY1LbS6KA04KTckYMXPjHQnnYbvkvz3RxNLt4PAvpv+xYVLjlegXySnrjtmwA+tSEoWhMq0kKaaaA9+jxNYq0QeW205gn8V7PTp/QnotgAAAABJRU5ErkJggg==",WT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAcDSURBVHgB7VvNb9xEFH8z9kYVpMGoCQKltA6UzQohdXvrjc2ttKFduHFquPXW9AScsrnBqclf0OQfoAlqSuFS9wS3urd8VIqDElEgFW4TKWmy9vCe90Njx95sdu0la/hJ++HZsdfz/N6bN7/3hkHC0PWivp/ZK3CunBcgdCGEDgw0BkyX++FvFr7ZjDH6fOI4jikywny2+MCCBMEgAZw+N1pgCrvmglsMDvSowPMtV7gGc9ns+tN7BsSM2ASg6QWtt6f3Jl5xnA4hAXjCcJ1JR3GNuDSjbQF0YuAhsNFkZhzmTLcriLYE8E72k6LClDvQeOA2vkx8PRHMNYGDmXF7bGtxzpI76bmiXoayzlzQBIMCNp3HVwEa3nxFIzZW7s9Ai2hLAO8Of7pKji3kJxq0gVef3t7dNm3LsKEFkHad7OktuFwUmWDXo/qRIPbZ/kgr2tCWAE4Pj/4N/qdvVwc91eqgo/B27pKuAC+AYBMRjpXMYnJjaWEKjgAF2sDJgXN/4EeekRwZfLf9avuLP5/+/GDXtnYhZmxvPrW3NlfMrecr030DWUaah/8rC/8EHl/qO5WFl8+XHzV73USmwU6gohFKKcw0MNaY2Vhe+LKZ63StAGoYHL4yjk9+AgKOGIVgohAuHHZ+1wuA4GmDUB4eiC6b0IS2fMBxAfmH1wfen0cBFGW/gGF1/mT/Bxr6jZ+izk2FAAiRQgB2EYXwAoXwa9h5qTABGRHmYJdZ+UJYnMAhZfAGqYjPoBKM1aCpQr0T1v+ACVB4q/Xnfnmjf/iGdipnv3i+9AS6DFt/rTxDtX9FcYHUrIeZgs8ESH0yIvNQCm/t9aV7b0KXAiPVu/hRlJpsDNaG5CjVZwKqq16XY3v8Hms467u57OgEhdL0wrn8NiQAtPtbEDAFXLmOy33qAqCnj9PGmPwjHs9CAsBF1G3UvRJUghdih8ZRICWIGZ4/EDDta2RwkxZZtcO6AGihEXj61vrivRIkALz22IFGvDFIAOqeSoujSC2oC4ALZcJ3pismIQWwrDk7TAtqXz0BEIcXXNcT7QRJIXhDFSRiboQwLTidGy3QF08AQhW+FRXF0EmysevLnmlNV2+KOIRJnG3GISF4WkAEjQynMjuo9MaFZ//135DNnYeEUR1wYoM+ACRqcIj1KZFxdo3+n5P3D6r/zt6OASmDuqsSL1k3Axrz0NDnZ3nGVfOBvkbcdNZxQNUMTLltT90d4aj4fgG40HWh7xHgGxsDnlfx/bzciFy7AR3AmezV6y5zpzAIspHWKv22/ENis0ANRMszIQW/XOgcjUGXOylc6Yj6CyZK+KGRLZIgoBNw/CaA2n+W4434uLTMq55V6AACjrcjGSWMbXwPlwPXeJBHW139fg1SimBsQw8hdYTIUfG/AOA/Du5VZkig6AhSCop65WNKqnKcg32eEaOjrqXADoNaVnX5GNc8NkcxWIF+eUgpGPdPt0iIrpEPWPM38tQKoFp4ITeY3KvakMH9oXHK4A/7wTG5AweYn7xMGqYFul6kMRXkNsGFySk6CswEWu+J3tSZgdNTLsjHNGYauxcH4HTgZ4BEMgztvwmXi2u+BlGhyCqBEIO5QP9CmszAy3mIQM6DV3IengCQ/zfgkAxKN8MrrpJQzXkY9J1LrQ0zKN2MRjmPugAOy6B0KygHGeAebDnnURdAVAYlGD93E8LynYhZmRfwZ4dDtEAVaiKZW/BT1BYkAAWUiWC+EzPGU/4+8h3Zi7shhQW5RjU2rUIusuSMf/Nyc9mEGHFm+CpN5V/7Gl1x6/flHw25KbRGCHP2D8EfNdnCdUc2Vu7HepNJgVQfNfcxSFwjPf2NpYWhYN9QQgTVhGrrfKbAuXK3G/xBrcoFAjXMSPePhPUPFUA1PPalx8mW6MLHWQghJT4eaCxRyd7IOkGy+b7+LJEjF6VmDR1L8bWB9+apLg+OEaIGT5lnVP1vo847tE5wMHdlJliQ3E59fhIY/PBynjvK3QNPnonZjcWFsUbnNlUoicHEY+wZXCG2VJ8fN8jbI7VVgqSLpcM0ofpHMw53JjutDVVPTzFKMfhbM0++hqZrhbc2V+ZoowIESAUqSCa/0Hcqqx1lo0KroPVJ/1sffYVprRkI5y+nUStvQJM4cq1wVH1+5WLxb2uroYndaS2ZZEvF0lH1+TLINFzHnd9xdox2Nk31qshOKR5BU4DoJKpBsUvHN00N5i6PNdjEJMPAPma5XH6kMMVGft7CxZcld6husaUB5qvbbEm96dVwS167jrjtcvmqMyK1JAfZKf4gtt1pse0XaGJbWxyIfVteMpunc17hJZoHfNyuMGgR45G2yFvWaKw4kfiOES9EddW8V4xF9UgCdKpKCds+7+UpK6m6NUrYZKDHCG6xjRv/AF0bOBSDHmXQAAAAAElFTkSuQmCC",HT="/assets/logo_icon-Bug9MN-U.png",KT="/assets/logo_big-Cp0kVrXR.png",GT="/assets/logo-9xkPj2hX.png",$T="/assets/pic1-Cav6XP8G.png",QT="/assets/pic2-CxFhh4uq.png",YT="/assets/pic3-LJNB-Dr0.png",JT="/assets/pic4-BREKihcV.png",XT="/assets/profile_richard-Bfd_-P-Z.png",ZT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJjSURBVHgB1ZiBcdswDEUhT6BOUG7QbBBt0G4QbVBvYI+QDdxO0Gwge4K2E1Ab2BsgQMRcFAikSEnkJe8OpxNNgl8gRMGsYAGI2NDljuzeXWtnzI2sd3Yhe6qqqodSkLia7EB2xXT+krWQk5UCJTaLYHJ655xvTUdmYAvI0c/ARBzdE0fHPUw9Gscr0JDtnSAflsfCGnBYap/A41hYhC9D9ivgb5nYQCQfUwR6BHebiHXONEctbIRbEYlNCgLqL866PIoX+yd28EEZvIdMuFSSNHODtCV/hMzgNGe7uQF7nOaMgfxCm6So4jQ3WygE52ZUVJWn4rd88Ta0QGjU/DuyRrRdqNq5QSForjMMldYrLHKy07DQb6LtCcpzEfeqUCPa/kF55JwyeKrQHsrTi3sjO7DQd4lbMj9HzM65g08CC333NLQ1fIXyzG6HLLQXbV+gPEbc/5cddkpjA+W5F/e97MBC5dbwHcrTiPvpFumpnEp+Qlsxt9X67dzhwFm0Z6tDFR7E/dnbUynzroXKvFZZTRMaUOP0gKGDjLiUs2LOU8xA7ekOkAmc1qHhaIrBXQmxOBxeSI4pDrTl2EysS7FO8W+XOOMjGu1AzOKKFwyHSt6in4clTn1imRPO/a2dCuwwDq/YKjCBoQu/+cbTpYdhz+NP8PhLUrsxXPz+AH/BwWO0w42W9vbfkAKGD7jWcHT+W0yM7JxgdmhxPR2KI6LNxTqnnG+pEeZc5+ObBsKBCIqtYCFuYjYutM3op5uzl9x1f4dj/LV00b5M6TmbG8yRBrnwiL3CRwQja9QPAb7tNC8n3s9GsmlLVaiiEgAAAABJRU5ErkJggg==",eI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAduSURBVHgB7Z0/bBtVHMe/73wJKajFI1vciU60naALShYkBmgyMCC1ohmKVImqZUMopU6JEBIDiYrE0KFBGRgYmtKNpRFLCwuBBTYuGxsuiNRpknu87ztfcrbPvj/23T3/+Sx2nXNP99Hvfu/3/tyzgCFMVWXl4AAzQqACgWkB9SpRkUBZvS8Hj1Wf1dRnNXWcAxc1KfCret2SLpy9z8QWDECgIBoi5yzgvBJzplVeWrR0gS3Xxf3SHjbqnwsHBZCr2PJ1Wd45gWvqpJfAiMwHx5VYzVtyLmLtRTlTEripzjaDIhHYlAdYfbYsNpAxmYo1Rmg7jOKlvU/FGjIiE7EGC23FOXCxsL8sNtFn+ipW59DjuKsajzkMEFJizdrDUj9zcN/ETi7KOVhKap9a9wLoa3roWSyj9OmL6raXuI4hQMldeeFfLNVWRA090JPYqY9kRU7iIfIrnfLCEc8w20tqsJCSiY/lGXcSv2D4pBIdMLxGpCSV2KlP5HvCxsMBzqdxqFjqGnmtSEHiVMATqW7jGkYI9hTrt8Q3Cb8Tn1GU6pNUbmyxzDcjcPt3o+buYzbu6FkssUPc+ielpqqFs3GqhcjGi3XqWOoh2gWdRB0YKVYX/2OpQSr/HddOutI1FUzckJcsgbsY04aarZjvNvzYUew4r0ZSO/YPTnbq+nZMBe7EOAVEUH56vPPdHBqxU2o8VVo6WsdEoMZzZ8PGc0MjVkkd59WYlErhDVmbWDZYGKeA+EjMcMak9eM2sZaILiXGNBMWtU1i9SzAOFqTExK1TWJFCdcwhLx1Cni9gkxpjdpDsaxbaR5DQnkK+OA14OcrwLaqNH90gIuph61joNwFu7r24ecTgzWz2gkt9Jwnlbyh6pvf/gIWZ5Xgv5EpOyf0vF+V7w/Fqop2oNNAUCjfM0rf+fZIKqP15S+RKapTwNmGauP9Yff1TwwgrUIJpTJS+UqpizPev5kOskZMolJfFNs6YgcxDYQJJWFSKTQPqUTuYl69rHipwMJ5rn8cBDoJJUGpX7wJXG3k2eU8O+d06YuVUq9PNZrpsifqwtl2oSQo9c78UQXw4I/8olWjXPJFvKDmsvZtvT7ASCiUt/PFs52PYQNFqbV6s1TCBmu7pzUtyWGetfcsVEyMVhb0zJFRhX03qetb+UslB7uYtVVOyLJsTkxcoeR7dZu/f897z47AKy81/z3X3BqAz1HYQuI0DAjZJELJukpelze8fPvDQrvUoqJVIzDNiC0XWREkFUqipJKiopXwiR+bj/ygANIIJRS2vOk1at+9Gy610GglyqndeI4qN9IKJUGpjNTpcufjCqZs57VkiK01hU6nPFtcqYVHq0fZRoYwB15QQq+eSy+UxJXqH2sCmYlldIZ1O5OSRKoh0apJvaI7CrbcD35HT1y+F18qMSVaicVnT5EBjByWRJSTJor4PUZgEqmmRKuiZomMxPpQDvvrcaOJXVN2Ufk9llI/XYmWSqHrsVat5kbN0o+m5wBvaQpe7zLc40vlaBSlMlLj5Gj+nwZFK3sIjqWGDLeRE93Sgy+VgypJpBoYrewgPGHj5SBnWtMD5bz6tSf17VPxpZLbjwyLVug9E7ZsFbGOKGgQhunBjzbK4Zjrnbn43+d3vnoM83CV2FIJm9JFYfjRxkhNIpWYVF4FkbbKsfWqcGTGlUEcmGOTYGRu9ajtVcWW7iBwDxUUTNKZVFOjFQ2XXs/LxX0YQFxZBkfroUsvYkvYgAEwYtdjTGsaG604cqnFMs+igLIrDFYK3fKt0dGqHDZcHg3CqIor9nOiWaJLqEed/25ytKoCdtV/eyi2bmEFhnD7cXjUGh6tTSn1aNiwKril3SYM4Ek9PGqNjlblzk8DpHlF9wGWYAiM2mBX1fRo5UZpwX83ia3zeSWDojYYoZfvwWSc1sc/22YQTIpaRqjfcch1YVtChGx3Fjr88txN+dCU5xH8aXKDxTq7t8TJ1g9DJxMZtdIyQ6zJkUq4hV/Y56GTicy1UpjRGzMZ5Wit076IHWdpnwksmDDqZTCOmjDs2B51nv5mXdshzMd4DVawbm2l67qCRgmxijHNuFitR2wuGblgY9fSzy05GOPjHLO9Z7m6Eb0SRqUEYWF2nG81Dl3UqtE7dcZaYqSnb0ZcLq/dtTDfLa8Gib12S8/jSHyIEYXXTgdxj0++aeQNeUmO2JZRqgJYqCfcCTnxakOegCcahbSgf6wihVSSeqnGRFWesVxwzKmCIYRS2a4kuf2D9LaVdFVWpDukW0krqXEbqjB6WnjME6s6lw9jDk8nQhX/x9Q19SKV9G3VVqNRu4kBjV7e+rbqwu/06edS+rZUXjdqXq1rxGxvEjiS97yFkzt9/A2aTNYZNrbwY0lWgclIbOrBFNN/EqUVY9NDhkJ9clkZy43S9J5eRU/35CDUJ9clx7o8O8BcY8ekCvLB4SqfKQsrcQZP+kVBa7kDki2cb2ydUkYfaPSWWNTf58qUXsumtBQmthX25MS+imJuTCFwWouO8WOUkmPFEttc8s/V6UWJbOV/J4waAuvSu7cAAAAASUVORK5CYII=",tI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAADJElEQVR4nO2aS0sVYRjHRwzTtmGBlzblLi/RouJ4apFF9QUCo2UoXhd+h26ifhItEEzzCxgGrhKsNqbVNrMg8cAvHnxfeHw7ozPvvEenOn+Yzcw8t/M+9zlRVEUVVRw5gBNAG3AduGOuInBBnkV5BVADdAPjwFtgh3jIs2XgOVAQ2jwYcAoYAT7ijw/AMNBwXCfwEPh6gIK7wDqwaq51cy8OX4AHR2nEGWChjCIlYA4YBC4CdWVo64B2YAiYNzQu5oDGShtx2fxyGtvG35s8+DWZuBIeGptAV6WMuAF8dwROA80BeLcAMw7vLcl0YbTffxLaiF/Ao6BC9uT0ORlvK9jJAGcddxI3uBmEeXl5PY6rbWaOGZOdFpyTqJgRFsAt52TmoiwwKVYjuDsdILvfkd2bpdjpOjEdXNvDdXih5H8G6n2YjDhxkTk7eejQCvxQegz6xIZuO555KjJmei+5xjx5TCg93qfqzUwDaLHrU+wMnynFZypDjSkpPtfSEEu1tXjlo0AoQwRO5nwSJYVxBT+/rIwhw4rPmzRDkc7h7TkwpNOpZbVJiNqc+KjLgSEnnTg5n4RIRlKLjYSCRoGnZS6ZBC2WY94ZTShjU/HqTkJwTxG8SyhkBX+sJJSxqmju/leGFP8C1yqkDfZSToK93ifY/430K3BcYig6fkNGFJ+lNISyTLCYz4Ehi4rP4zSEBSdOmnPUNF5J28bLBtBi/Bjb+Emlx1rWRk0Gq5boiAGcA34qPQZ8mDQ425OZimh7sA4vlfwNr1HXMOplP/qCaxsve8CRfT8Lsxqzi7WQ+tITVOPycm87tWw2BNNGpz3YrqQx7O209ILuE3A6FPMus77UJ9MfhPmf7rSj5HwDOkILKTrGYPZOrYGykw5sa8Thc4enwEuOm2H2ThM+RdMUu0knxVp3CnsSMTGjE4CFVN/Xpi/qkPE0ZmTtNO8sxnzomQ0WEylSs6wx41Ayud9+etuIUdxCnvun2IzG1JvPaLIB9MWaCXK/YhcasgGU5ZnsnQ75PC3zxJJ0scDVKM8AamWKM6tX+4eBgrmXbCiqoooqopD4DZWgAQzdjA4yAAAAAElFTkSuQmCC",nI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8ElEQVR4nO3dzWoUQRRA4ZFAtiZZJVka9QV8AX/ACApZ5R1EyS4afAPXYdC3EMW1P4+j7nUVOVJM1hm7u5p7uTkf9K4aqjj0DF0zdC8WkiRJkiRJkroDbgCPgFfA2ZrjFHjYzjHFDIAd4DvDfQO2jdI/yGfG+2iQvjHuMt1to/QLctQhyJFB+gU57hDk2CAGqQmvkFwwSC4YJBcMkgsGyQWD5AIcdrgPeRy9jjKALeDPhBi/gZvR6yiF1Zb6WKfR8y8JeAH8GBCijX0ePe/SgA3gFnBvzdHGbETPV5IkSZIkSdcXsA88u/zR6qqjjdmPnm9ZwCbwDvg7YLf3Ali2c6PnXw7wnvGW0fOv+DF1MSFIO3cveh1lsPo+mOpp9DrKwH+d5IJBcsEguWCQXDBILhgkFwySCwbJBW8MS26d7EavoxRWu7ZjnUfPv+r2+3LgldLGnrv9Pm+YvQE/UPkxJUmSJEmSpOgHBxz8x4MD2hgfHDBzjBPg14Dd3p/Ay1kndV0BbxjvdfT8SwG2Jz6eqZ27Fb2OMoAnTHcYvY4y8F8nuWCQXDBILhgkFwySCwbJBYPkgkFywVce5QLc6XCnfhC9jlKATxNifIief9UNxq8jYnzxxZLzvnr1QdtOB96uOdqY+756VZIkSZIkSVrM4h8rzbcQzwZwVgAAAABJRU5ErkJggg==",rI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAABCCAYAAAACPxW5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAH7SURBVGhD7dq/SsNQFMfxJnYQHBxKUereIV2d3ARxc+sTCILgQ/QpdBKfIEgnH8HZoQ0FZ0cn8c9QuN5fORERmya5f865cL9LuJcM+ZBwh0M6sVgsFoutb4uuIppMJulgMOjNZrMP2jIupauEkvl8fr1cLh/H4/EB7RmX0JW7RKNukiS5pPWzUuo4z/MXWrdOAvAvrswKkhu4DldmjOQEbsKVGSFZTlGclv1+/1bjLmirqp6+7yzLsvuiKN5or3Ycp+jqtNQPfU7rjek3+K5P1y9aNsr3J1r3s/xJ45407mQ6nb7SVqN8Ar3jkC8gCw75ALLhkGsgKw65BLLjkCugCBxyARSDQ7aBonDIJlAcDtkCisQhG0CxOGQKFI1DJkDxONQWGAQOtQEGg0NNgUHhUBNgcDgkafDrpEZDp6IoHrIs29Nv8ZC2KtP37adpejocDvPFYvFJ215rPFULDdlqbBgSsvVcNBSk0eA3BKQREElHGgORZKQVIJKKtAZEEpFWgUga0joQSUI6ASIpSGdAJAHpFIi4kc6BiBPpBYi4kN6AiAPpFYh8IzlGFmo0Gl0ppe5ovTGN3Ol2u9u0bJTJ4Ne0ukOs8H4EKqvxuRr/ysUKRBVIKz/jsQPRP0grOCQCiH4hd23hkKTB7+p01aflkS1cLBaLxWKVdTrf5kX+OXj25HwAAAAASUVORK5CYII=",iI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAArElEQVR4nO2STQrCMBBG3wnsmUy68AAiLmq9j1RP1kUn7jyCrVeoMgVFJJBJwV0ffBCyeMwfLPyVsqXwHbULXDT61r9ZMtexd8LDB57fccJQBnbZMi+Mv7JPhNEsLVuKWGWR9Jsbq6TQC0eDbMr6yiHdrnC2Cr3QWCpsrEIXOKWFHXWGsLIuZTDI7qalKHoSqbNxwpYcJmmgj51LtuyNtqRz0s1PCVTmNheYywsBbeNMCHkbYwAAAABJRU5ErkJggg==",qn={avatar_icon:zT,gallery_icon:qT,help_icon:WT,logo_big:KT,logo_icon:HT,logo:GT,pic1:$T,pic2:QT,pic3:YT,pic4:JT,profile_img:XT,search_icon:ZT,send_button:eI,add_icon:tI,menu_icon:nI,arrow_icon:rI,green_dot:iI};var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,I=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,P=y&63;p||(P=64,h||(T=64)),i.push(t[_],t[I],t[T],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Lv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const I=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||I==null)throw new oI;const T=l<<2|f>>4;if(i.push(T),y!==64){const P=f<<4&240|y>>2;if(i.push(P),I!==64){const D=y<<6&192|I;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aI=function(n){const e=Lv(n);return Ov.encodeByteArray(e,!0)},yc=function(n){return aI(n).replace(/\./g,"")},Mv=function(n){try{return Ov.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof Jg>"u")return;const n=Jg.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Mv(n[1]);return e&&JSON.parse(e)},Fc=()=>{try{return uI()||cI()||hI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bv=n=>{var e,t;return(t=(e=Fc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},dI=n=>{const e=bv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Fv=()=>{var n;return(n=Fc())===null||n===void 0?void 0:n.config},Uv=n=>{var e;return(e=Fc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yc(JSON.stringify(t)),yc(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function gI(){var n;const e=(n=Fc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EI(){const n=Ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wI(){return!gI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TI(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="FirebaseError";class zr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=AI,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vl.prototype.create)}}class vl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?SI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new zr(o,f,i)}}function SI(n,e){return n.replace(CI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const CI=/\{\$([^}]+)}/g;function RI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function nl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],h=e[o];if(Xg(l)&&Xg(h)){if(!nl(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Xg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Wa(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PI(n,e){const t=new kI(n,e);return t.subscribe.bind(t)}class kI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(n){return n&&n._delegate?n._delegate:n}class ms{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VI(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xI(n){return n===hs?void 0:n}function VI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new DI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(xe||(xe={}));const OI={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},MI=xe.INFO,bI={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},FI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=bI[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=MI,this._logHandler=FI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const UI=(n,e)=>e.some(t=>n instanceof t);let Zg,ey;function jI(){return Zg||(Zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jv=new WeakMap,nf=new WeakMap,Bv=new WeakMap,qd=new WeakMap,Ff=new WeakMap;function zI(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Ii(n.result)),o()},h=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&jv.set(t,n)}).catch(()=>{}),Ff.set(e,n),e}function qI(n){if(nf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});nf.set(n,e)}let rf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ii(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WI(n){rf=n(rf)}function HI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Wd(this),e,...t);return Bv.set(i,e.sort?e.sort():[e]),Ii(i)}:BI().includes(n)?function(...e){return n.apply(Wd(this),e),Ii(jv.get(this))}:function(...e){return Ii(n.apply(Wd(this),e))}}function KI(n){return typeof n=="function"?HI(n):(n instanceof IDBTransaction&&qI(n),UI(n,jI())?new Proxy(n,rf):n)}function Ii(n){if(n instanceof IDBRequest)return zI(n);if(qd.has(n))return qd.get(n);const e=KI(n);return e!==n&&(qd.set(n,e),Ff.set(e,n)),e}const Wd=n=>Ff.get(n);function GI(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Ii(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Ii(h.result),p.oldVersion,p.newVersion,Ii(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const $I=["get","getKey","getAll","getAllKeys","count"],QI=["put","add","delete","clear"],Hd=new Map;function ty(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=QI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||$I.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Hd.set(e,l),l}WI(n=>({...n,get:(e,t,i)=>ty(e,t)||n.get(e,t,i),has:(e,t)=>!!ty(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function JI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sf="@firebase/app",ny="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new bf("@firebase/app"),XI="@firebase/app-compat",ZI="@firebase/analytics-compat",eA="@firebase/analytics",tA="@firebase/app-check-compat",nA="@firebase/app-check",rA="@firebase/auth",iA="@firebase/auth-compat",sA="@firebase/database",oA="@firebase/data-connect",aA="@firebase/database-compat",lA="@firebase/functions",uA="@firebase/functions-compat",cA="@firebase/installations",hA="@firebase/installations-compat",dA="@firebase/messaging",fA="@firebase/messaging-compat",pA="@firebase/performance",mA="@firebase/performance-compat",gA="@firebase/remote-config",yA="@firebase/remote-config-compat",vA="@firebase/storage",_A="@firebase/storage-compat",EA="@firebase/firestore",wA="@firebase/vertexai",TA="@firebase/firestore-compat",IA="firebase",AA="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]",SA={[sf]:"fire-core",[XI]:"fire-core-compat",[eA]:"fire-analytics",[ZI]:"fire-analytics-compat",[nA]:"fire-app-check",[tA]:"fire-app-check-compat",[rA]:"fire-auth",[iA]:"fire-auth-compat",[sA]:"fire-rtdb",[oA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[lA]:"fire-fn",[uA]:"fire-fn-compat",[cA]:"fire-iid",[hA]:"fire-iid-compat",[dA]:"fire-fcm",[fA]:"fire-fcm-compat",[pA]:"fire-perf",[mA]:"fire-perf-compat",[gA]:"fire-rc",[yA]:"fire-rc-compat",[vA]:"fire-gcs",[_A]:"fire-gcs-compat",[EA]:"fire-fst",[TA]:"fire-fst-compat",[wA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,CA=new Map,af=new Map;function ry(n,e){try{n.container.addComponent(e)}catch(t){br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Po(n){const e=n.name;if(af.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;af.set(e,n);for(const t of vc.values())ry(t,n);for(const t of CA.values())ry(t,n);return!0}function Uf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ai=new vl("app","Firebase",RA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=AA;function zv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:of,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ai.create("bad-app-name",{appName:String(o)});if(t||(t=Fv()),!t)throw Ai.create("no-options");const l=vc.get(o);if(l){if(nl(t,l.options)&&nl(i,l.config))return l;throw Ai.create("duplicate-app",{appName:o})}const h=new LI(o);for(const p of af.values())h.addComponent(p);const f=new PA(t,i,h);return vc.set(o,f),f}function qv(n=of){const e=vc.get(n);if(!e&&n===of&&Fv())return zv();if(!e)throw Ai.create("no-app",{appName:n});return e}function Si(n,e,t){var i;let o=(i=SA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(f.join(" "));return}Po(new ms(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebase-heartbeat-database",NA=1,rl="firebase-heartbeat-store";let Kd=null;function Wv(){return Kd||(Kd=GI(kA,NA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ai.create("idb-open",{originalErrorMessage:n.message})})),Kd}async function DA(n){try{const t=(await Wv()).transaction(rl),i=await t.objectStore(rl).get(Hv(n));return await t.done,i}catch(e){if(e instanceof zr)br.warn(e.message);else{const t=Ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(t.message)}}}async function iy(n,e){try{const i=(await Wv()).transaction(rl,"readwrite");await i.objectStore(rl).put(e,Hv(n)),await i.done}catch(t){if(t instanceof zr)br.warn(t.message);else{const i=Ai.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});br.warn(i.message)}}}function Hv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=1024,VA=30*24*60*60*1e3;class LA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=sy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=VA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sy(),{heartbeatsToSend:i,unsentEntries:o}=OA(this._heartbeatsCache.heartbeats),l=yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return br.warn(t),""}}}function sy(){return new Date().toISOString().substring(0,10)}function OA(n,e=xA){const t=[];let i=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),oy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),oy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class MA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TI()?II().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return iy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function oy(n){return yc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n){Po(new ms("platform-logger",e=>new YI(e),"PRIVATE")),Po(new ms("heartbeat",e=>new LA(e),"PRIVATE")),Si(sf,ny,n),Si(sf,ny,"esm2017"),Si("fire-js","")}bA("");var FA="firebase",UA="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(FA,UA,"app");function jf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jA=Kv,Gv=new vl("auth","Firebase",Kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c=new bf("@firebase/auth");function BA(n,...e){_c.logLevel<=xe.WARN&&_c.warn(`Auth (${Uo}): ${n}`,...e)}function ic(n,...e){_c.logLevel<=xe.ERROR&&_c.error(`Auth (${Uo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n,...e){throw Bf(n,...e)}function ir(n,...e){return Bf(n,...e)}function $v(n,e,t){const i=Object.assign(Object.assign({},jA()),{[e]:t});return new vl("auth","Firebase",i).create(e,{appName:n.name})}function Lr(n){return $v(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Gv.create(n,...e)}function Te(n,e,...t){if(!n)throw Bf(e,...t)}function Nr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ic(e),new Error(e)}function Fr(n,e){n||Nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function zA(){return ay()==="http:"||ay()==="https:"}function ay(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zA()||vI()||"connection"in navigator)?navigator.onLine:!0}function WA(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=mI()||_I()}get(){return qA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e){Fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new El(3e4,6e4);function qr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Wr(n,e,t,i,o={}){return Yv(n,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=_l(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},l);return yI()||(y.referrerPolicy="no-referrer"),Qv.fetch()(Jv(n,n.config.apiHost,t,f),y)})}async function Yv(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},HA),e);try{const o=new $A(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Gu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Gu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Gu(n,"user-disabled",h);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw $v(n,_,y);Wn(n,_)}}catch(o){if(o instanceof zr)throw o;Wn(n,"network-request-failed",{message:String(o)})}}async function wl(n,e,t,i,o={}){const l=await Wr(n,e,t,i,o);return"mfaPendingCredential"in l&&Wn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function Jv(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?zf(n.config,o):`${n.config.apiScheme}://${o}`}function GA(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $A{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),KA.get())})}}function Gu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ir(n,e,i);return o.customData._tokenResponse=t,o}function ly(n){return n!==void 0&&n.enterprise!==void 0}class QA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GA(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YA(n,e){return Wr(n,"GET","/v2/recaptchaConfig",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(n,e){return Wr(n,"POST","/v1/accounts:delete",e)}async function Xv(n,e){return Wr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(n,e=!1){const t=wt(n),i=await t.getIdToken(e),o=qf(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Qa(Gd(o.auth_time)),issuedAtTime:Qa(Gd(o.iat)),expirationTime:Qa(Gd(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Gd(n){return Number(n)*1e3}function qf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mv(t);return o?JSON.parse(o):(ic("Failed to decode base64 JWT payload"),null)}catch(o){return ic("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uy(n){const e=qf(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof zr&&ZA(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ZA({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(n){var e;const t=n.auth,i=await n.getIdToken(),o=await il(n,Xv(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Zv(l.providerUserInfo):[],f=n1(n.providerData,h),p=n.isAnonymous,y=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),_=p?y:!1,I={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new uf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,I)}async function t1(n){const e=wt(n);await Ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n1(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Zv(n){return n.map(e=>{var{providerId:t}=e,i=jf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(n,e){const t=await Yv(n,{},async()=>{const i=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=Jv(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Qv.fetch()(h,{method:"POST",headers:f,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i1(n,e){return Wr(n,"POST","/v2/accounts:revokeToken",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=uy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await r1(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new Ao;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return Nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new uf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return XA(this,e)}reload(){return t1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ec(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await il(this,JA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,_;const I=(i=t.displayName)!==null&&i!==void 0?i:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,D=(h=t.photoURL)!==null&&h!==void 0?h:void 0,M=(f=t.tenantId)!==null&&f!==void 0?f:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(y=t.createdAt)!==null&&y!==void 0?y:void 0,W=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:G,emailVerified:ee,isAnonymous:fe,providerData:pe,stsTokenManager:N}=t;Te(G&&N,e,"internal-error");const A=Ao.fromJSON(this.name,N);Te(typeof G=="string",e,"internal-error"),gi(I,e.name),gi(T,e.name),Te(typeof ee=="boolean",e,"internal-error"),Te(typeof fe=="boolean",e,"internal-error"),gi(P,e.name),gi(D,e.name),gi(M,e.name),gi(x,e.name),gi(U,e.name),gi(W,e.name);const S=new Dr({uid:G,auth:e,email:T,emailVerified:ee,displayName:I,isAnonymous:fe,photoURL:D,phoneNumber:P,tenantId:M,stsTokenManager:A,createdAt:U,lastLoginAt:W});return pe&&Array.isArray(pe)&&(S.providerData=pe.map(k=>Object.assign({},k))),x&&(S._redirectEventId=x),S}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ao;o.updateFromServerResponse(t);const l=new Dr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ec(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?Zv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new Ao;f.updateFromIdToken(i);const p=new Dr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new uf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;function xr(n){Fr(n instanceof Function,"Expected a class definition");let e=cy.get(n);return e?(Fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cy.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}e_.type="NONE";const hy=e_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n,e,t){return`firebase:${n}:${e}:${t}`}class So{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=sc(this.userKey,o.apiKey,l),this.fullPersistenceKey=sc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new So(xr(hy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||xr(hy);const h=sc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(h);if(_){const I=Dr._fromJSON(e,_);y!==l&&(f=I),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new So(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new So(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(t_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o_(e))return"Blackberry";if(a_(e))return"Webos";if(n_(e))return"Safari";if((e.includes("chrome/")||r_(e))&&!e.includes("edge/"))return"Chrome";if(s_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function t_(n=Ht()){return/firefox\//i.test(n)}function n_(n=Ht()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function r_(n=Ht()){return/crios\//i.test(n)}function i_(n=Ht()){return/iemobile/i.test(n)}function s_(n=Ht()){return/android/i.test(n)}function o_(n=Ht()){return/blackberry/i.test(n)}function a_(n=Ht()){return/webos/i.test(n)}function Wf(n=Ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function s1(n=Ht()){var e;return Wf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o1(){return EI()&&document.documentMode===10}function l_(n=Ht()){return Wf(n)||s_(n)||a_(n)||o_(n)||/windows phone/i.test(n)||i_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(n,e=[]){let t;switch(n){case"Browser":t=dy(Ht());break;case"Worker":t=`${dy(Ht())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n,e={}){return Wr(n,"GET","/v2/passwordPolicy",qr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=6;class c1{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:u1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fy(this),this.idTokenSubscription=new fy(this),this.beforeStateQueue=new a1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=xr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xv(this,{idToken:e}),i=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ec(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Lr(this));const t=e?wt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l1(this),t=new c1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await i1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&xr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[xr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=u_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Li(n){return wt(n)}class fy{constructor(e){this.auth=e,this.observer=null,this.addObserver=PI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d1(n){Uc=n}function c_(n){return Uc.loadJS(n)}function f1(){return Uc.recaptchaEnterpriseScript}function p1(){return Uc.gapiScript}function m1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class g1{constructor(){this.enterprise=new y1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class y1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const v1="recaptcha-enterprise",h_="NO_RECAPTCHA";class _1{constructor(e){this.type=v1,this.auth=Li(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{YA(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new QA(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;ly(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(h_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g1().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&ly(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=f1();p.length!==0&&(p+=f),c_(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function py(n,e,t,i=!1,o=!1){const l=new _1(n);let h;if(o)h=h_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function wc(n,e,t,i,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await py(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await py(n,e,t,t==="getOobCode");return i(n,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,e){const t=Uf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(nl(l,e??{}))return o;Wn(o,"already-initialized")}return t.initialize({options:e})}function w1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(xr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function T1(n,e,t){const i=Li(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=d_(e),{host:h,port:f}=I1(e),p=f===null?"":`:${f}`;i.config.emulator={url:`${l}//${h}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),A1()}function d_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function I1(n){const e=d_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:my(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:my(h)}}}function my(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function A1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,t){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function S1(n,e){return Wr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(n,e){return wl(n,"POST","/v1/accounts:signInWithPassword",qr(n,e))}async function R1(n,e){return Wr(n,"POST","/v1/accounts:sendOobCode",qr(n,e))}async function P1(n,e){return R1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(n,e){return wl(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,e))}async function N1(n,e){return wl(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Hf{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new sl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new sl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wc(e,t,"signInWithPassword",C1);case"emailLink":return k1(e,{email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wc(e,i,"signUpPassword",S1);case"emailLink":return N1(e,{idToken:t,email:this._email,oobCode:this._password});default:Wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(n,e){return wl(n,"POST","/v1/accounts:signInWithIdp",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="http://localhost";class gs extends Hf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=jf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new gs(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Co(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Co(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Co(e,t)}buildRequest(){const e={requestUri:D1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_l(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V1(n){const e=qa(Wa(n)).link,t=e?qa(Wa(e)).deep_link_id:null,i=qa(Wa(n)).deep_link_id;return(i?qa(Wa(i)).link:null)||i||t||e||n}class Kf{constructor(e){var t,i,o,l,h,f;const p=qa(Wa(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,I=x1((o=p.mode)!==null&&o!==void 0?o:null);Te(y&&_&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=V1(e);try{return new Kf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,t){return sl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Kf.parseLink(t);return Te(i,"argument-error"),sl._fromEmailAndCode(e,i.code,i.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl extends f_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Tl{constructor(){super("facebook.com")}static credential(e){return gs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vi.credential(t,i)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Tl{constructor(){super("github.com")}static credential(e){return gs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.GITHUB_SIGN_IN_METHOD="github.com";_i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Tl{constructor(){super("twitter.com")}static credential(e,t){return gs._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ei.credential(t,i)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(n,e){return wl(n,"POST","/v1/accounts:signUp",qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Dr._fromIdTokenResponse(e,i,o),h=gy(i);return new ys({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=gy(i);return new ys({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function gy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends zr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Tc(e,t,i,o)}}function p_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(n,l,e,i):l})}async function O1(n,e,t=!1){const i=await il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ys._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(n,e,t=!1){const{auth:i}=n;if(rr(i.app))return Promise.reject(Lr(i));const o="reauthenticate";try{const l=await il(n,p_(i,o,e,n),t);Te(l.idToken,i,"internal-error");const h=qf(l.idToken);Te(h,i,"internal-error");const{sub:f}=h;return Te(n.uid===f,i,"user-mismatch"),ys._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Wn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(n,e,t=!1){if(rr(n.app))return Promise.reject(Lr(n));const i="signIn",o=await p_(n,i,e),l=await ys._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(l.user),l}async function b1(n,e){return m_(Li(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(n){const e=Li(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F1(n,e,t){const i=Li(n);await wc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",P1)}async function U1(n,e,t){if(rr(n.app))return Promise.reject(Lr(n));const i=Li(n),h=await wc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",L1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&g_(n),p}),f=await ys._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function j1(n,e,t){return rr(n.app)?Promise.reject(Lr(n)):b1(wt(n),jo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&g_(n),i})}function B1(n,e,t,i){return wt(n).onIdTokenChanged(e,t,i)}function z1(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function y_(n,e,t,i){return wt(n).onAuthStateChanged(e,t,i)}function q1(n){return wt(n).signOut()}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=1e3,H1=10;class __ extends v_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=l_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);o1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,H1):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}__.type="LOCAL";const K1=__;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends v_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}E_.type="SESSION";const w_=E_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await G1(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Gf("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(I){const T=I;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(){return window}function Q1(n){sr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function Y1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function X1(){return T_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="firebaseLocalStorageDb",Z1=1,Ac="firebaseLocalStorage",A_="fbase_key";class Il{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bc(n,e){return n.transaction([Ac],e?"readwrite":"readonly").objectStore(Ac)}function eS(){const n=indexedDB.deleteDatabase(I_);return new Il(n).toPromise()}function cf(){const n=indexedDB.open(I_,Z1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ac,{keyPath:A_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ac)?e(i):(i.close(),await eS(),e(await cf()))})})}async function yy(n,e,t){const i=Bc(n,!0).put({[A_]:e,value:t});return new Il(i).toPromise()}async function tS(n,e){const t=Bc(n,!1).get(e),i=await new Il(t).toPromise();return i===void 0?null:i.value}function vy(n,e){const t=Bc(n,!0).delete(e);return new Il(t).toPromise()}const nS=800,rS=3;class S_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rS)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(X1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Y1(),!this.activeServiceWorker)return;this.sender=new $1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cf();return await yy(e,Ic,"1"),await vy(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>yy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tS(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Bc(o,!1).getAll();return new Il(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S_.type="LOCAL";const iS=S_;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e){return e?xr(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Hf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oS(n){return m_(n.auth,new $f(n),n.bypassAuthState)}function aS(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),M1(t,new $f(n),n.bypassAuthState)}async function lS(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),O1(t,new $f(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oS;case"linkViaPopup":case"linkViaRedirect":return lS;case"reauthViaPopup":case"reauthViaRedirect":return aS;default:Wn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=new El(2e3,1e4);class Io extends C_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Io.currentPopupAction&&Io.currentPopupAction.cancel(),Io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uS.get())};e()}}Io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="pendingRedirect",oc=new Map;class hS extends C_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=oc.get(this.auth._key());if(!e){try{const i=await dS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}oc.set(this.auth._key(),e)}return this.bypassAuthState||oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dS(n,e){const t=mS(e),i=pS(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function fS(n,e){oc.set(n._key(),e)}function pS(n){return xr(n._redirectPersistence)}function mS(n){return sc(cS,n.config.apiKey,n.name)}async function gS(n,e,t=!1){if(rr(n.app))return Promise.reject(Lr(n));const i=Li(n),o=sS(i,e),h=await new hS(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=10*60*1e3;class vS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_S(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!R_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yS&&this.cachedEventUids.clear(),this.cachedEventUids.has(_y(e))}saveEventToCache(e){this.cachedEventUids.add(_y(e)),this.lastProcessedEventTime=Date.now()}}function _y(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function R_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _S(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(n,e={}){return Wr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TS=/^https?/;async function IS(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ES(n);for(const t of e)try{if(AS(t))return}catch{}Wn(n,"unauthorized-domain")}function AS(n){const e=lf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!TS.test(t))return!1;if(wS.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=new El(3e4,6e4);function Ey(){const n=sr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CS(n){return new Promise((e,t)=>{var i,o,l;function h(){Ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ey(),t(ir(n,"network-request-failed"))},timeout:SS.get()})}if(!((o=(i=sr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=sr().gapi)===null||l===void 0)&&l.load)h();else{const f=m1("iframefcb");return sr()[f]=()=>{gapi.load?h():t(ir(n,"network-request-failed"))},c_(`${p1()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw ac=null,e})}let ac=null;function RS(n){return ac=ac||CS(n),ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new El(5e3,15e3),kS="__/auth/iframe",NS="emulator/auth/iframe",DS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VS(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zf(e,NS):`https://${n.config.authDomain}/${kS}`,i={apiKey:e.apiKey,appName:n.name,v:Uo},o=xS.get(n.config.apiHost);o&&(i.eid=o);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${_l(i).slice(1)}`}async function LS(n){const e=await RS(n),t=sr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:VS(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DS,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=ir(n,"network-request-failed"),f=sr().setTimeout(()=>{l(h)},PS.get());function p(){sr().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MS=500,bS=600,FS="_blank",US="http://localhost";class wy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jS(n,e,t,i=MS,o=bS){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},OS),{width:i.toString(),height:o.toString(),top:l,left:h}),y=Ht().toLowerCase();t&&(f=r_(y)?FS:t),t_(y)&&(e=e||US,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[P,D])=>`${T}${P}=${D},`,"");if(s1(y)&&f!=="_self")return BS(e||"",f),new wy(null);const I=window.open(e||"",f,_);Te(I,n,"popup-blocked");try{I.focus()}catch{}return new wy(I)}function BS(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__/auth/handler",qS="emulator/auth/handler",WS=encodeURIComponent("fac");async function Ty(n,e,t,i,o,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Uo,eventId:o};if(e instanceof f_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",RI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,I]of Object.entries({}))h[_]=I}if(e instanceof Tl){const _=e.getScopes().filter(I=>I!=="");_.length>0&&(h.scopes=_.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const p=await n._getAppCheckToken(),y=p?`#${WS}=${encodeURIComponent(p)}`:"";return`${HS(n)}?${_l(f).slice(1)}${y}`}function HS({config:n}){return n.emulator?zf(n,qS):`https://${n.authDomain}/${zS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="webStorageSupport";class KS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w_,this._completeRedirectFn=gS,this._overrideRedirectResult=fS}async _openPopup(e,t,i,o){var l;Fr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Ty(e,t,i,lf(),o);return jS(e,h,Gf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Ty(e,t,i,lf(),o);return Q1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await LS(e),i=new vS(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($d,{type:$d},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[$d];h!==void 0&&t(!!h),Wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return l_()||n_()||Wf()}}const GS=KS;var Iy="@firebase/auth",Ay="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YS(n){Po(new ms("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:u_(n)},y=new h1(i,o,l,p);return w1(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Po(new ms("auth-internal",e=>{const t=Li(e.getProvider("auth").getImmediate());return(i=>new $S(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(Iy,Ay,QS(n)),Si(Iy,Ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=5*60,XS=Uv("authIdTokenMaxAge")||JS;let Sy=null;const ZS=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>XS)return;const o=t==null?void 0:t.token;Sy!==o&&(Sy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function eC(n=qv()){const e=Uf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=E1(n,{popupRedirectResolver:GS,persistence:[iS,K1,w_]}),i=Uv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=ZS(l.toString());z1(t,h,()=>h(t.currentUser)),B1(t,f=>h(f))}}const o=bv("auth");return o&&T1(t,`http://${o}`),t}function tC(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}d1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const l=ir("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",tC().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});YS("Browser");function P_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=P_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function wi(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=P_(n))&&(i&&(i+=" "),i+=e);return i}const ol=n=>typeof n=="number"&&!isNaN(n),fs=n=>typeof n=="string",mn=n=>typeof n=="function",lc=n=>fs(n)||mn(n)?n:null,hf=n=>z.isValidElement(n)||fs(n)||mn(n)||ol(n);function nC(n,e,t){t===void 0&&(t=300);const{scrollHeight:i,style:o}=n;requestAnimationFrame(()=>{o.minHeight="initial",o.height=i+"px",o.transition=`all ${t}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,t)})})}function zc(n){let{enter:e,exit:t,appendPosition:i=!1,collapse:o=!0,collapseDuration:l=300}=n;return function(h){let{children:f,position:p,preventExitTransition:y,done:_,nodeRef:I,isIn:T,playToast:P}=h;const D=i?`${e}--${p}`:e,M=i?`${t}--${p}`:t,x=z.useRef(0);return z.useLayoutEffect(()=>{const U=I.current,W=D.split(" "),G=ee=>{ee.target===I.current&&(P(),U.removeEventListener("animationend",G),U.removeEventListener("animationcancel",G),x.current===0&&ee.type!=="animationcancel"&&U.classList.remove(...W))};U.classList.add(...W),U.addEventListener("animationend",G),U.addEventListener("animationcancel",G)},[]),z.useEffect(()=>{const U=I.current,W=()=>{U.removeEventListener("animationend",W),o?nC(U,_,l):_()};T||(y?W():(x.current=1,U.className+=` ${M}`,U.addEventListener("animationend",W)))},[T]),He.createElement(He.Fragment,null,f)}}function Cy(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const Yt=new Map;let al=[];const df=new Set,rC=n=>df.forEach(e=>e(n)),k_=()=>Yt.size>0;function N_(n,e){var t;if(e)return!((t=Yt.get(e))==null||!t.isToastActive(n));let i=!1;return Yt.forEach(o=>{o.isToastActive(n)&&(i=!0)}),i}function D_(n,e){hf(n)&&(k_()||al.push({content:n,options:e}),Yt.forEach(t=>{t.buildToast(n,e)}))}function Ry(n,e){Yt.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function iC(n){const{subscribe:e,getSnapshot:t,setProps:i}=z.useRef(function(l){const h=l.containerId||1;return{subscribe(f){const p=function(_,I,T){let P=1,D=0,M=[],x=[],U=[],W=I;const G=new Map,ee=new Set,fe=()=>{U=Array.from(G.values()),ee.forEach(A=>A())},pe=A=>{x=A==null?[]:x.filter(S=>S!==A),fe()},N=A=>{const{toastId:S,onOpen:k,updateId:L,children:F}=A.props,R=L==null;A.staleId&&G.delete(A.staleId),G.set(S,A),x=[...x,A.props.toastId].filter(Be=>Be!==A.staleId),fe(),T(Cy(A,R?"added":"updated")),R&&mn(k)&&k(z.isValidElement(F)&&F.props)};return{id:_,props:W,observe:A=>(ee.add(A),()=>ee.delete(A)),toggle:(A,S)=>{G.forEach(k=>{S!=null&&S!==k.props.toastId||mn(k.toggle)&&k.toggle(A)})},removeToast:pe,toasts:G,clearQueue:()=>{D-=M.length,M=[]},buildToast:(A,S)=>{if(($=>{let{containerId:ae,toastId:Ee,updateId:we}=$;const Re=ae?ae!==_:_!==1,De=G.has(Ee)&&we==null;return Re||De})(S))return;const{toastId:k,updateId:L,data:F,staleId:R,delay:Be}=S,et=()=>{pe(k)},ot=L==null;ot&&D++;const ke={...W,style:W.toastStyle,key:P++,...Object.fromEntries(Object.entries(S).filter($=>{let[ae,Ee]=$;return Ee!=null})),toastId:k,updateId:L,data:F,closeToast:et,isIn:!1,className:lc(S.className||W.toastClassName),bodyClassName:lc(S.bodyClassName||W.bodyClassName),progressClassName:lc(S.progressClassName||W.progressClassName),autoClose:!S.isLoading&&(re=S.autoClose,me=W.autoClose,re===!1||ol(re)&&re>0?re:me),deleteToast(){const $=G.get(k),{onClose:ae,children:Ee}=$.props;mn(ae)&&ae(z.isValidElement(Ee)&&Ee.props),T(Cy($,"removed")),G.delete(k),D--,D<0&&(D=0),M.length>0?N(M.shift()):fe()}};var re,me;ke.closeButton=W.closeButton,S.closeButton===!1||hf(S.closeButton)?ke.closeButton=S.closeButton:S.closeButton===!0&&(ke.closeButton=!hf(W.closeButton)||W.closeButton);let se=A;z.isValidElement(A)&&!fs(A.type)?se=z.cloneElement(A,{closeToast:et,toastProps:ke,data:F}):mn(A)&&(se=A({closeToast:et,toastProps:ke,data:F}));const b={content:se,props:ke,staleId:R};W.limit&&W.limit>0&&D>W.limit&&ot?M.push(b):ol(Be)?setTimeout(()=>{N(b)},Be):N(b)},setProps(A){W=A},setToggle:(A,S)=>{G.get(A).toggle=S},isToastActive:A=>x.some(S=>S===A),getSnapshot:()=>U}}(h,l,rC);Yt.set(h,p);const y=p.observe(f);return al.forEach(_=>D_(_.content,_.options)),al=[],()=>{y(),Yt.delete(h)}},setProps(f){var p;(p=Yt.get(h))==null||p.setProps(f)},getSnapshot(){var f;return(f=Yt.get(h))==null?void 0:f.getSnapshot()}}}(n)).current;i(n);const o=z.useSyncExternalStore(e,t,t);return{getToastToRender:function(l){if(!o)return[];const h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{const{position:p}=f.props;h.has(p)||h.set(p,[]),h.get(p).push(f)}),Array.from(h,f=>l(f[0],f[1]))},isToastActive:N_,count:o==null?void 0:o.length}}function sC(n){const[e,t]=z.useState(!1),[i,o]=z.useState(!1),l=z.useRef(null),h=z.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:f,pauseOnHover:p,closeToast:y,onClick:_,closeOnClick:I}=n;var T,P;function D(){t(!0)}function M(){t(!1)}function x(G){const ee=l.current;h.canDrag&&ee&&(h.didMove=!0,e&&M(),h.delta=n.draggableDirection==="x"?G.clientX-h.start:G.clientY-h.start,h.start!==G.clientX&&(h.canCloseOnClick=!1),ee.style.transform=`translate3d(${n.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`},0)`,ee.style.opacity=""+(1-Math.abs(h.delta/h.removalDistance)))}function U(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",U);const G=l.current;if(h.canDrag&&h.didMove&&G){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance)return o(!0),n.closeToast(),void n.collapseAll();G.style.transition="transform 0.2s, opacity 0.2s",G.style.removeProperty("transform"),G.style.removeProperty("opacity")}}(P=Yt.get((T={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||P.setToggle(T.id,T.fn),z.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||M(),window.addEventListener("focus",D),window.addEventListener("blur",M),()=>{window.removeEventListener("focus",D),window.removeEventListener("blur",M)}},[n.pauseOnFocusLoss]);const W={onPointerDown:function(G){if(n.draggable===!0||n.draggable===G.pointerType){h.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",U);const ee=l.current;h.canCloseOnClick=!0,h.canDrag=!0,ee.style.transition="none",n.draggableDirection==="x"?(h.start=G.clientX,h.removalDistance=ee.offsetWidth*(n.draggablePercent/100)):(h.start=G.clientY,h.removalDistance=ee.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(G){const{top:ee,bottom:fe,left:pe,right:N}=l.current.getBoundingClientRect();G.nativeEvent.type!=="touchend"&&n.pauseOnHover&&G.clientX>=pe&&G.clientX<=N&&G.clientY>=ee&&G.clientY<=fe?M():D()}};return f&&p&&(W.onMouseEnter=M,n.stacked||(W.onMouseLeave=D)),I&&(W.onClick=G=>{_&&_(G),h.canCloseOnClick&&y()}),{playToast:D,pauseToast:M,isRunning:e,preventExitTransition:i,toastRef:l,eventHandlers:W}}function oC(n){let{delay:e,isRunning:t,closeToast:i,type:o="default",hide:l,className:h,style:f,controlledProgress:p,progress:y,rtl:_,isIn:I,theme:T}=n;const P=l||p&&y===0,D={...f,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};p&&(D.transform=`scaleX(${y})`);const M=wi("Toastify__progress-bar",p?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${T}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":_}),x=mn(h)?h({rtl:_,type:o,defaultClassName:M}):wi(M,h),U={[p&&y>=1?"onTransitionEnd":"onAnimationEnd"]:p&&y<1?null:()=>{I&&i()}};return He.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":P},He.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${T} Toastify__progress-bar--${o}`}),He.createElement("div",{role:"progressbar","aria-hidden":P?"true":"false","aria-label":"notification timer",className:x,style:D,...U}))}let aC=1;const x_=()=>""+aC++;function lC(n){return n&&(fs(n.toastId)||ol(n.toastId))?n.toastId:x_()}function Ya(n,e){return D_(n,e),e.toastId}function Sc(n,e){return{...e,type:e&&e.type||n,toastId:lC(e)}}function $u(n){return(e,t)=>Ya(e,Sc(n,t))}function Pe(n,e){return Ya(n,Sc("default",e))}Pe.loading=(n,e)=>Ya(n,Sc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Pe.promise=function(n,e,t){let i,{pending:o,error:l,success:h}=e;o&&(i=fs(o)?Pe.loading(o,t):Pe.loading(o.render,{...t,...o}));const f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},p=(_,I,T)=>{if(I==null)return void Pe.dismiss(i);const P={type:_,...f,...t,data:T},D=fs(I)?{render:I}:I;return i?Pe.update(i,{...P,...D}):Pe(D.render,{...P,...D}),T},y=mn(n)?n():n;return y.then(_=>p("success",h,_)).catch(_=>p("error",l,_)),y},Pe.success=$u("success"),Pe.info=$u("info"),Pe.error=$u("error"),Pe.warning=$u("warning"),Pe.warn=Pe.warning,Pe.dark=(n,e)=>Ya(n,Sc("default",{theme:"dark",...e})),Pe.dismiss=function(n){(function(e){var t;if(k_()){if(e==null||fs(t=e)||ol(t))Yt.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=Yt.get(e.containerId);i?i.removeToast(e.id):Yt.forEach(o=>{o.removeToast(e.id)})}}else al=al.filter(i=>e!=null&&i.options.toastId!==e)})(n)},Pe.clearWaitingQueue=function(n){n===void 0&&(n={}),Yt.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},Pe.isActive=N_,Pe.update=function(n,e){e===void 0&&(e={});const t=((i,o)=>{var l;let{containerId:h}=o;return(l=Yt.get(h||1))==null?void 0:l.toasts.get(i)})(n,e);if(t){const{props:i,content:o}=t,l={delay:100,...i,...e,toastId:e.toastId||n,updateId:x_()};l.toastId!==n&&(l.staleId=n);const h=l.render||o;delete l.render,Ya(h,l)}},Pe.done=n=>{Pe.update(n,{progress:1})},Pe.onChange=function(n){return df.add(n),()=>{df.delete(n)}},Pe.play=n=>Ry(!0,n),Pe.pause=n=>Ry(!1,n);const uC=typeof window<"u"?z.useLayoutEffect:z.useEffect,Qu=n=>{let{theme:e,type:t,isLoading:i,...o}=n;return He.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...o})},Qd={info:function(n){return He.createElement(Qu,{...n},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return He.createElement(Qu,{...n},He.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return He.createElement(Qu,{...n},He.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return He.createElement(Qu,{...n},He.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return He.createElement("div",{className:"Toastify__spinner"})}},cC=n=>{const{isRunning:e,preventExitTransition:t,toastRef:i,eventHandlers:o,playToast:l}=sC(n),{closeButton:h,children:f,autoClose:p,onClick:y,type:_,hideProgressBar:I,closeToast:T,transition:P,position:D,className:M,style:x,bodyClassName:U,bodyStyle:W,progressClassName:G,progressStyle:ee,updateId:fe,role:pe,progress:N,rtl:A,toastId:S,deleteToast:k,isIn:L,isLoading:F,closeOnClick:R,theme:Be}=n,et=wi("Toastify__toast",`Toastify__toast-theme--${Be}`,`Toastify__toast--${_}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":R}),ot=mn(M)?M({rtl:A,position:D,type:_,defaultClassName:et}):wi(et,M),ke=function(b){let{theme:$,type:ae,isLoading:Ee,icon:we}=b,Re=null;const De={theme:$,type:ae};return we===!1||(mn(we)?Re=we({...De,isLoading:Ee}):z.isValidElement(we)?Re=z.cloneElement(we,De):Ee?Re=Qd.spinner():(Fe=>Fe in Qd)(ae)&&(Re=Qd[ae](De))),Re}(n),re=!!N||!p,me={closeToast:T,type:_,theme:Be};let se=null;return h===!1||(se=mn(h)?h(me):z.isValidElement(h)?z.cloneElement(h,me):function(b){let{closeToast:$,theme:ae,ariaLabel:Ee="close"}=b;return He.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ae}`,type:"button",onClick:we=>{we.stopPropagation(),$(we)},"aria-label":Ee},He.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},He.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(me)),He.createElement(P,{isIn:L,done:k,position:D,preventExitTransition:t,nodeRef:i,playToast:l},He.createElement("div",{id:S,onClick:y,"data-in":L,className:ot,...o,style:x,ref:i},He.createElement("div",{...L&&{role:pe},className:mn(U)?U({type:_}):wi("Toastify__toast-body",U),style:W},ke!=null&&He.createElement("div",{className:wi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ke),He.createElement("div",null,f)),se,He.createElement(oC,{...fe&&!re?{key:`pb-${fe}`}:{},rtl:A,theme:Be,delay:p,isRunning:e,isIn:L,closeToast:T,hide:I,type:_,style:ee,className:G,controlledProgress:re,progress:N||0})))},qc=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},hC=zc(qc("bounce",!0));zc(qc("slide",!0));zc(qc("zoom"));zc(qc("flip"));const dC={position:"top-right",transition:hC,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function fC(n){let e={...dC,...n};const t=n.stacked,[i,o]=z.useState(!0),l=z.useRef(null),{getToastToRender:h,isToastActive:f,count:p}=iC(e),{className:y,style:_,rtl:I,containerId:T}=e;function P(M){const x=wi("Toastify__toast-container",`Toastify__toast-container--${M}`,{"Toastify__toast-container--rtl":I});return mn(y)?y({position:M,rtl:I,defaultClassName:x}):wi(x,lc(y))}function D(){t&&(o(!0),Pe.play())}return uC(()=>{if(t){var M;const x=l.current.querySelectorAll('[data-in="true"]'),U=12,W=(M=e.position)==null?void 0:M.includes("top");let G=0,ee=0;Array.from(x).reverse().forEach((fe,pe)=>{const N=fe;N.classList.add("Toastify__toast--stacked"),pe>0&&(N.dataset.collapsed=`${i}`),N.dataset.pos||(N.dataset.pos=W?"top":"bot");const A=G*(i?.2:1)+(i?0:U*pe);N.style.setProperty("--y",`${W?A:-1*A}px`),N.style.setProperty("--g",`${U}`),N.style.setProperty("--s",""+(1-(i?ee:0))),G+=N.offsetHeight,ee+=.025})}},[i,p,t]),He.createElement("div",{ref:l,className:"Toastify",id:T,onMouseEnter:()=>{t&&(o(!1),Pe.pause())},onMouseLeave:D},h((M,x)=>{const U=x.length?{..._}:{..._,pointerEvents:"none"};return He.createElement("div",{className:P(M),style:U,key:`container-${M}`},x.map(W=>{let{content:G,props:ee}=W;return He.createElement(cC,{...ee,stacked:t,collapseAll:D,isIn:f(ee.toastId,ee.containerId),style:ee.style,key:`toast-${ee.key}`},G)}))}))}var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,V_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function S(){}S.prototype=A.prototype,N.D=A.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(k,L,F){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return A.prototype[L].apply(k,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,S){S||(S=0);var k=Array(16);if(typeof A=="string")for(var L=0;16>L;++L)k[L]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(L=0;16>L;++L)k[L]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=N.g[0],S=N.g[1],L=N.g[2];var F=N.g[3],R=A+(F^S&(L^F))+k[0]+3614090360&4294967295;A=S+(R<<7&4294967295|R>>>25),R=F+(L^A&(S^L))+k[1]+3905402710&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(S^F&(A^S))+k[2]+606105819&4294967295,L=F+(R<<17&4294967295|R>>>15),R=S+(A^L&(F^A))+k[3]+3250441966&4294967295,S=L+(R<<22&4294967295|R>>>10),R=A+(F^S&(L^F))+k[4]+4118548399&4294967295,A=S+(R<<7&4294967295|R>>>25),R=F+(L^A&(S^L))+k[5]+1200080426&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(S^F&(A^S))+k[6]+2821735955&4294967295,L=F+(R<<17&4294967295|R>>>15),R=S+(A^L&(F^A))+k[7]+4249261313&4294967295,S=L+(R<<22&4294967295|R>>>10),R=A+(F^S&(L^F))+k[8]+1770035416&4294967295,A=S+(R<<7&4294967295|R>>>25),R=F+(L^A&(S^L))+k[9]+2336552879&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(S^F&(A^S))+k[10]+4294925233&4294967295,L=F+(R<<17&4294967295|R>>>15),R=S+(A^L&(F^A))+k[11]+2304563134&4294967295,S=L+(R<<22&4294967295|R>>>10),R=A+(F^S&(L^F))+k[12]+1804603682&4294967295,A=S+(R<<7&4294967295|R>>>25),R=F+(L^A&(S^L))+k[13]+4254626195&4294967295,F=A+(R<<12&4294967295|R>>>20),R=L+(S^F&(A^S))+k[14]+2792965006&4294967295,L=F+(R<<17&4294967295|R>>>15),R=S+(A^L&(F^A))+k[15]+1236535329&4294967295,S=L+(R<<22&4294967295|R>>>10),R=A+(L^F&(S^L))+k[1]+4129170786&4294967295,A=S+(R<<5&4294967295|R>>>27),R=F+(S^L&(A^S))+k[6]+3225465664&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^S&(F^A))+k[11]+643717713&4294967295,L=F+(R<<14&4294967295|R>>>18),R=S+(F^A&(L^F))+k[0]+3921069994&4294967295,S=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(S^L))+k[5]+3593408605&4294967295,A=S+(R<<5&4294967295|R>>>27),R=F+(S^L&(A^S))+k[10]+38016083&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^S&(F^A))+k[15]+3634488961&4294967295,L=F+(R<<14&4294967295|R>>>18),R=S+(F^A&(L^F))+k[4]+3889429448&4294967295,S=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(S^L))+k[9]+568446438&4294967295,A=S+(R<<5&4294967295|R>>>27),R=F+(S^L&(A^S))+k[14]+3275163606&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^S&(F^A))+k[3]+4107603335&4294967295,L=F+(R<<14&4294967295|R>>>18),R=S+(F^A&(L^F))+k[8]+1163531501&4294967295,S=L+(R<<20&4294967295|R>>>12),R=A+(L^F&(S^L))+k[13]+2850285829&4294967295,A=S+(R<<5&4294967295|R>>>27),R=F+(S^L&(A^S))+k[2]+4243563512&4294967295,F=A+(R<<9&4294967295|R>>>23),R=L+(A^S&(F^A))+k[7]+1735328473&4294967295,L=F+(R<<14&4294967295|R>>>18),R=S+(F^A&(L^F))+k[12]+2368359562&4294967295,S=L+(R<<20&4294967295|R>>>12),R=A+(S^L^F)+k[5]+4294588738&4294967295,A=S+(R<<4&4294967295|R>>>28),R=F+(A^S^L)+k[8]+2272392833&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^S)+k[11]+1839030562&4294967295,L=F+(R<<16&4294967295|R>>>16),R=S+(L^F^A)+k[14]+4259657740&4294967295,S=L+(R<<23&4294967295|R>>>9),R=A+(S^L^F)+k[1]+2763975236&4294967295,A=S+(R<<4&4294967295|R>>>28),R=F+(A^S^L)+k[4]+1272893353&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^S)+k[7]+4139469664&4294967295,L=F+(R<<16&4294967295|R>>>16),R=S+(L^F^A)+k[10]+3200236656&4294967295,S=L+(R<<23&4294967295|R>>>9),R=A+(S^L^F)+k[13]+681279174&4294967295,A=S+(R<<4&4294967295|R>>>28),R=F+(A^S^L)+k[0]+3936430074&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^S)+k[3]+3572445317&4294967295,L=F+(R<<16&4294967295|R>>>16),R=S+(L^F^A)+k[6]+76029189&4294967295,S=L+(R<<23&4294967295|R>>>9),R=A+(S^L^F)+k[9]+3654602809&4294967295,A=S+(R<<4&4294967295|R>>>28),R=F+(A^S^L)+k[12]+3873151461&4294967295,F=A+(R<<11&4294967295|R>>>21),R=L+(F^A^S)+k[15]+530742520&4294967295,L=F+(R<<16&4294967295|R>>>16),R=S+(L^F^A)+k[2]+3299628645&4294967295,S=L+(R<<23&4294967295|R>>>9),R=A+(L^(S|~F))+k[0]+4096336452&4294967295,A=S+(R<<6&4294967295|R>>>26),R=F+(S^(A|~L))+k[7]+1126891415&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~S))+k[14]+2878612391&4294967295,L=F+(R<<15&4294967295|R>>>17),R=S+(F^(L|~A))+k[5]+4237533241&4294967295,S=L+(R<<21&4294967295|R>>>11),R=A+(L^(S|~F))+k[12]+1700485571&4294967295,A=S+(R<<6&4294967295|R>>>26),R=F+(S^(A|~L))+k[3]+2399980690&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~S))+k[10]+4293915773&4294967295,L=F+(R<<15&4294967295|R>>>17),R=S+(F^(L|~A))+k[1]+2240044497&4294967295,S=L+(R<<21&4294967295|R>>>11),R=A+(L^(S|~F))+k[8]+1873313359&4294967295,A=S+(R<<6&4294967295|R>>>26),R=F+(S^(A|~L))+k[15]+4264355552&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~S))+k[6]+2734768916&4294967295,L=F+(R<<15&4294967295|R>>>17),R=S+(F^(L|~A))+k[13]+1309151649&4294967295,S=L+(R<<21&4294967295|R>>>11),R=A+(L^(S|~F))+k[4]+4149444226&4294967295,A=S+(R<<6&4294967295|R>>>26),R=F+(S^(A|~L))+k[11]+3174756917&4294967295,F=A+(R<<10&4294967295|R>>>22),R=L+(A^(F|~S))+k[2]+718787259&4294967295,L=F+(R<<15&4294967295|R>>>17),R=S+(F^(L|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+F&4294967295}i.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var S=A-this.blockSize,k=this.B,L=this.h,F=0;F<A;){if(L==0)for(;F<=S;)o(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(k[L++]=N.charCodeAt(F++),L==this.blockSize){o(this,k),L=0;break}}else for(;F<A;)if(k[L++]=N[F++],L==this.blockSize){o(this,k),L=0;break}}this.h=L,this.o+=A},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var S=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=S&255,S/=256;for(this.u(N),N=Array(16),A=S=0;4>A;++A)for(var k=0;32>k;k+=8)N[S++]=this.g[A]>>>k&255;return N};function l(N,A){var S=f;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=A(N)}function h(N,A){this.h=A;for(var S=[],k=!0,L=N.length-1;0<=L;L--){var F=N[L]|0;k&&F==A||(S[L]=F,k=!1)}this.g=S}var f={};function p(N){return-128<=N&&128>N?l(N,function(A){return new h([A|0],0>A?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return x(y(-N));for(var A=[],S=1,k=0;N>=S;k++)A[k]=N/S|0,S*=4294967296;return new h(A,0)}function _(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return x(_(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(A,8)),k=I,L=0;L<N.length;L+=8){var F=Math.min(8,N.length-L),R=parseInt(N.substring(L,L+F),A);8>F?(F=y(Math.pow(A,F)),k=k.j(F).add(y(R))):(k=k.j(S),k=k.add(y(R)))}return k}var I=p(0),T=p(1),P=p(16777216);n=h.prototype,n.m=function(){if(M(this))return-x(this).m();for(var N=0,A=1,S=0;S<this.g.length;S++){var k=this.i(S);N+=(0<=k?k:4294967296+k)*A,A*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(M(this))return"-"+x(this).toString(N);for(var A=y(Math.pow(N,6)),S=this,k="";;){var L=ee(S,A).g;S=U(S,L.j(A));var F=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=L,D(S))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function M(N){return N.h==-1}n.l=function(N){return N=U(this,N),M(N)?-1:D(N)?0:1};function x(N){for(var A=N.g.length,S=[],k=0;k<A;k++)S[k]=~N.g[k];return new h(S,~N.h).add(T)}n.abs=function(){return M(this)?x(this):this},n.add=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],k=0,L=0;L<=A;L++){var F=k+(this.i(L)&65535)+(N.i(L)&65535),R=(F>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);k=R>>>16,F&=65535,R&=65535,S[L]=R<<16|F}return new h(S,S[S.length-1]&-2147483648?-1:0)};function U(N,A){return N.add(x(A))}n.j=function(N){if(D(this)||D(N))return I;if(M(this))return M(N)?x(this).j(x(N)):x(x(this).j(N));if(M(N))return x(this.j(x(N)));if(0>this.l(P)&&0>N.l(P))return y(this.m()*N.m());for(var A=this.g.length+N.g.length,S=[],k=0;k<2*A;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<N.g.length;L++){var F=this.i(k)>>>16,R=this.i(k)&65535,Be=N.i(L)>>>16,et=N.i(L)&65535;S[2*k+2*L]+=R*et,W(S,2*k+2*L),S[2*k+2*L+1]+=F*et,W(S,2*k+2*L+1),S[2*k+2*L+1]+=R*Be,W(S,2*k+2*L+1),S[2*k+2*L+2]+=F*Be,W(S,2*k+2*L+2)}for(k=0;k<A;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=A;k<2*A;k++)S[k]=0;return new h(S,0)};function W(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function G(N,A){this.g=N,this.h=A}function ee(N,A){if(D(A))throw Error("division by zero");if(D(N))return new G(I,I);if(M(N))return A=ee(x(N),A),new G(x(A.g),x(A.h));if(M(A))return A=ee(N,x(A)),new G(x(A.g),A.h);if(30<N.g.length){if(M(N)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var S=T,k=A;0>=k.l(N);)S=fe(S),k=fe(k);var L=pe(S,1),F=pe(k,1);for(k=pe(k,2),S=pe(S,2);!D(k);){var R=F.add(k);0>=R.l(N)&&(L=L.add(S),F=R),k=pe(k,1),S=pe(S,1)}return A=U(N,L.j(A)),new G(L,A)}for(L=I;0<=N.l(A);){for(S=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=y(S),R=F.j(A);M(R)||0<R.l(N);)S-=k,F=y(S),R=F.j(A);D(F)&&(F=T),L=L.add(F),N=U(N,R)}return new G(L,N)}n.A=function(N){return ee(this,N).h},n.and=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],k=0;k<A;k++)S[k]=this.i(k)&N.i(k);return new h(S,this.h&N.h)},n.or=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],k=0;k<A;k++)S[k]=this.i(k)|N.i(k);return new h(S,this.h|N.h)},n.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],k=0;k<A;k++)S[k]=this.i(k)^N.i(k);return new h(S,this.h^N.h)};function fe(N){for(var A=N.g.length+1,S=[],k=0;k<A;k++)S[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(S,N.h)}function pe(N,A){var S=A>>5;A%=32;for(var k=N.g.length-S,L=[],F=0;F<k;F++)L[F]=0<A?N.i(F+S)>>>A|N.i(F+S+1)<<32-A:N.i(F+S);return new h(L,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,V_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,ps=h}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,Ha,O_,uc,ff,M_,b_,F_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var w=0;w<u.length-1;w++){var j=u[w];if(!(j in v))break e;v=v[j]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,w=!1,j={next:function(){if(!w&&v<u.length){var K=v++;return{value:m(K,u[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function I(u,m,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function T(u,m,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:I,T.apply(null,arguments)}function P(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function D(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,j,K){for(var ie=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ie[qe-2]=arguments[qe];return m.prototype[j].apply(w,ie)}}function M(u){const m=u.length;if(0<m){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function x(u,m){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const j=u.length||0,K=w.length||0;u.length=j+K;for(let ie=0;ie<K;ie++)u[j+ie]=w[ie]}else u.push(w)}}class U{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pe(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function A(u){const m={};for(const v in u)m[v]=u[v];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,m){let v,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(v in w)u[v]=w[v];for(let K=0;K<S.length;K++)v=S[K],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function L(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function F(u){f.setTimeout(()=>{throw u},0)}function R(){var u=me;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Be{constructor(){this.h=this.g=null}add(m,v){const w=et.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var et=new U(()=>new ot,u=>u.reset());class ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,re=!1,me=new Be,se=()=>{const u=f.Promise.resolve(void 0);ke=()=>{u.then(b)}};var b=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){F(v)}var m=et;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function we(u,m){if(ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(fe){e:{try{ee(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}D(we,ae);var Re={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Ke(u,m,v,w,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=j,this.key=++Fe,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function dr(u){this.src=u,this.g={},this.h=0}dr.prototype.add=function(u,m,v,w,j){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ie=Hr(u,m,w,j);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new Ke(m,this.src,K,!!w,j),m.fa=v,u.push(m)),m};function Cs(u,m){var v=m.type;if(v in u.g){var w=u.g[v],j=Array.prototype.indexOf.call(w,m,void 0),K;(K=0<=j)&&Array.prototype.splice.call(w,j,1),K&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Hr(u,m,v,w){for(var j=0;j<u.length;++j){var K=u[j];if(!K.da&&K.listener==m&&K.capture==!!v&&K.ha==w)return j}return-1}var bi="closure_lm_"+(1e6*Math.random()|0),Rs={};function Ko(u,m,v,w,j){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Ko(u,m[K],v,w,j);return null}return v=Qo(v),u&&u[De]?u.K(m,v,y(w)?!!w.capture:!!w,j):Go(u,m,v,!1,w,j)}function Go(u,m,v,w,j,K){if(!m)throw Error("Invalid event type");var ie=y(j)?!!j.capture:!!j,qe=ks(u);if(qe||(u[bi]=qe=new dr(u)),v=qe.add(m,v,w,ie,K),v.proxy)return v;if(w=Nl(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Ee||(j=ie),j===void 0&&(j=!1),u.addEventListener(m.toString(),w,j);else if(u.attachEvent)u.attachEvent(pr(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nl(){function u(v){return m.call(u.src,u.listener,v)}const m=$o;return u}function Ps(u,m,v,w,j){if(Array.isArray(m))for(var K=0;K<m.length;K++)Ps(u,m[K],v,w,j);else w=y(w)?!!w.capture:!!w,v=Qo(v),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],v=Hr(K,v,w,j),-1<v&&(Tt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,v,w,j)),(v=-1<u?m[u]:null)&&fr(v))}function fr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Cs(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(pr(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=ks(m))?(Cs(v,u),v.h==0&&(v.src=null,m[bi]=null)):Tt(u)}}}function pr(u){return u in Rs?Rs[u]:Rs[u]="on"+u}function $o(u,m){if(u.da)u=!0;else{m=new we(m,this);var v=u.listener,w=u.ha||u.src;u.fa&&fr(u),u=v.call(w,m)}return u}function ks(u){return u=u[bi],u instanceof dr?u:null}var Ns="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qo(u){return typeof u=="function"?u:(u[Ns]||(u[Ns]=function(m){return u.handleEvent(m)}),u[Ns])}function pt(){$.call(this),this.i=new dr(this),this.M=this,this.F=null}D(pt,$),pt.prototype[De]=!0,pt.prototype.removeEventListener=function(u,m,v,w){Ps(this,u,m,v,w)};function mt(u,m){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new ae(m,u);else if(m instanceof ae)m.target=m.target||u;else{var j=m;m=new ae(w,u),k(m,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var ie=m.g=v[K];j=mr(ie,w,!0,m)&&j}if(ie=m.g=u,j=mr(ie,w,!0,m)&&j,j=mr(ie,w,!1,m)&&j,v)for(K=0;K<v.length;K++)ie=m.g=v[K],j=mr(ie,w,!1,m)&&j}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],w=0;w<v.length;w++)Tt(v[w]);delete u.g[m],u.h--}}this.F=null},pt.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},pt.prototype.L=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function mr(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,K=0;K<m.length;++K){var ie=m[K];if(ie&&!ie.da&&ie.capture==v){var qe=ie.listener,gt=ie.ha||ie.src;ie.fa&&Cs(u.i,ie),j=qe.call(gt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Yo(u,m,v){if(typeof u=="function")v&&(u=T(u,v));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Kr(u){u.g=Yo(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Fi extends ${constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ui(u){$.call(this),this.h=u,this.g={}}D(Ui,$);var Jo=[];function Xo(u){pe(u.g,function(m,v){this.g.hasOwnProperty(v)&&fr(m)},u),u.g={}}Ui.prototype.N=function(){Ui.aa.N.call(this),Xo(this)},Ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zo=f.JSON.stringify,ea=f.JSON.parse,ta=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ji(){}ji.prototype.h=null;function Ds(u){return u.h||(u.h=u.i())}function xs(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kn(){ae.call(this,"d")}D(Kn,ae);function Vs(){ae.call(this,"c")}D(Vs,ae);var Gn={},na=null;function Bi(){return na=na||new pt}Gn.La="serverreachability";function ra(u){ae.call(this,Gn.La,u)}D(ra,ae);function gr(u){const m=Bi();mt(m,new ra(m))}Gn.STAT_EVENT="statevent";function ia(u,m){ae.call(this,Gn.STAT_EVENT,u),this.stat=m}D(ia,ae);function at(u){const m=Bi();mt(m,new ia(m,u))}Gn.Ma="timingevent";function Ls(u,m){ae.call(this,Gn.Ma,u),this.size=m}D(Ls,ae);function Pn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function zi(){this.g=!0}zi.prototype.xa=function(){this.g=!1};function qi(u,m,v,w,j,K){u.info(function(){if(u.g)if(K)for(var ie="",qe=K.split("&"),gt=0;gt<qe.length;gt++){var Me=qe[gt].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var ct=It.split("_");ie=2<=ct.length&&ct[1]=="type"?ie+(It+"="+Me+"&"):ie+(It+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+m+`
`+v+`
`+ie})}function Os(u,m,v,w,j,K,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+m+`
`+v+`
`+K+" "+ie})}function kn(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+uh(u,v)+(w?" "+w:"")})}function sa(u,m){u.info(function(){return"TIMEOUT: "+m})}zi.prototype.info=function(){};function uh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Zo(v)}catch{return m}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function Wi(){}D(Wi,ji),Wi.prototype.g=function(){return new XMLHttpRequest},Wi.prototype.i=function(){return{}},Nn=new Wi;function Dn(u,m,v,w){this.j=u,this.i=m,this.l=v,this.R=w||1,this.U=new Ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xl}function xl(){this.i=null,this.g="",this.h=!1}var oa={},bs={};function Fs(u,m,v){u.L=1,u.v=Jr(un(m)),u.m=v,u.P=!0,aa(u,null)}function aa(u,m){u.F=Date.now(),Ge(u),u.A=un(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Zr(v.i,"t",w),u.C=0,v=u.j.J,u.h=new xl,u.g=Yl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Fi(T(u.Y,u,u.g),u.O)),m=u.U,v=u.g,w=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Jo[0]=j.toString()),j=Jo);for(var K=0;K<j.length;K++){var ie=Ko(v,j[K],w||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),gr(),qi(u.i,u.u,u.A,u.l,u.R,u.m)}Dn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Xt(u)==3?m.j():this.Y(u)},Dn.prototype.Y=function(u){try{if(u==this.g)e:{const ct=Xt(this.g);var m=this.g.Ba();const En=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||fa(this.g)))){this.J||ct!=4||m==7||(m==8||0>=En?gr(3):gr(2)),Hi(this);var v=this.g.Z();this.X=v;t:if(Vl(this)){var w=fa(this.g);u="";var j=w.length,K=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Gr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(K&&m==j-1)});w.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Os(this.i,this.u,this.A,this.l,this.R,ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,gt=this.g;if((qe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(qe)){var Me=qe;break t}}Me=null}if(v=Me)kn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,v);else{this.o=!1,this.s=3,at(12),vn(this),Gr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<ie.length;)if(hn=ch(this,ie),hn==bs){ct==4&&(this.s=4,at(14),v=!1),kn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==oa){this.s=4,at(15),kn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else kn(this.i,this.l,hn,null),la(this,hn);if(Vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||ie.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)kn(this.i,this.l,ie,"[Invalid Chunked Response]"),vn(this),Gr(this);else if(0<ie.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ma(It),It.M=!0,at(11))}}else kn(this.i,this.l,ie,null),la(this,ie);ct==4&&vn(this),this.o&&!this.J&&(ct==4?Qs(this.j,this):(this.o=!1,Ge(this)))}else Ws(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),vn(this),Gr(this)}}}catch{}finally{}};function Vl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ch(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?bs:(v=Number(m.substring(v,w)),isNaN(v)?oa:(w+=1,w+v>m.length?bs:(m=m.slice(w,w+v),u.C=w+v,m)))}Dn.prototype.cancel=function(){this.J=!0,vn(this)};function Ge(u){u.S=Date.now()+u.I,Ll(u,u.I)}function Ll(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Pn(T(u.ba,u),m)}function Hi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(sa(this.i,this.A),this.L!=2&&(gr(),at(17)),vn(this),this.s=2,Gr(this)):Ll(this,this.S-u)};function Gr(u){u.j.G==0||u.J||Qs(u.j,u)}function vn(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function la(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Kt(v.h,u))){if(!u.K&&Kt(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)$s(v),Mn(v);else break e;Gs(v),at(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Pn(T(v.Za,v),6e3));if(1>=Ml(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else wr(v,11)}else if((u.K||v.g==u)&&$s(v),!W(m))for(j=v.Da.g.parse(m),m=0;m<j.length;m++){let Me=j[m];if(v.T=Me[0],Me=Me[1],v.G==2)if(Me[0]=="c"){v.K=Me[1],v.ia=Me[2];const It=Me[3];It!=null&&(v.la=It,v.j.info("VER="+v.la));const ct=Me[4];ct!=null&&(v.Aa=ct,v.j.info("SVER="+v.Aa));const En=Me[5];En!=null&&typeof En=="number"&&0<En&&(w=1.5*En,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const hn=u.g;if(hn){const Xi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var K=w.h;K.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ua(K,K.h),K.h=null))}if(w.D){const Js=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(w.ya=Js,We(w.I,w.D,Js))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ie=u;if(w.qa=Ql(w,w.J?w.ia:null,w.W),ie.K){bl(w.h,ie);var qe=ie,gt=w.L;gt&&(qe.I=gt),qe.B&&(Hi(qe),Ge(qe)),w.g=ie}else Ji(w);0<v.i.length&&Jn(v)}else Me[0]!="stop"&&Me[0]!="close"||wr(v,7);else v.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?wr(v,7):kt(v):Me[0]!="noop"&&v.l&&v.l.ta(Me),v.v=0)}}gr(4)}catch{}}var Ol=class{constructor(u,m){this.g=u,this.map=m}};function Ki(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ml(u){return u.h?1:u.g?u.g.size:0}function Kt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ua(u,m){u.g?u.g.add(m):u.h=m}function bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ki.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return M(u.i)}function Us(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,w=0;w<v;w++)m.push(u[w]);return m}m=[],v=0;for(w in u)m[v++]=u[w];return m}function js(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const w in u)m[v++]=w;return m}}}function $r(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=js(u),w=Us(u),j=w.length,K=0;K<j;K++)m.call(void 0,w[K],v&&v[K],u)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),j=null;if(0<=w){var K=u[v].substring(0,w);j=u[v].substring(w+1)}else K=u[v];m(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,$i(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,v=new $n;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Yr(this,v),this.m=u.m}else u&&(m=String(u).match(Gi))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Le(m[2]||""),this.g=Le(m[3]||"",!0),Qr(this,m[4]),this.l=Le(m[5]||"",!0),Yr(this,m[6]||"",!0),this.m=Le(m[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}yr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Xr(m,Bs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Xr(m,Bs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Xr(v,v.charAt(0)=="/"?Bl:jl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Xr(v,ca)),u.join("")};function un(u){return new yr(u)}function $i(u,m,v){u.j=v?Le(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Yr(u,m,v){m instanceof $n?(u.i=m,Qn(u.i,u.h)):(v||(m=Xr(m,zl)),u.i=new $n(m,u.h))}function We(u,m,v){u.i.set(m,v)}function Jr(u){return We(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Le(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Ul),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Bs=/[#\/\?@]/g,jl=/[#\?:]/g,Bl=/[#\?]/g,zl=/[#\?@]/g,ca=/#/g;function $n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Pt(u){u.g||(u.g=new Map,u.h=0,u.i&&hh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=$n.prototype,n.add=function(u,m){Pt(this),this.i=null,u=_n(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function xn(u,m){Pt(u),m=_n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vn(u,m){return Pt(u),m=_n(u,m),u.g.has(m)}n.forEach=function(u,m){Pt(this),this.g.forEach(function(v,w){v.forEach(function(j){u.call(m,j,w,this)},this)},this)},n.na=function(){Pt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let w=0;w<m.length;w++){const j=u[w];for(let K=0;K<j.length;K++)v.push(m[w])}return v},n.V=function(u){Pt(this);let m=[];if(typeof u=="string")Vn(this,u)&&(m=m.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Pt(this),this.i=null,u=_n(this,u),Vn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zr(u,m,v){xn(u,m),0<v.length&&(u.i=null,u.g.set(_n(u,m),M(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var w=m[v];const K=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var j=K;ie[w]!==""&&(j+="="+encodeURIComponent(String(ie[w]))),u.push(j)}}return this.i=u.join("&")};function _n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Qn(u,m){m&&!u.j&&(Pt(u),u.i=null,u.g.forEach(function(v,w){var j=w.toLowerCase();w!=j&&(xn(this,w),Zr(this,j,v))},u)),u.j=m}function dh(u,m){const v=new zi;if(f.Image){const w=new Image;w.onload=P(Jt,v,"TestLoadImage: loaded",!0,m,w),w.onerror=P(Jt,v,"TestLoadImage: error",!1,m,w),w.onabort=P(Jt,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=P(Jt,v,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function ql(u,m){const v=new zi,w=new AbortController,j=setTimeout(()=>{w.abort(),Jt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(K=>{clearTimeout(j),K.ok?Jt(v,"TestPingServer: ok",!0,m):Jt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Jt(v,"TestPingServer: error",!1,m)})}function Jt(u,m,v,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(v)}catch{}}function fh(){this.g=new ta}function Wl(u,m,v){const w=v||"";try{$r(u,function(j,K){let ie=j;y(j)&&(ie=Zo(j)),m.push(w+K+"="+encodeURIComponent(ie))})}catch(j){throw m.push(w+"type="+encodeURIComponent("_badmap")),j}}function vr(u){this.l=u.Ub||null,this.j=u.eb||!1}D(vr,ji),vr.prototype.g=function(){return new Qi(this.l,this.j)},vr.prototype.i=function(u){return function(){return u}}({});function Qi(u,m){pt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Qi,pt),n=Qi.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,On(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ln(this):On(this),this.readyState==3&&Hl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ln(this))},n.Qa=function(u){this.g&&(this.response=u,Ln(this))},n.ga=function(){this.g&&Ln(this)};function Ln(u){u.readyState=4,u.l=null,u.j=null,u.v=null,On(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function On(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _r(u){let m="";return pe(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function ei(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=_r(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):We(u,m,v))}function Xe(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Xe,pt);var ph=/^https?$/i,ha=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Ds(this.o):Ds(Nn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Yi(this,K);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)v.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ha,m,void 0))||w||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of v)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Yi(this,K)}};function Yi(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,zs(u),cn(u)}function zs(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),cn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},n.bb=function(){da(this)};function da(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)Yo(u.Ea,0,u);else if(mt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=ie===0){var j=String(u.D).match(Gi)[1]||null;!j&&f.self&&f.self.location&&(j=f.self.location.protocol.slice(0,-1)),w=!ph.test(j?j.toLowerCase():"")}v=w}if(v)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var K=2<Xt(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",zs(u)}}finally{cn(u)}}}}function cn(u,m){if(u.g){qs(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||mt(u,"ready");try{v.onreadystatechange=w}catch{}}}function qs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ea(m)}};function fa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(u){const m={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(W(u[w]))continue;var v=L(u[w]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=m[j]||[];m[j]=K,K.push(v)}N(m,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function pa(u){this.Aa=0,this.i=[],this.j=new zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,u),this.cb=Yn("retryDelaySeedMs",1e4,u),this.Wa=Yn("forwardChannelMaxRetries",2,u),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ki(u&&u.concurrentRequestLimit),this.Da=new fh,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pa.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,w){at(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=Ql(this,null,this.W),Jn(this)};function kt(u){if(Hs(u),u.G==3){var m=u.U++,v=un(u.I);if(We(v,"SID",u.K),We(v,"RID",m),We(v,"TYPE","terminate"),Er(u,v),m=new Dn(u,u.j,m),m.L=2,m.v=Jr(un(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ge(m)}$l(u)}function Mn(u){u.g&&(ma(u),u.g.cancel(),u.g=null)}function Hs(u){Mn(u),u.u&&(f.clearTimeout(u.u),u.u=null),$s(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Jn(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;ke||se(),re||(ke(),re=!0),me.add(m,u),u.B=0}}function mh(u,m){return Ml(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Pn(T(u.Ga,u,m),Gl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Dn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=A(K),k(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ti(this,j,m),v=un(this.I),We(v,"RID",u),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Er(this,v),K&&(this.O?m="headers="+encodeURIComponent(String(_r(K)))+"&"+m:this.m&&ei(v,this.m,K)),ua(this.h,j),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",m),We(v,"SID","null"),j.T=!0,Fs(j,v,null)):Fs(j,v,m),this.G=2}}else this.G==3&&(u?Ks(this,u):this.i.length==0||ln(this.h)||Ks(this))};function Ks(u,m){var v;m?v=m.l:v=u.U++;const w=un(u.I);We(w,"SID",u.K),We(w,"RID",v),We(w,"AID",u.T),Er(u,w),u.m&&u.o&&ei(w,u.m,u.o),v=new Dn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ti(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ua(u.h,v),Fs(v,w,m)}function Er(u,m){u.H&&pe(u.H,function(v,w){We(m,w,v)}),u.l&&$r({},function(v,w){We(m,w,v)})}function ti(u,m,v){v=Math.min(u.i.length,v);var w=u.l?T(u.l.Na,u.l,u):null;e:{var j=u.i;let K=-1;for(;;){const ie=["count="+v];K==-1?0<v?(K=j[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let qe=!0;for(let gt=0;gt<v;gt++){let Me=j[gt].g;const It=j[gt].map;if(Me-=K,0>Me)K=Math.max(0,j[gt].g-100),qe=!1;else try{Wl(It,ie,"req"+Me+"_")}catch{w&&w(It)}}if(qe){w=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,w}function Ji(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ke||se(),re||(ke(),re=!0),me.add(m,u),u.v=0}}function Gs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Pn(T(u.Fa,u),Gl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Kl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Pn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Mn(this),Kl(this))};function ma(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Kl(u){u.g=new Dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);We(m,"RID","rpc"),We(m,"SID",u.K),We(m,"AID",u.T),We(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&We(m,"TO",u.ja),We(m,"TYPE","xmlhttp"),Er(u,m),u.m&&u.o&&ei(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Jr(un(m)),v.m=null,v.P=!0,aa(v,u)}n.Za=function(){this.C!=null&&(this.C=null,Mn(this),Gs(this),at(19))};function $s(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Qs(u,m){var v=null;if(u.g==m){$s(u),ma(u),u.g=null;var w=2}else if(Kt(u.h,m))v=m.D,bl(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;w=Bi(),mt(w,new Ls(w,v)),Jn(u)}else Ji(u);else if(j=m.s,j==3||j==0&&0<m.X||!(w==1&&mh(u,m)||w==2&&Gs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),j){case 1:wr(u,5);break;case 4:wr(u,10);break;case 3:wr(u,6);break;default:wr(u,2)}}}function Gl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function wr(u,m){if(u.j.info("Error code "+m),m==2){var v=T(u.fb,u),w=u.Xa;const j=!w;w=new yr(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$i(w,"https"),Jr(w),j?dh(w.toString(),v):ql(w.toString(),v)}else at(2);u.G=0,u.l&&u.l.sa(m),$l(u),Hs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function $l(u){if(u.G=0,u.ka=[],u.l){const m=Fl(u.h);(m.length!=0||u.i.length!=0)&&(x(u.ka,m),x(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,v){var w=v instanceof yr?un(v):new yr(v);if(w.g!="")m&&(w.g=m+"."+w.g),Qr(w,w.s);else{var j=f.location;w=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var K=new yr(null);w&&$i(K,w),m&&(K.g=m),j&&Qr(K,j),v&&(K.l=v),w=K}return v=u.D,m=u.ya,v&&m&&We(w,v,m),We(w,"VER",u.la),Er(u,w),w}function Yl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Xe(new vr({eb:v})):new Xe(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ga(){}n=ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new Gt(u,m)};function Gt(u,m){pt.call(this),this.g=new pa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!W(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!W(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}D(Gt,pt),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){kt(this.g)},Gt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Zo(u),u=v);m.i.push(new Ol(m.Ya++,u)),m.G==3&&Jn(m)},Gt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Gt.aa.N.call(this)};function Jl(u){Kn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(Jl,Kn);function Xl(){Vs.call(this),this.status=1}D(Xl,Vs);function Xn(u){this.g=u}D(Xn,ga),Xn.prototype.ua=function(){mt(this.g,"a")},Xn.prototype.ta=function(u){mt(this.g,new Jl(u))},Xn.prototype.sa=function(u){mt(this.g,new Xl)},Xn.prototype.ra=function(){mt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,F_=function(){return new Ys},b_=function(){return Bi()},M_=Gn,ff={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,uc=Ms,Dl.COMPLETE="complete",O_=Dl,xs.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ha=xs,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,L_=Xe}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new bf("@firebase/firestore");function _o(){return vs.logLevel}function le(n,...e){if(vs.logLevel<=xe.DEBUG){const t=e.map(Qf);vs.debug(`Firestore (${Bo}): ${n}`,...t)}}function Ur(n,...e){if(vs.logLevel<=xe.ERROR){const t=e.map(Qf);vs.error(`Firestore (${Bo}): ${n}`,...t)}}function ko(n,...e){if(vs.logLevel<=xe.WARN){const t=e.map(Qf);vs.warn(`Firestore (${Bo}): ${n}`,...t)}}function Qf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function ze(n,e){n||Ae()}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}}class mC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gC{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string"),new U_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Bt(e)}}class yC{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vC{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new yC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _C{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new _C(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=wC(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%e.length))}return i}}function Oe(n,e){return n<e?-1:n>e?1:0}function No(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new _t(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new _t(0,0))}static max(){return new Se(new _t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ll.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=e.get(o),h=t.get(o);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Je extends ll{construct(e,t,i){return new Je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(Y.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const TC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends ll{construct(e,t,i){return new Lt(e,t,i)}static isValidIdentifier(e){return TC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Lt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ce(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(t)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}function IC(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new _t(t+1,0):new _t(t,i));return new ki(o,ye.empty(),e)}function AC(n){return new ki(n.readTime,n.key,-1)}class ki{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ki(Se.min(),ye.empty(),-1)}static max(){return new ki(Se.max(),ye.empty(),-1)}}function SC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==CC)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,i)=>{t(e)})}static reject(e){return new Q((t,i)=>{i(e)})}static waitFor(e){return new Q((t,i)=>{let o=0,l=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++l,h&&l===o&&t()},p=>i(p))}),h=!0,l===o&&t()})}static or(e){let t=Q.resolve(!1);for(const i of e)t=t.next(o=>o?Q.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new Q((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++f,f===l&&i(h)},_=>o(_))}})}static doWhile(e,t){return new Q((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function PC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wc.oe=-1;function Hc(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function kC(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ny(e)),e=DC(n.get(t),e);return Ny(e)}function DC(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Ny(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function B_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||xt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??xt.RED,this.left=o??xt.EMPTY,this.right=l??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new xt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return xt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1;xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,o,l){return this}insert(e,t,i){return new xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Et(this.comparator);return t.data=e,t}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new gn([])}unionWith(e){let t=new Et(Lt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new z_("Invalid base64 string: "+l):l}}(e);return new Ot(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new Ot(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const xC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ni(n){if(ze(!!n),typeof n=="string"){let e=0;const t=xC.exec(n);if(ze(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Di(n){return typeof n=="string"?Ot.fromBase64String(n):Ot.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Kc(n){const e=n.mapValue.fields.__previous_value__;return Yf(e)?Kc(e):e}function ul(n){const e=Ni(n.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,i,o,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class cl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yf(n)?4:OC(n)?9007199254740991:LC(n)?10:11:Ae()}function cr(n,e){if(n===e)return!0;const t=xi(n);if(t!==xi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ul(n).isEqual(ul(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ni(o.timestampValue),f=Ni(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Di(o.bytesValue).isEqual(Di(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ut(o.geoPointValue.latitude)===ut(l.geoPointValue.latitude)&&ut(o.geoPointValue.longitude)===ut(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ut(o.integerValue)===ut(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ut(o.doubleValue),f=ut(l.doubleValue);return h===f?Cc(h)===Cc(f):isNaN(h)&&isNaN(f)}return!1}(n,e);case 9:return No(n.arrayValue.values||[],e.arrayValue.values||[],cr);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Dy(h)!==Dy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!cr(h[p],f[p])))return!1;return!0}(n,e);default:return Ae()}}function hl(n,e){return(n.values||[]).find(t=>cr(t,e))!==void 0}function Do(n,e){if(n===e)return 0;const t=xi(n),i=xi(e);if(t!==i)return Oe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(l,h){const f=ut(l.integerValue||l.doubleValue),p=ut(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Vy(n.timestampValue,e.timestampValue);case 4:return Vy(ul(n),ul(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(l,h){const f=Di(l),p=Di(h);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=Oe(f[y],p[y]);if(_!==0)return _}return Oe(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const f=Oe(ut(l.latitude),ut(h.latitude));return f!==0?f:Oe(ut(l.longitude),ut(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Ly(n.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,_;const I=l.fields||{},T=h.fields||{},P=(f=I.value)===null||f===void 0?void 0:f.arrayValue,D=(p=T.value)===null||p===void 0?void 0:p.arrayValue,M=Oe(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return M!==0?M:Ly(P,D)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===Xu.mapValue&&h===Xu.mapValue)return 0;if(l===Xu.mapValue)return 1;if(h===Xu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let I=0;I<p.length&&I<_.length;++I){const T=Oe(p[I],_[I]);if(T!==0)return T;const P=Do(f[p[I]],y[_[I]]);if(P!==0)return P}return Oe(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Vy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Ni(n),i=Ni(e),o=Oe(t.seconds,i.seconds);return o!==0?o:Oe(t.nanos,i.nanos)}function Ly(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Do(t[o],i[o]);if(l)return l}return Oe(t.length,i.length)}function xo(n){return pf(n)}function pf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ni(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Di(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=pf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${pf(t.fields[h])}`;return o+"}"}(n.mapValue):Ae()}function cc(n){switch(xi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kc(n);return e?16+cc(e):16;case 5:return 2*n.stringValue.length;case 6:return Di(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+cc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Oi(i.fields,(l,h)=>{o+=l.length+cc(h)}),o}(n.mapValue);default:throw Ae()}}function Oy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mf(n){return!!n&&"integerValue"in n}function Jf(n){return!!n&&"arrayValue"in n}function My(n){return!!n&&"nullValue"in n}function by(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function LC(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ja(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ja(n.arrayValue.values[t]);return e}return Object.assign({},n)}function OC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ja(t)}setAll(e){let t=Lt.emptyPath(),i={},o=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=Ja(h):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Oi(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new an(Ja(this.value))}}function q_(n){const e=[];return Oi(n.fields,(t,i)=>{const o=new Lt([t]);if(hc(i)){const l=q_(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new zt(e,0,Se.min(),Se.min(),Se.min(),an.empty(),0)}static newFoundDocument(e,t,i,o){return new zt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new zt(e,2,t,Se.min(),Se.min(),an.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,Se.min(),Se.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t){this.position=e,this.inclusive=t}}function Fy(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(h.referenceValue),t.key):i=Do(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Uy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t="asc"){this.field=e,this.dir=t}}function MC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{}class ft extends W_{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new FC(e,t,i):t==="array-contains"?new BC(e,i):t==="in"?new zC(e,i):t==="not-in"?new qC(e,i):t==="array-contains-any"?new WC(e,i):new ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new UC(e,i):new jC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Do(t,this.value)):t!==null&&xi(this.value)===xi(t)&&this.matchesComparison(Do(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends W_{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Hn(e,t)}matches(e){return H_(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function H_(n){return n.op==="and"}function K_(n){return bC(n)&&H_(n)}function bC(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}function gf(n){if(n instanceof ft)return n.field.canonicalString()+n.op.toString()+xo(n.value);if(K_(n))return n.filters.map(e=>gf(e)).join(",");{const e=n.filters.map(t=>gf(t)).join(",");return`${n.op}(${e})`}}function G_(n,e){return n instanceof ft?function(i,o){return o instanceof ft&&i.op===o.op&&i.field.isEqual(o.field)&&cr(i.value,o.value)}(n,e):n instanceof Hn?function(i,o){return o instanceof Hn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,h,f)=>l&&G_(h,o.filters[f]),!0):!1}(n,e):void Ae()}function $_(n){return n instanceof ft?function(t){return`${t.field.canonicalString()} ${t.op} ${xo(t.value)}`}(n):n instanceof Hn?function(t){return t.op.toString()+" {"+t.getFilters().map($_).join(" ,")+"}"}(n):"Filter"}class FC extends ft{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class UC extends ft{constructor(e,t){super(e,"in",t),this.keys=Q_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jC extends ft{constructor(e,t){super(e,"not-in",t),this.keys=Q_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Q_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ye.fromName(i.referenceValue))}class BC extends ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jf(t)&&hl(t.arrayValue,this.value)}}class zC extends ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hl(this.value.arrayValue,t)}}class qC extends ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hl(this.value.arrayValue,t)}}class WC extends ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>hl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function jy(n,e=null,t=[],i=[],o=null,l=null,h=null){return new HC(n,e,t,i,o,l,h)}function Xf(n){const e=Ce(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xo(i)).join(",")),e.ue=t}return e.ue}function Zf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!MC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Uy(n.startAt,e.startAt)&&Uy(n.endAt,e.endAt)}function yf(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function KC(n,e,t,i,o,l,h,f){return new Al(n,e,t,i,o,l,h,f)}function Gc(n){return new Al(n)}function By(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Y_(n){return n.collectionGroup!==null}function Xa(n){const e=Ce(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Et(Lt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Pc(l,i))}),t.has(Lt.keyField().canonicalString())||e.ce.push(new Pc(Lt.keyField(),i))}return e.ce}function or(n){const e=Ce(n);return e.le||(e.le=GC(e,Xa(n))),e.le}function GC(n,e){if(n.limitType==="F")return jy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Pc(o.field,l)});const t=n.endAt?new Rc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rc(n.startAt.position,n.startAt.inclusive):null;return jy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vf(n,e){const t=n.filters.concat([e]);return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _f(n,e,t){return new Al(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $c(n,e){return Zf(or(n),or(e))&&n.limitType===e.limitType}function J_(n){return`${Xf(or(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>$_(o)).join(", ")}]`),Hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>xo(o)).join(",")),`Target(${i})`}(or(n))}; limitType=${n.limitType})`}function Qc(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of Xa(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(h,f,p){const y=Fy(h,f,p);return h.inclusive?y<=0:y<0}(i.startAt,Xa(i),o)||i.endAt&&!function(h,f,p){const y=Fy(h,f,p);return h.inclusive?y>=0:y>0}(i.endAt,Xa(i),o))}(n,e)}function $C(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function X_(n){return(e,t)=>{let i=!1;for(const o of Xa(n)){const l=QC(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function QC(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Do(p,y):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Oi(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return B_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new it(ye.comparator);function jr(){return YC}const Z_=new it(ye.comparator);function Ka(...n){let e=Z_;for(const t of n)e=e.insert(t.key,t);return e}function e0(n){let e=Z_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ds(){return Za()}function t0(){return Za()}function Za(){return new ws(n=>n.toString(),(n,e)=>n.isEqual(e))}const JC=new it(ye.comparator),XC=new Et(ye.comparator);function Ve(...n){let e=XC;for(const t of n)e=e.add(t);return e}const ZC=new Et(Oe);function eR(){return ZC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function n0(n){return{integerValue:""+n}}function tR(n,e){return kC(e)?n0(e):ep(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(){this._=void 0}}function nR(n,e,t){return n instanceof dl?function(o,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yf(l)&&(l=Kc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof Vo?i0(n,e):n instanceof fl?s0(n,e):function(o,l){const h=r0(o,l),f=zy(h)+zy(o.Pe);return mf(h)&&mf(o.Pe)?n0(f):ep(o.serializer,f)}(n,e)}function rR(n,e,t){return n instanceof Vo?i0(n,e):n instanceof fl?s0(n,e):t}function r0(n,e){return n instanceof kc?function(i){return mf(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class dl extends Yc{}class Vo extends Yc{constructor(e){super(),this.elements=e}}function i0(n,e){const t=o0(e);for(const i of n.elements)t.some(o=>cr(o,i))||t.push(i);return{arrayValue:{values:t}}}class fl extends Yc{constructor(e){super(),this.elements=e}}function s0(n,e){let t=o0(e);for(const i of n.elements)t=t.filter(o=>!cr(o,i));return{arrayValue:{values:t}}}class kc extends Yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function zy(n){return ut(n.integerValue||n.doubleValue)}function o0(n){return Jf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,t){this.field=e,this.transform=t}}function iR(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Vo&&o instanceof Vo||i instanceof fl&&o instanceof fl?No(i.elements,o.elements,cr):i instanceof kc&&o instanceof kc?cr(i.Pe,o.Pe):i instanceof dl&&o instanceof dl}(n.transform,e.transform)}class sR{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Jc{}function l0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new c0(n.key,ar.none()):new Sl(n.key,n.data,ar.none());{const t=n.data,i=an.empty();let o=new Et(Lt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Mi(n.key,i,new gn(o.toArray()),ar.none())}}function oR(n,e,t){n instanceof Sl?function(o,l,h){const f=o.value.clone(),p=Wy(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Mi?function(o,l,h){if(!dc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=Wy(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(u0(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function el(n,e,t,i){return n instanceof Sl?function(l,h,f,p){if(!dc(l.precondition,h))return f;const y=l.value.clone(),_=Hy(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Mi?function(l,h,f,p){if(!dc(l.precondition,h))return f;const y=Hy(l.fieldTransforms,p,h),_=h.data;return _.setAll(u0(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(I=>I.field))}(n,e,t,i):function(l,h,f){return dc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,e,t)}function aR(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=r0(i.transform,o||null);l!=null&&(t===null&&(t=an.empty()),t.set(i.field,l))}return t||null}function qy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&No(i,o,(l,h)=>iR(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Sl extends Jc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Mi extends Jc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function u0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Wy(n,e,t){const i=new Map;ze(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,rR(h,f,t[o]))}return i}function Hy(n,e,t){const i=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);i.set(o.field,nR(l,h,e))}return i}class c0 extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lR extends Jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&oR(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=el(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=el(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=t0();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=l0(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,i)=>qy(t,i))&&No(this.baseMutations,e.baseMutations,(t,i)=>qy(t,i))}}class tp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length);let o=function(){return JC}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new tp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,be;function dR(n){switch(n){default:return Ae();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function h0(n){if(n===void 0)return Ur("GRPC error has no .code"),Y.UNKNOWN;switch(n){case dt.OK:return Y.OK;case dt.CANCELLED:return Y.CANCELLED;case dt.UNKNOWN:return Y.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Y.INTERNAL;case dt.UNAVAILABLE:return Y.UNAVAILABLE;case dt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case dt.NOT_FOUND:return Y.NOT_FOUND;case dt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case dt.ABORTED:return Y.ABORTED;case dt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case dt.DATA_LOSS:return Y.DATA_LOSS;default:return Ae()}}(be=dt||(dt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new ps([4294967295,4294967295],0);function Ky(n){const e=fR().encode(n),t=new V_;return t.update(e),new Uint8Array(t.digest())}function Gy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ps([t,i],0),new ps([o,l],0)]}class np{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=ps.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(ps.fromNumber(i)));return o.compare(pR)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Ky(e),[i,o]=Gy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);if(!this.de(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new np(l,o,t);return i.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=Ky(e),[i,o]=Gy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(i,o,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xc(Se.min(),o,new it(Oe),jr(),Ve())}}class Cl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class d0{constructor(e,t){this.targetId=e,this.me=t}}class f0{constructor(e,t,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class $y{constructor(){this.fe=0,this.ge=Qy(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new Cl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=Qy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mR{constructor(e){this.Le=e,this.Be=new Map,this.ke=jr(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new it(Oe)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const l=o.target;if(yf(l))if(i===0){const h=new ye(l.path);this.We(t,h,zt.newNoDocument(h,Se.min()))}else ze(i===1);else{const h=this.Ze(t);if(h!==i){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Di(i).toUint8Array()}catch(p){if(p instanceof z_)return ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new np(h,o,l)}catch(p){return ko(p instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&yf(f.target)){const p=new ye(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,zt.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let i=Ve();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const o=new Xc(e,t,this.Ke,this.ke,i);return this.ke=jr(),this.qe=Zu(),this.Qe=Zu(),this.Ke=new it(Oe),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new $y,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Et(Oe),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Et(Oe),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new $y),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new it(ye.comparator)}function Qy(){return new it(ye.comparator)}const gR={asc:"ASCENDING",desc:"DESCENDING"},yR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vR={and:"AND",or:"OR"};class _R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ef(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function Nc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ER(n,e){return Nc(n,e.toTimestamp())}function lr(n){return ze(!!n),Se.fromTimestamp(function(t){const i=Ni(t);return new _t(i.seconds,i.nanos)}(n))}function rp(n,e){return wf(n,e).canonicalString()}function wf(n,e){const t=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function m0(n){const e=Je.fromString(n);return ze(E0(e)),e}function Tf(n,e){return rp(n.databaseId,e.path)}function Yd(n,e){const t=m0(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(y0(t))}function g0(n,e){return rp(n.databaseId,e)}function wR(n){const e=m0(n);return e.length===4?Je.emptyPath():y0(e)}function If(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function y0(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Yy(n,e,t){return{name:Tf(n,e),fields:t.value.mapValue.fields}}function TR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(ze(_===void 0||typeof _=="string"),Ot.fromBase64String(_||"")):(ze(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Ot.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const _=y.code===void 0?Y.UNKNOWN:h0(y.code);return new ce(_,y.message||"")}(h);t=new f0(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Yd(n,i.document.name),l=lr(i.document.updateTime),h=i.document.createTime?lr(i.document.createTime):Se.min(),f=new an({mapValue:{fields:i.document.fields}}),p=zt.newFoundDocument(o,l,h,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new fc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Yd(n,i.document),l=i.readTime?lr(i.readTime):Se.min(),h=zt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new fc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Yd(n,i.document),l=i.removedTargetIds||[];t=new fc([],l,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new hR(o,l),f=i.targetId;t=new d0(f,h)}}return t}function IR(n,e){let t;if(e instanceof Sl)t={update:Yy(n,e.key,e.value)};else if(e instanceof c0)t={delete:Tf(n,e.key)};else if(e instanceof Mi)t={update:Yy(n,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof lR))return Ae();t={verify:Tf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,h){const f=h.transform;if(f instanceof dl)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof fl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kc)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:ER(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae()}(n,e.precondition)),t}function AR(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(o,l){let h=o.updateTime?lr(o.updateTime):lr(l);return h.isEqual(Se.min())&&(h=lr(l)),new sR(h,o.transformResults||[])}(t,e))):[]}function SR(n,e){return{documents:[g0(n,e.path)]}}function CR(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=g0(n,o);const l=function(y){if(y.length!==0)return _0(Hn.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:wo(T.field),direction:kR(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Ef(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function RR(n){let e=wR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(I){const T=v0(I);return T instanceof Hn&&K_(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(I){return I.map(T=>function(D){return new Pc(To(D.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(I){let T;return T=typeof I=="object"?I.value:I,Hc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(I){const T=!!I.before,P=I.values||[];return new Rc(P,T)}(t.startAt));let y=null;return t.endAt&&(y=function(I){const T=!I.before,P=I.values||[];return new Rc(P,T)}(t.endAt)),KC(e,o,h,l,f,"F",p,y)}function PR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function v0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=To(t.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=To(t.unaryFilter.field);return ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=To(t.unaryFilter.field);return ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=To(t.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return ft.create(To(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hn.create(t.compositeFilter.filters.map(i=>v0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function kR(n){return gR[n]}function NR(n){return yR[n]}function DR(n){return vR[n]}function wo(n){return{fieldPath:n.canonicalString()}}function To(n){return Lt.fromServerFormat(n.fieldPath)}function _0(n){return n instanceof ft?function(t){if(t.op==="=="){if(by(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NAN"}};if(My(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(by(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NAN"}};if(My(t.value))return{unaryFilter:{field:wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(t.field),op:NR(t.op),value:t.value}}}(n):n instanceof Hn?function(t){const i=t.getFilters().map(o=>_0(o));return i.length===1?i[0]:{compositeFilter:{op:DR(t.op),filters:i}}}(n):Ae()}function xR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(e,t,i,o,l=Se.min(),h=Se.min(),f=Ot.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.ht=e}}function LR(n){const e=RR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.ln=new MR}addToCollectionParentIndex(e,t){return this.ln.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(ki.min())}updateCollectionGroup(e,t,i){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class MR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Et(Je.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Et(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(41943040,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Lo(0)}static Qn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy([n,e],[t,i]){const o=Oe(n,t);return o===0?Oe(e,i):o}class bR{constructor(e){this.Gn=e,this.buffer=new Et(Xy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Xy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){le("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){qo(t)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await zo(t)}await this.Yn(3e5)})}}class UR{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Q.resolve(Wc.oe);const i=new bR(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Jy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,l,h,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,h=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(i=I,f=Date.now(),this.removeTargets(e,i,t))).next(I=>(l=I,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(I=>(y=Date.now(),_o()<=xe.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:I})))}}function jR(n,e){return new UR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changes=new ws(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&el(i.mutation,o,gn.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=ds();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let h=Ka();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,i,o){let l=jr();const h=Za(),f=function(){return Za()}();return t.forEach((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof Mi)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),el(_.mutation,y,_.mutation.getFieldMask(),_t.now())):h.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var I;return f.set(y,new zR(_,(I=h.get(y))!==null&&I!==void 0?I:null))}),f))}recalculateAndSaveOverlays(e,t){const i=Za();let o=new it((h,f)=>h-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||gn.empty();_=f.applyToLocalView(y,_),i.set(p,_);const I=(o.get(f.batchId)||Ve()).add(p);o=o.insert(f.batchId,I)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,I=t0();_.forEach(T=>{if(!l.has(T)){const P=l0(t.get(T),i.get(T));P!==null&&I.set(T,P),l=l.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,I))}return Q.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Y_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Q.resolve(ds());let f=-1,p=l;return h.next(y=>Q.forEach(y,(_,I)=>(f<I.largestBatchId&&(f=I.largestBatchId),l.get(_)?Q.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,Ve())).next(_=>({batchId:f,changes:e0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=Ka();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Ka();return this.indexManager.getCollectionParents(e,l).next(f=>Q.forEach(f,p=>{const y=function(I,T){return new Al(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(_=>{_.forEach((I,T)=>{h=h.insert(I,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,zt.newInvalidDocument(_)))});let f=Ka();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&el(_.mutation,y,gn.empty(),_t.now()),Qc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Q.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:lr(o.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:LR(o.bundledQuery),readTime:lr(o.readTime)}}(t)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.overlays=new it(ye.comparator),this.Er=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ds();return Q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.Tt(e,t,l)}),Q.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(i)),Q.resolve()}getOverlaysForCollection(e,t,i){const o=ds(),l=t.length+1,h=new ye(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=ds(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=ds(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=o)););return Q.resolve(f)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new cR(t,i));let l=this.Er.get(t);l===void 0&&(l=Ve(),this.Er.set(t,l)),this.Er.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.dr=new Et(Rt.Ar),this.Rr=new Et(Rt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Rt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Rt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ye(new Je([])),i=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Rr.forEachInRange([i,o],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ye(new Je([])),i=new Rt(t,e),o=new Rt(t,e+1);let l=Ve();return this.Rr.forEachInRange([i,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Rt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ye.comparator(e.key,t.key)||Oe(e.br,t.br)}static Vr(e,t){return Oe(e.br,t.br)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Et(Rt.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new uR(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.vr=this.vr.add(new Rt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Q.resolve(h)}lookupMutationBatch(e,t){return Q.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),l=o<0?0:o;return Q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,o],h=>{const f=this.Cr(h.br);l.push(f)}),Q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Et(Oe);return t.forEach(o=>{const l=new Rt(o,0),h=new Rt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{i=i.add(f.br)})}),Q.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const h=new Rt(new ye(l),0);let f=new Et(Oe);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.br)),!0)},h),Q.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Q.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Rt(t,0),o=this.vr.firstAfterOrEqual(i);return Q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.Nr=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Q.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let i=jr();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():zt.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=jr();const h=t.path,f=new ye(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||SC(AC(_),i)<=0||(o.has(_.key)||Qc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return Q.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ae()}Lr(e,t){return Q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new QR(this)}getSize(e){return Q.resolve(this.size)}}class QR extends BR{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Q.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.persistence=e,this.Br=new ws(t=>Xf(t),Zf),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new ip,this.targetCount=0,this.Qr=Lo.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Q.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Un(t),Q.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),Q.waitFor(l).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Q.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Q.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),Q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Q.resolve(i)}containsKey(e,t){return Q.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Wc(0),this.Ur=!1,this.Ur=!0,this.Wr=new KR,this.referenceDelegate=e(this),this.Gr=new YR(this),this.indexManager=new OR,this.remoteDocumentCache=function(o){return new $R(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new VR(t),this.jr=new WR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new GR(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new JR(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(l=>this.referenceDelegate.Jr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Yr(e,t){return Q.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class JR extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class sp{constructor(e){this.persistence=e,this.Zr=new ip,this.Xr=null}static ei(e){return new sp(e)}get ti(){if(this.Xr)return this.Xr;throw Ae()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Q.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,i=>{const o=ye.fromPath(i);return this.ni(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Q.or([()=>Q.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Dc{constructor(e,t){this.persistence=e,this.ri=new ws(i=>NC(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jR(this,t)}static ei(e,t){return new Dc(e,t)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Q.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(l=>l?Q.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(i++,l.removeEntry(h,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Q.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=cc(e.data.value)),t}ir(e,t,i){return Q.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new op(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wI()?8:PC(Ht())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,o,i).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new XR;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(_o()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(_o()<=xe.DEBUG&&le("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(_o()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):Q.resolve())}Xi(e,t){if(By(t))return Q.resolve(null);let i=or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=_f(t,null,"F"),i=or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const h=Ve(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,_f(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return By(t)||o.isEqual(Se.min())?Q.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const h=this.rs(t,l);return this.ss(t,h,i,o)?Q.resolve(null):(_o()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.os(e,h,t,IC(o,-1)).next(f=>f))})}rs(e,t){let i=new Et(X_(e));return t.forEach((o,l)=>{Qc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ts(e,t,i){return _o()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ki.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new it(Oe),this.cs=new ws(l=>Xf(l),Zf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qR(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function tP(n,e,t,i){return new eP(n,e,t,i)}async function T0(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const h=[],f=[];let p=Ve();for(const y of o){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function nP(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const I=y.batch,T=I.keys();let P=Q.resolve();return T.forEach(D=>{P=P.next(()=>_.getEntry(p,D)).next(M=>{const x=y.docVersions.get(D);ze(x!==null),M.version.compareTo(x)<0&&(I.applyToRemoteDocument(M,y),M.isValidDocument()&&(M.setReadTime(y.commitVersion),_.addEntry(M)))})}),P.next(()=>f.mutationQueue.removeMutationBatch(p,I))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Ve();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function I0(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function rP(n,e){const t=Ce(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const f=[];e.targetChanges.forEach((_,I)=>{const T=o.get(I);if(!T)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,I).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,I)));let P=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(I)!==null?P=P.withResumeToken(Ot.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),o=o.insert(I,P),function(M,x,U){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(T,P,_)&&f.push(t.Gr.updateTargetData(l,P))});let p=jr(),y=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(iP(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!i.isEqual(Se.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(I=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(_)}return Q.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=o,l))}function iP(n,e,t){let i=Ve(),o=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let h=jr();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):le("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:o}})}function sP(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oP(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(l=>l?(o=l,Q.resolve(o)):t.Gr.allocateTargetId(i).next(h=>(o=new Ti(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Af(n,e,t){const i=Ce(n),o=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!qo(h))throw h;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Zy(n,e,t){const i=Ce(n);let o=Se.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const I=Ce(p),T=I.cs.get(_);return T!==void 0?Q.resolve(I.us.get(T)):I.Gr.getTargetData(y,_)}(i,h,or(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?l:Ve())).next(f=>(aP(i,$C(e),f),{documents:f,ds:l})))}function aP(n,e,t){let i=n.ls.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class ev{constructor(){this.activeTargetIds=eR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this._o=new ev,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new ev,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Jd(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class dP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}Oo(t,i,o,l,h){const f=Jd(),p=this.No(t,i.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${f}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,o).then(_=>(le("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw ko("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",o),_})}ko(t,i,o,l,h,f){return this.Oo(t,i,o,l,h)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),o&&o.headers.forEach((l,h)=>t[h]=l)}No(t,i){const o=cP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const l=Jd();return new Promise((h,f)=>{const p=new L_;p.setWithCredentials(!0),p.listenOnce(O_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uc.NO_ERROR:const _=p.getResponseJson();le(jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case uc.TIMEOUT:le(jt,`RPC '${e}' ${l} timed out`),f(new ce(Y.DEADLINE_EXCEEDED,"Request time out"));break;case uc.HTTP_ERROR:const I=p.getStatus();if(le(jt,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T==null?void 0:T.error;if(P&&P.status&&P.message){const D=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(U)>=0?U:Y.UNKNOWN}(P.status);f(new ce(D,P.message))}else f(new ce(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new ce(Y.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{le(jt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(o);le(jt,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=Jd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=F_(),f=b_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");le(jt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const I=h.createWebChannel(_,p);let T=!1,P=!1;const D=new hP({Eo:x=>{P?le(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,x):(T||(le(jt,`Opening RPC '${e}' stream ${o} transport.`),I.open(),T=!0),le(jt,`RPC '${e}' stream ${o} sending:`,x),I.send(x))},Ao:()=>I.close()}),M=(x,U,W)=>{x.listen(U,G=>{try{W(G)}catch(ee){setTimeout(()=>{throw ee},0)}})};return M(I,Ha.EventType.OPEN,()=>{P||(le(jt,`RPC '${e}' stream ${o} transport opened.`),D.So())}),M(I,Ha.EventType.CLOSE,()=>{P||(P=!0,le(jt,`RPC '${e}' stream ${o} transport closed`),D.Do())}),M(I,Ha.EventType.ERROR,x=>{P||(P=!0,ko(jt,`RPC '${e}' stream ${o} transport errored:`,x),D.Do(new ce(Y.UNAVAILABLE,"The operation could not be completed")))}),M(I,Ha.EventType.MESSAGE,x=>{var U;if(!P){const W=x.data[0];ze(!!W);const G=W,ee=(G==null?void 0:G.error)||((U=G[0])===null||U===void 0?void 0:U.error);if(ee){le(jt,`RPC '${e}' stream ${o} received error:`,ee);const fe=ee.status;let pe=function(S){const k=dt[S];if(k!==void 0)return h0(k)}(fe),N=ee.message;pe===void 0&&(pe=Y.INTERNAL,N="Unknown error status: "+fe+" with message "+ee.message),P=!0,D.Do(new ce(pe,N)),I.close()}else le(jt,`RPC '${e}' stream ${o} received:`,W),D.vo(W)}}),M(f,M_.STAT_EVENT,x=>{x.stat===ff.PROXY?le(jt,`RPC '${e}' stream ${o} detected buffering proxy`):x.stat===ff.NOPROXY&&le(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(n){return new _R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t,i,o,l,h,f,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new A0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new ce(Y.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fP extends S0{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=TR(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?lr(h.readTime):Se.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=If(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=yf(p)?{documents:SR(l,p)}:{query:CR(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=p0(l,h.resumeToken);const y=Ef(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Se.min())>0){f.readTime=Nc(l,h.snapshotVersion.toTimestamp());const y=Ef(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const i=PR(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=If(this.serializer),t.removeTarget=e,this.c_(t)}}class pP extends S0{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=AR(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=If(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>IR(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,wf(t,i),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(Y.UNKNOWN,l.toString())})}ko(e,t,i,o,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,wf(t,i),o,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(Y.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class gP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ur(t),this.C_=!1):le("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{i.enqueueAndForget(async()=>{Ts(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.k_.add(4),await Rl(y),y.K_.set("Unknown"),y.k_.delete(4),await eh(y)}(this))})}),this.K_=new gP(i,o)}}async function eh(n){if(Ts(n))for(const e of n.q_)await e(!0)}async function Rl(n){for(const e of n.q_)await e(!1)}function C0(n,e){const t=Ce(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),cp(t)?up(t):Wo(t).s_()&&lp(t,e))}function ap(n,e){const t=Ce(n),i=Wo(t);t.B_.delete(e),i.s_()&&R0(t,e),t.B_.size===0&&(i.s_()?i.a_():Ts(t)&&t.K_.set("Unknown"))}function lp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(n).V_(e)}function R0(n,e){n.U_.xe(e),Wo(n).m_(e)}function up(n){n.U_=new mR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Wo(n).start(),n.K_.F_()}function cp(n){return Ts(n)&&!Wo(n).i_()&&n.B_.size>0}function Ts(n){return Ce(n).k_.size===0}function P0(n){n.U_=void 0}async function vP(n){n.K_.set("Online")}async function _P(n){n.B_.forEach((e,t)=>{lp(n,e)})}async function EP(n,e){P0(n),cp(n)?(n.K_.O_(e),up(n)):n.K_.set("Unknown")}async function wP(n,e,t){if(n.K_.set("Online"),e instanceof f0&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const f of l.targetIds)o.B_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.B_.delete(f),o.U_.removeTarget(f))}(n,e)}catch(i){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await xc(n,i)}else if(e instanceof fc?n.U_.$e(e):e instanceof d0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Se.min()))try{const i=await I0(n.localStore);t.compareTo(i)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(Ot.EMPTY_BYTE_STRING,_.snapshotVersion)),R0(l,p);const I=new Ti(_.target,p,y,_.sequenceNumber);lp(l,I)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le("RemoteStore","Failed to raise snapshot:",i),await xc(n,i)}}async function xc(n,e,t){if(!qo(e))throw e;n.k_.add(1),await Rl(n),n.K_.set("Offline"),t||(t=()=>I0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await eh(n)})}function k0(n,e){return e().catch(t=>xc(n,t,e))}async function th(n){const e=Ce(n),t=Vi(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;TP(e);)try{const o=await sP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,IP(e,o)}catch(o){await xc(e,o)}N0(e)&&D0(e)}function TP(n){return Ts(n)&&n.L_.length<10}function IP(n,e){n.L_.push(e);const t=Vi(n);t.s_()&&t.f_&&t.g_(e.mutations)}function N0(n){return Ts(n)&&!Vi(n).i_()&&n.L_.length>0}function D0(n){Vi(n).start()}async function AP(n){Vi(n).w_()}async function SP(n){const e=Vi(n);for(const t of n.L_)e.g_(t.mutations)}async function CP(n,e,t){const i=n.L_.shift(),o=tp.from(i,e,t);await k0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await th(n)}async function RP(n,e){e&&Vi(n).f_&&await async function(i,o){if(function(h){return dR(h)&&h!==Y.ABORTED}(o.code)){const l=i.L_.shift();Vi(i).__(),await k0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await th(i)}}(n,e),N0(n)&&D0(n)}async function nv(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const i=Ts(t);t.k_.add(3),await Rl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await eh(t)}async function PP(n,e){const t=Ce(n);e?(t.k_.delete(2),await eh(t)):e||(t.k_.add(2),await Rl(t),t.K_.set("Unknown"))}function Wo(n){return n.W_||(n.W_=function(t,i,o){const l=Ce(t);return l.b_(),new fP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:vP.bind(null,n),mo:_P.bind(null,n),po:EP.bind(null,n),R_:wP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),cp(n)?up(n):n.K_.set("Unknown")):(await n.W_.stop(),P0(n))})),n.W_}function Vi(n){return n.G_||(n.G_=function(t,i,o){const l=Ce(t);return l.b_(),new pP(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:AP.bind(null,n),po:RP.bind(null,n),p_:SP.bind(null,n),y_:CP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await th(n)):(await n.G_.stop(),n.L_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new hp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),qo(n))return new ce(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=Ka(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.z_=new it(ye.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ae():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Oo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new Oo(e,t,Ro.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class NP{constructor(){this.queries=iv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=iv(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(i)})})(this,new ce(Y.ABORTED,"Firestore shutting down"))}}function iv(){return new ws(n=>J_(n),$c)}async function fp(n,e){const t=Ce(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Y_()&&e.Z_()&&(i=2):(l=new kP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(o,!0);break;case 1:l.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=dp(h,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&mp(t)}async function pp(n,e){const t=Ce(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?o=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function DP(n,e){const t=Ce(n);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(o)&&(i=!0);h.H_=o}}i&&mp(t)}function xP(n,e,t){const i=Ce(n),o=i.queries.get(e);if(o)for(const l of o.J_)l.onError(t);i.queries.delete(e)}function mp(n){n.X_.forEach(e=>{e.next()})}var Sf,sv;(sv=Sf||(Sf={})).na="default",sv.Cache="cache";class gp{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Oo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Sf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this.key=e}}class V0{constructor(e){this.key=e}}class VP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=X_(e),this.ma=new Ro(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new rv,o=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,I)=>{const T=o.get(_),P=Qc(this.query,I)?I:null,D=!!T&&this.mutatedKeys.has(T.key),M=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let x=!1;T&&P?T.data.isEqual(P.data)?D!==M&&(i.track({type:3,doc:P}),x=!0):this.ya(T,P)||(i.track({type:2,doc:P}),x=!0,(p&&this.Va(P,p)>0||y&&this.Va(P,y)<0)&&(f=!0)):!T&&P?(i.track({type:0,doc:P}),x=!0):T&&!P&&(i.track({type:1,doc:T}),x=!0,(p||y)&&(f=!0)),x&&(P?(h=h.add(P),l=M?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:h,pa:i,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,I)=>function(P,D){const M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return M(P)-M(D)}(_.type,I.type)||this.Va(_.doc,I.doc)),this.wa(i),o=o!=null&&o;const f=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new Oo(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new rv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new V0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new x0(i))}),t}va(e){this.da=e.ds,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Oo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class LP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OP{constructor(e){this.key=e,this.Fa=!1}}class MP{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new ws(f=>J_(f),$c),this.Oa=new Map,this.Na=new Set,this.La=new it(ye.comparator),this.Ba=new Map,this.ka=new ip,this.qa={},this.Qa=new Map,this.Ka=Lo.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function bP(n,e,t=!0){const i=U0(n);let o;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Ca()):o=await L0(i,e,t,!0),o}async function FP(n,e){const t=U0(n);await L0(t,e,!0,!1)}async function L0(n,e,t,i){const o=await oP(n.localStore,or(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await UP(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&C0(n.remoteStore,o),f}async function UP(n,e,t,i,o){n.Ua=(I,T,P)=>async function(M,x,U,W){let G=x.view.ga(U);G.ss&&(G=await Zy(M.localStore,x.query,!1).then(({documents:N})=>x.view.ga(N,G)));const ee=W&&W.targetChanges.get(x.targetId),fe=W&&W.targetMismatches.get(x.targetId)!=null,pe=x.view.applyChanges(G,M.isPrimaryClient,ee,fe);return av(M,x.targetId,pe.ba),pe.snapshot}(n,I,T,P);const l=await Zy(n.localStore,e,!0),h=new VP(e,l.ds),f=h.ga(l.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=h.applyChanges(f,n.isPrimaryClient,p);av(n,t,y.ba);const _=new LP(e,t,h);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function jP(n,e,t){const i=Ce(n),o=i.xa.get(e),l=i.Oa.get(o.targetId);if(l.length>1)return i.Oa.set(o.targetId,l.filter(h=>!$c(h,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Af(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&ap(i.remoteStore,o.targetId),Cf(i,o.targetId)}).catch(zo)):(Cf(i,o.targetId),await Af(i.localStore,o.targetId,!0))}async function BP(n,e){const t=Ce(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ap(t.remoteStore,i.targetId))}async function zP(n,e,t){const i=QP(n);try{const o=await function(h,f){const p=Ce(h),y=_t.now(),_=f.reduce((P,D)=>P.add(D.key),Ve());let I,T;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let D=jr(),M=Ve();return p.hs.getEntries(P,_).next(x=>{D=x,D.forEach((U,W)=>{W.isValidDocument()||(M=M.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,D)).next(x=>{I=x;const U=[];for(const W of f){const G=aR(W,I.get(W.key).overlayedDocument);G!=null&&U.push(new Mi(W.key,G,q_(G.value.mapValue),ar.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,U,f)}).next(x=>{T=x;const U=x.applyToLocalDocumentSet(I,M);return p.documentOverlayCache.saveOverlays(P,x.batchId,U)})}).then(()=>({batchId:T.batchId,changes:e0(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new it(Oe)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(i,o.batchId,t),await Pl(i,o.changes),await th(i.remoteStore)}catch(o){const l=dp(o,"Failed to persist write");t.reject(l)}}async function O0(n,e){const t=Ce(n);try{const i=await rP(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ba.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Fa=!0:o.modifiedDocuments.size>0?ze(h.Fa):o.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))}),await Pl(t,i,e)}catch(i){await zo(i)}}function ov(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Ce(h);p.onlineState=f;let y=!1;p.queries.forEach((_,I)=>{for(const T of I.J_)T.ea(f)&&(y=!0)}),y&&mp(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qP(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),l=o&&o.key;if(l){let h=new it(ye.comparator);h=h.insert(l,zt.newNoDocument(l,Se.min()));const f=Ve().add(l),p=new Xc(Se.min(),new Map,new it(Oe),h,f);await O0(i,p),i.La=i.La.remove(l),i.Ba.delete(e),yp(i)}else await Af(i.localStore,e,!1).then(()=>Cf(i,e,t)).catch(zo)}async function WP(n,e){const t=Ce(n),i=e.batch.batchId;try{const o=await nP(t.localStore,e);b0(t,i,null),M0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Pl(t,o)}catch(o){await zo(o)}}async function HP(n,e,t){const i=Ce(n);try{const o=await function(h,f){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(I=>(ze(I!==null),_=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(i.localStore,e);b0(i,e,t),M0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Pl(i,o)}catch(o){await zo(o)}}function M0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function b0(n,e,t){const i=Ce(n);let o=i.qa[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||F0(n,i)})}function F0(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(ap(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),yp(n))}function av(n,e,t){for(const i of t)i instanceof x0?(n.ka.addReference(i.key,e),KP(n,i)):i instanceof V0?(le("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||F0(n,i.key)):Ae()}function KP(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(le("SyncEngine","New document in limbo: "+t),n.Na.add(i),yp(n))}function yp(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ye(Je.fromString(e)),i=n.Ka.next();n.Ba.set(i,new OP(t)),n.La=n.La.insert(t,i),C0(n.remoteStore,new Ti(or(Gc(t.path)),i,"TargetPurposeLimboResolution",Wc.oe))}}async function Pl(n,e,t){const i=Ce(n),o=[],l=[],h=[];i.xa.isEmpty()||(i.xa.forEach((f,p)=>{h.push(i.Ua(p,e,t).then(y=>{var _;if((y||t)&&i.isPrimaryClient){const I=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){o.push(y);const I=op.zi(p.targetId,y);l.push(I)}}))}),await Promise.all(h),i.Ma.R_(o),await async function(p,y){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(y,T=>Q.forEach(T.Wi,P=>_.persistence.referenceDelegate.addReference(I,T.targetId,P)).next(()=>Q.forEach(T.Gi,P=>_.persistence.referenceDelegate.removeReference(I,T.targetId,P)))))}catch(I){if(!qo(I))throw I;le("LocalStore","Failed to update sequence numbers: "+I)}for(const I of y){const T=I.targetId;if(!I.fromCache){const P=_.us.get(T),D=P.snapshotVersion,M=P.withLastLimboFreeSnapshotVersion(D);_.us=_.us.insert(T,M)}}}(i.localStore,l))}async function GP(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const i=await T0(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new ce(Y.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Pl(t,i.Ts)}}function $P(n,e){const t=Ce(n),i=t.Ba.get(e);if(i&&i.Fa)return Ve().add(i.key);{let o=Ve();const l=t.Oa.get(e);if(!l)return o;for(const h of l){const f=t.xa.get(h);o=o.unionWith(f.view.fa)}return o}}function U0(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=O0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$P.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qP.bind(null,e),e.Ma.R_=DP.bind(null,e.eventManager),e.Ma.Wa=xP.bind(null,e.eventManager),e}function QP(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return tP(this.persistence,new ZR,e.initialUser,this.serializer)}ja(e){return new w0(sp.ei,this.serializer)}za(e){return new lP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class YP extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ze(this.persistence.referenceDelegate instanceof Dc);const i=this.persistence.referenceDelegate.garbageCollector;return new FR(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new w0(i=>Dc.ei(i,t),this.serializer)}}class Rf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GP.bind(null,this.syncEngine),await PP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NP}()}createDatastore(e){const t=Zc(e.databaseInfo.databaseId),i=function(l){return new dP(l)}(e.databaseInfo);return function(l,h,f,p){return new mP(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,h,f){return new yP(i,o,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>ov(this.syncEngine,t,0),function(){return tv.p()?new tv:new uP}())}createSyncEngine(e,t){return function(o,l,h,f,p,y,_){const I=new MP(o,l,h,f,p,y);return _&&(I.$a=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ce(o);le("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await Rl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rf.provider={build:()=>new Rf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Bt.UNAUTHENTICATED,this.clientId=j_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async h=>{le("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(le("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=dp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Zd(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await T0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function lv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XP(n);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>nv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>nv(e.remoteStore,o)),n._onlineComponents=e}async function XP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;ko("Error using user provided cache. Falling back to memory cache: "+t),await Zd(n,new Vc)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Zd(n,new YP(void 0));return n._offlineComponents}async function j0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await lv(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await lv(n,new Rf))),n._onlineComponents}function ZP(n){return j0(n).then(e=>e.syncEngine)}async function Lc(n){const e=await j0(n),t=e.eventManager;return t.onListen=bP.bind(null,e.syncEngine),t.onUnlisten=jP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BP.bind(null,e.syncEngine),t}function ek(n,e,t={}){const i=new Or;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new vp({next:T=>{_.eu(),h.enqueueAndForget(()=>pp(l,I));const P=T.docs.has(f);!P&&T.fromCache?y.reject(new ce(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&p&&p.source==="server"?y.reject(new ce(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),I=new gp(Gc(f.path),_,{includeMetadataChanges:!0,ua:!0});return fp(l,I)}(await Lc(n),n.asyncQueue,e,t,i)),i.promise}function tk(n,e,t={}){const i=new Or;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new vp({next:T=>{_.eu(),h.enqueueAndForget(()=>pp(l,I)),T.fromCache&&p.source==="server"?y.reject(new ce(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),I=new gp(f,_,{includeMetadataChanges:!0,ua:!0});return fp(l,I)}(await Lc(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n,e,t){if(!t)throw new ce(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nk(n,e,t,i){if(e===!0&&i===!0)throw new ce(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function cv(n){if(!ye.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hv(n){if(ye.isDocumentKey(n))throw new ce(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function Rn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nh(n);throw new ce(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ce(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new pC;switch(i.type){case"firstParty":return new vC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=uv.get(t);i&&(le("ComponentProvider","Removing Datastore"),uv.delete(t),i.terminate())}(this),Promise.resolve()}}function rk(n,e,t,i={}){var o;const l=(n=Rn(n,rh))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),i.mockUserToken){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Bt.MOCK_USER;else{f=pI(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ce(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bt(y)}n._authCredentials=new mC(new U_(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Is(this.firestore,e,this._query)}}class Wt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Ci extends Is{constructor(e,t,i){super(e,t,Gc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ye(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function pc(n,e,...t){if(n=wt(n),z0("collection","path",e),n instanceof rh){const i=Je.fromString(e,...t);return hv(i),new Ci(n,null,i)}{if(!(n instanceof Wt||n instanceof Ci))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return hv(i),new Ci(n.firestore,null,i)}}function qt(n,e,...t){if(n=wt(n),arguments.length===1&&(e=j_.newId()),z0("doc","path",e),n instanceof rh){const i=Je.fromString(e,...t);return cv(i),new Wt(n,null,new ye(i))}{if(!(n instanceof Wt||n instanceof Ci))throw new ce(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Je.fromString(e,...t));return cv(i),new Wt(n.firestore,n instanceof Ci?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new A0(this,"async_queue_retry"),this.fu=()=>{const i=Xd();i&&le("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Xd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Xd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Or;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!qo(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(i);throw Ur("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=hp.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.du.push(o),o}pu(){this.Au&&Ae()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function pv(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class _s extends rh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new fv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fv(e),this._firestoreClient=void 0,await e}}}function ik(n,e){const t=typeof n=="object"?n:qv(),i=typeof n=="string"?n:"(default)",o=Uf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=dI("firestore");l&&rk(o,...l)}return o}function ih(n){if(n._terminated)throw new ce(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sk(n),n._firestoreClient}function sk(n){var e,t,i;const o=n._freezeSettings(),l=function(f,p,y,_){return new VC(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,B0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new JP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Ot.fromBase64String(e))}catch(t){throw new ce(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=/^__.*__$/;class ak{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}class q0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Mi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class oh{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Oc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(W0(this.Mu)&&ok.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class lk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Zc(e)}$u(e,t,i,o=!1){return new oh({Mu:e,methodName:t,Ku:i,path:Lt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wp(n){const e=n._freezeSettings(),t=Zc(n._databaseId);return new lk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uk(n,e,t,i,o,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,o);Ap("Data must be an object, but it was:",h,i);const f=H0(i,h);let p,y;if(l.merge)p=new gn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const I of l.mergeFields){const T=Pf(e,I,t);if(!h.contains(T))throw new ce(Y.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);G0(_,T)||_.push(T)}p=new gn(_),y=h.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=h.fieldTransforms;return new ak(new an(f),p,y)}class ah extends kl{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}function ck(n,e,t){return new oh({Mu:3,Ku:e.settings.Ku,methodName:n._methodName,Nu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Tp extends kl{_toFieldTransform(e){return new a0(e.path,new dl)}isEqual(e){return e instanceof Tp}}class Ip extends kl{constructor(e,t){super(e),this.Uu=t}_toFieldTransform(e){const t=ck(this,e,!0),i=this.Uu.map(l=>Ho(l,t)),o=new Vo(i);return new a0(e.path,o)}isEqual(e){return e instanceof Ip&&nl(this.Uu,e.Uu)}}function hk(n,e,t,i){const o=n.$u(1,e,t);Ap("Data must be an object, but it was:",o,i);const l=[],h=an.empty();Oi(i,(p,y)=>{const _=Sp(e,p,t);y=wt(y);const I=o.Bu(_);if(y instanceof ah)l.push(_);else{const T=Ho(y,I);T!=null&&(l.push(_),h.set(_,T))}});const f=new gn(l);return new q0(h,f,o.fieldTransforms)}function dk(n,e,t,i,o,l){const h=n.$u(1,e,t),f=[Pf(e,i,t)],p=[o];if(l.length%2!=0)throw new ce(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Pf(e,l[T])),p.push(l[T+1]);const y=[],_=an.empty();for(let T=f.length-1;T>=0;--T)if(!G0(y,f[T])){const P=f[T];let D=p[T];D=wt(D);const M=h.Bu(P);if(D instanceof ah)y.push(P);else{const x=Ho(D,M);x!=null&&(y.push(P),_.set(P,x))}}const I=new gn(y);return new q0(_,I,h.fieldTransforms)}function fk(n,e,t,i=!1){return Ho(t,n.$u(i?4:3,e))}function Ho(n,e){if(K0(n=wt(n)))return Ap("Unsupported field value:",e,n),H0(n,e);if(n instanceof kl)return function(i,o){if(!W0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const l=[];let h=0;for(const f of i){let p=Ho(f,o.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=wt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tR(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=_t.fromDate(i);return{timestampValue:Nc(o.serializer,l)}}if(i instanceof _t){const l=new _t(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,l)}}if(i instanceof _p)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mo)return{bytesValue:p0(o.serializer,i._byteString)};if(i instanceof Wt){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:rp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Ep)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return ep(f.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${nh(i)}`)}(n,e)}function H0(n,e){const t={};return B_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oi(n,(i,o)=>{const l=Ho(o,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function K0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _t||n instanceof _p||n instanceof Mo||n instanceof Wt||n instanceof kl||n instanceof Ep)}function Ap(n,e,t){if(!K0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=nh(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Pf(n,e,t){if((e=wt(e))instanceof sh)return e._internalPath;if(typeof e=="string")return Sp(n,e);throw Oc("Field path arguments must be of type string or ",n,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function Sp(n,e,t){if(e.search(pk)>=0)throw Oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sh(...e.split("."))._internalPath}catch{throw Oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oc(n,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ce(Y.INVALID_ARGUMENT,f+n+p)}function G0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mk extends $0{data(){return super.data()}}function Cp(n,e){return typeof e=="string"?Sp(n,e):e instanceof sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class gk extends Rp{}function Y0(n,e,...t){let i=[];e instanceof Rp&&i.push(e),i=i.concat(t),function(l){const h=l.filter(p=>p instanceof Pp).length,f=l.filter(p=>p instanceof lh).length;if(h>1||h>0&&f>0)throw new ce(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class lh extends gk{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new lh(e,t,i)}_apply(e){const t=this._parse(e);return X0(e._query,t),new Is(e.firestore,e.converter,vf(e._query,t))}_parse(e){const t=wp(e.firestore);return function(l,h,f,p,y,_,I){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){gv(I,_);const P=[];for(const D of I)P.push(mv(p,l,D));T={arrayValue:{values:P}}}else T=mv(p,l,I)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||gv(I,_),T=fk(f,h,I,_==="in"||_==="not-in");return ft.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function J0(n,e,t){const i=e,o=Cp("where",n);return lh._create(o,i,t)}class Pp extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Pp(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)X0(h,p),h=vf(h,p)}(e._query,t),new Is(e.firestore,e.converter,vf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mv(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new ce(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Y_(e)&&t.indexOf("/")!==-1)throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Je.fromString(t));if(!ye.isDocumentKey(i))throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oy(n,new ye(i))}if(t instanceof Wt)return Oy(n,t._key);throw new ce(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(t)}.`)}function gv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function X0(n,e){const t=function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yk{convertValue(e,t="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Oi(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>ut(h.doubleValue));return new Ep(l)}convertGeoPoint(e){return new _p(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Kc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const t=Ni(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Je.fromString(e);ze(E0(i));const o=new cl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Z0 extends $0{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class mc extends Z0{data(e={}){return super.data(e)}}class eE{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $a(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mc(this._firestore,this._userDataWriter,i.key,i,new $a(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new $a(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new $a(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:_k(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _k(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n){n=Rn(n,Wt);const e=Rn(n.firestore,_s);return ek(ih(e),n._key).then(t=>iE(e,n,t))}class kp extends yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,t)}}function tE(n){n=Rn(n,Is);const e=Rn(n.firestore,_s),t=ih(e),i=new kp(e);return Q0(n._query),tk(t,n._query).then(o=>new eE(e,i,n,o))}function kf(n,e,t){n=Rn(n,Wt);const i=Rn(n.firestore,_s),o=vk(n.converter,e);return rE(i,[uk(wp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,ar.none())])}function Mr(n,e,t,...i){n=Rn(n,Wt);const o=Rn(n.firestore,_s),l=wp(o);let h;return h=typeof(e=wt(e))=="string"||e instanceof sh?dk(l,"updateDoc",n._key,e,t,i):hk(l,"updateDoc",n._key,e),rE(o,[h.toMutation(n._key,ar.exists(!0))])}function nE(n,...e){var t,i,o;n=wt(n);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||pv(e[h])||(l=e[h],h++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(pv(e[h])){const I=e[h];e[h]=(t=I.next)===null||t===void 0?void 0:t.bind(I),e[h+1]=(i=I.error)===null||i===void 0?void 0:i.bind(I),e[h+2]=(o=I.complete)===null||o===void 0?void 0:o.bind(I)}let p,y,_;if(n instanceof Wt)y=Rn(n.firestore,_s),_=Gc(n._key.path),p={next:I=>{e[h]&&e[h](iE(y,n,I))},error:e[h+1],complete:e[h+2]};else{const I=Rn(n,Is);y=Rn(I.firestore,_s),_=I._query;const T=new kp(y);p={next:P=>{e[h]&&e[h](new eE(y,T,I,P))},error:e[h+1],complete:e[h+2]},Q0(n._query)}return function(T,P,D,M){const x=new vp(M),U=new gp(P,x,D);return T.asyncQueue.enqueueAndForget(async()=>fp(await Lc(T),U)),()=>{x.eu(),T.asyncQueue.enqueueAndForget(async()=>pp(await Lc(T),U))}}(ih(y),_,f,p)}function rE(n,e){return function(i,o){const l=new Or;return i.asyncQueue.enqueueAndForget(async()=>zP(await ZP(i),o,l)),l.promise}(ih(n),e)}function iE(n,e,t){const i=t.docs.get(e._key),o=new kp(n);return new Z0(n,o,e._key,i,new $a(t.hasPendingWrites,t.fromCache),e.converter)}function Ek(){return new Tp("serverTimestamp")}function Nf(...n){return new Ip("arrayUnion",n)}(function(e,t=!0){(function(o){Bo=o})(Uo),Po(new ms("firestore",(i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new _s(new gC(i.getProvider("auth-internal")),new EC(i.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(y.options.projectId,_)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Si(ky,"4.7.5",e),Si(ky,"4.7.5","esm2017")})();const wk={apiKey:"AIzaSyCtWUnMQeMTC9dgkJst6FIwUWn1mtPFbJM",authDomain:"ichat-x.firebaseapp.com",projectId:"ichat-x",storageBucket:"ichat-x.firebasestorage.app",messagingSenderId:"179548378717",appId:"1:179548378717:web:3113043debd2f3952a9fb4"},sE=zv(wk),As=eC(sE),Vt=ik(sE),Tk=async(n,e,t)=>{try{const o=(await U1(As,e,t)).user;await kf(qt(Vt,"users",o.uid),{id:o.uid,username:n.toLowerCase(),email:e,name:"",avatar:"",bio:"Hey, there I'm using ichat",lastSeen:Date.now()}),await kf(qt(Vt,"chats",o.uid),{chatData:[]}),Pe.success("User created successfully")}catch(i){console.error(i),Pe.error(i.code.split("/")[1].split("-").join(" "))}},Ik=async(n,e)=>{try{await j1(As,n,e),Pe.success("Logged in successfully")}catch(t){console.error(t),Pe.error(t.code.split("/")[1].split("-").join(" "))}},yv=async()=>{try{await q1(As)}catch(n){console.error(n),Pe.error(n.code.split("/")[1].split("-").join(" "))}},Ak=async n=>{if(!n)return Pe.error("Please enter your Email"),null;try{const e=pc(Vt,"users"),t=Y0(e,J0("email","==",n));(await tE(t)).empty?Pe.error("Email doesn't exists"):(await F1(As,n),Pe.success("Reset Email Sent Successfully"))}catch(e){console.log(e),Pe.error(e.message)}},Sk=()=>{const[n,e]=z.useState("Sign up"),[t,i]=z.useState(""),[o,l]=z.useState(""),[h,f]=z.useState(""),p=y=>{y.preventDefault(),n==="Sign up"?Tk(t,o,h):Ik(o,h)};return X.jsxs("div",{className:"login",children:[X.jsx("img",{src:qn.logo_big,alt:"login page image",className:"logo"}),X.jsxs("form",{onSubmit:p,action:"",className:"login-form",children:[X.jsx("h2",{children:n}),n==="Sign up"?X.jsx("input",{type:"text",onChange:y=>i(y.target.value),value:t,placeholder:"Username",className:"form-input",required:!0}):null,X.jsx("input",{type:"email",onChange:y=>l(y.target.value),value:o,placeholder:"Email Address",className:"form-input",required:!0}),X.jsx("input",{type:"password",onChange:y=>f(y.target.value),value:h,placeholder:"Password",className:"form-input",required:!0}),X.jsx("button",{type:"submit",children:n==="Sign up"?"Create Account":"Login"}),X.jsxs("div",{className:"login-term",children:[X.jsx("input",{type:"checkbox"}),X.jsx("p",{children:"Agree to the terms of use & privacy policy."})]}),X.jsxs("div",{className:"login-forgot",children:[n==="Sign up"?X.jsxs("p",{className:"login-toggle",children:["Have an account? ",X.jsx("span",{onClick:()=>e("Login"),children:"Log in"})]}):X.jsxs("p",{className:"login-toggle",children:["Don't have an account? ",X.jsx("span",{onClick:()=>e("Sign up"),children:"Sign up"})]}),n==="Login"?X.jsxs("p",{className:"login-toggle",children:["Forgot Password? ",X.jsx("span",{onClick:()=>Ak(o),children:"reset here"})]}):null]})]})]})},Ss=z.createContext(),Ck=n=>{const e=gl(),[t,i]=z.useState(null),[o,l]=z.useState(null),[h,f]=z.useState(null),[p,y]=z.useState([]),[_,I]=z.useState(null),[T,P]=z.useState(!1),D=async x=>{try{const U=qt(Vt,"users",x),G=(await Ri(U)).data();i(G),G.name&&G.avatar?e("/chat"):e("/profile"),await Mr(U,{lastSeen:Date.now()}),setInterval(async()=>{As.chatUser&&(console.log("Updating Last Seen"),await Mr(U,{lastSeen:Date.now()}))},6e4)}catch(U){console.log(U)}};z.useEffect(()=>{if(t){const x=qt(Vt,"chats",t.id),U=nE(x,async W=>{const G=W.data().chatData,ee=[];for(const fe of G){const pe=qt(Vt,"users",fe.rId),A=(await Ri(pe)).data();ee.push({...fe,userData:A})}l(ee.sort((fe,pe)=>pe.updatedAt-fe.updatedAt))});return()=>{U()}}},[t]);const M={userData:t,setUserData:i,chatData:o,setChatData:l,loadUserData:D,messages:p,setMessages:y,messagesId:h,setMessagesId:f,chatUser:_,setChatUser:I,chatVisible:T,setChatVisible:P};return X.jsx(Ss.Provider,{value:M,children:n.children})},Rk=()=>{const n=gl(),{userData:e,chatData:t,chatUser:i,setChatUser:o,messagesId:l,setMessagesId:h,chatVisible:f,setChatVisible:p}=z.useContext(Ss),[y,_]=z.useState(null),[I,T]=z.useState(!1),P=async x=>{try{const U=x.target.value;if(U){T(!0);const W=pc(Vt,"users"),G=Y0(W,J0("username","==",U.toLowerCase())),ee=await tE(G);if(!ee.empty&&ee.docs[0].data().id!==e.id){let fe=!1;t.map(pe=>{pe.rId===ee.docs[0].data().id&&(fe=!0)}),fe||_(ee.docs[0].data())}else _(null)}else T(!1)}catch(U){console.log(U)}},D=async()=>{const x=pc(Vt,"messages"),U=pc(Vt,"chats");try{const W=qt(x);await kf(W,{createdAt:Ek(),messages:[]}),await Mr(qt(U,y.id),{chatData:Nf({messageId:W.id,lastMessage:"",rId:e.id,updatedAt:Date.now(),messageSeen:!0})}),await Mr(qt(U,e.id),{chatData:Nf({messageId:W.id,lastMessage:"",rId:y.id,updatedAt:Date.now(),messageSeen:!0})});const ee=(await Ri(qt(Vt,"users",y.id))).data();M({messagesId:W.id,lastMessage:"",rId:y.id,updatedAt:Date.now(),messageSeen:!0,userData:ee}),T(!1),p(!0)}catch(W){console.log(W),Pe.error(W.message)}},M=async x=>{try{h(x.messageId),o(x);const U=qt(Vt,"chats",e.id),G=(await Ri(U)).data();console.log(G);const ee=G.chatData.findIndex(fe=>fe.messageId===x.messageId);G.chatData[ee].messageSeen=!0,await Mr(U,{chatData:G.chatData}),p(!0)}catch(U){console.log(U),Pe.error(U.message)}};return z.useEffect(()=>{(async()=>{if(i){const U=qt(Vt,"users",i.userData.id),G=(await Ri(U)).data();o(ee=>({...ee,userData:G}))}})()},[t]),X.jsxs("div",{className:`ls ${f?"hidden":""}`,children:[X.jsxs("div",{className:"ls-top",children:[X.jsxs("div",{className:"ls-nav",children:[X.jsx("img",{src:qn.logo,className:"logo",alt:""}),X.jsxs("div",{className:"menu",children:[X.jsx("img",{src:qn.menu_icon,alt:""}),X.jsxs("div",{className:"sub-menu",children:[X.jsx("div",{onClick:()=>n("/profile"),children:"Edit Profile"}),X.jsx("hr",{}),X.jsx("div",{children:"Logout"})]})]})]}),X.jsxs("div",{className:"ls-search",children:[X.jsx("img",{src:qn.search_icon,alt:""}),X.jsx("input",{onChange:P,type:"text",placeholder:"Search here..."})]})]}),X.jsx("div",{className:"ls-list",children:I&&y?X.jsxs("div",{onClick:D,className:"friends add-user",children:[X.jsx("img",{src:y.avatar,alt:""}),X.jsx("p",{children:y.name})]}):t.map((x,U)=>X.jsxs("div",{onClick:()=>M(x),className:`friends ${x.messageSeen||x.messageId===l?"":"border"}`,children:[X.jsx("img",{src:x.userData.avatar,alt:""}),X.jsxs("div",{children:[X.jsx("p",{children:x.userData.name}),X.jsx("span",{children:x.lastMessage})]})]},U))})]})},Pk=()=>{const{userData:n,messagesId:e,chatUser:t,messages:i,setMessages:o,chatVisible:l,setChatVisible:h}=z.useContext(Ss),[f,p]=z.useState(""),y=async()=>{try{f&&e&&(await Mr(qt(Vt,"messages",e),{messages:Nf({sId:n.id,text:f,createdAt:new Date})}),[t.rId,n.id].forEach(async P=>{const D=qt(Vt,"chats",P),M=await Ri(D);if(M.exists()){const x=M.data(),U=x.chatData.findIndex(W=>W.messageId===e);x.chatData[U].lastMessage=f.slice(0,30),x.chatData[U].updatedAt=Date.now(),x.chatData[U].rId===n.id&&(x.chatData[U].messageSeen=!1),await Mr(D,{chatData:x.chatData})}}))}catch(T){Pe.error(T.message)}p("")},_=T=>{let P=T.toDate();const D=P.getHours(),M=P.getMinutes();return D>12?D-12+":"+M+"PM":D+":"+M+"AM"};z.useEffect(()=>{if(e){const T=nE(qt(Vt,"messages",e),P=>{o(P.data().messages.reverse())});return()=>{T()}}},[e]);const I=T=>{T.key==="Enter"&&y()};return t?X.jsxs("div",{className:`chat-box ${l?"":"hidden"}`,children:[X.jsxs("div",{className:"chat-user",children:[X.jsx("img",{src:t.userData.avatar,alt:""}),X.jsxs("p",{children:[t.userData.name," ",Date.now()-t.userData.lastSeen<=7e4?X.jsx("img",{src:qn.green_dot,className:"dot",alt:""}):null]}),X.jsx("img",{src:qn.help_icon,className:"help",alt:""}),X.jsx("img",{onClick:()=>h(!1),src:qn.arrow_icon,className:"arrow",alt:""})]}),X.jsx("div",{className:"chat-msg",children:i.map((T,P)=>X.jsxs("div",{className:T.sId===n.id?"s-msg":"r-msg",children:[X.jsx("p",{className:"msg",children:T.text}),X.jsxs("div",{children:[X.jsx("img",{src:T.sId===n.id?n.avatar:t.userData.avatar,alt:""}),X.jsx("p",{children:_(T.createdAt)})]})]},P))}),X.jsxs("div",{className:"chat-input",children:[X.jsx("input",{onKeyDown:I,onChange:T=>p(T.target.value),value:f,type:"text",placeholder:"Send a message"}),X.jsx("img",{onClick:y,src:qn.send_button,alt:""})]})]}):X.jsxs("div",{className:`chat-welcome ${l?"":"hidden"}`,children:[X.jsx("img",{src:qn.logo_icon,alt:""}),X.jsx("p",{children:"Chat anytime, anywhere"})]})},kk=()=>{const{chatUser:n}=z.useContext(Ss);return n?X.jsxs("div",{className:"rs",children:[X.jsxs("div",{className:"rs-profile",children:[X.jsx("img",{src:n.userData.avatar,alt:""}),X.jsxs("h3",{children:[n.userData.name," ",Date.now()-n.userData.lastSeen<=7e4?X.jsx("img",{src:qn.green_dot,className:"dot",alt:""}):null]}),X.jsx("p",{children:n.userData.bio})]}),X.jsx("hr",{}),X.jsx("button",{onClick:()=>yv(),children:"Logout"})]}):X.jsx("div",{className:"rs",children:X.jsx("button",{onClick:()=>yv(),children:"Logout"})})},Nk=()=>{const{chatData:n,userData:e}=z.useContext(Ss),[t,i]=z.useState(!0);return z.useEffect(()=>{n&&e&&i(!1)},[n,e]),X.jsx("div",{className:"chat",children:t?X.jsx("p",{className:"loading",children:"Loading..."}):X.jsxs("div",{className:"chat-container",children:[X.jsx(Rk,{}),X.jsx(Pk,{}),X.jsx(kk,{})]})})},Dk="/assets/pic5-CavWpnMu.jpg",xk="/assets/pic6-DOT52AnQ.jpg",Vk="/assets/pic7-Dr0WC5Yx.jpg",Lk="/assets/pic8-BK0LdymP.jpg",Ok="/assets/pic9-3fut21Hd.jpg",Mk="/assets/pic10-1KjQojdg.jpg",bk="/assets/pic11-DxRTh3Dr.jpg",Fk="/assets/pic12-CnB9S2Qs.jpg",Uk="/assets/pic13-pVUgrM81.jpg",jk="/assets/pic14-Cmk0Bvyh.jpg",Bk="/assets/pic15-BlaCR7BS.jpg",zk="/assets/pic16-DM_Svaaq.jpg",qk="/assets/pic17-JysF30nM.png",Wk="/assets/pic19-CCh8Kygh.png",Hk="/assets/pic20-DDP56DzH.jpg",Kk="/assets/pic21-DSfazKZQ.jpg",Gk="/assets/pic22-BEumkh47.jpg",$k="/assets/pic23-DDPAvwJf.jpg",Qk="/assets/pic24-DKSANiI9.jpg",Yk="/assets/pic25-3zi4DlPh.jpg",Jk="/assets/pic26--LNfAO3Y.jpg",Xk="/assets/pic27-CRYMkpmR.jpg",Zk="/assets/pic28-BliUo-ds.jpg",eN="/assets/pic29-D-8XX058.jpg",tN="/assets/pic30-JiKTzNoM.png",nN="/assets/pic31-BBZ-g8kb.jpg",rN="/assets/pic32-DkxBc2yi.jpg",iN="/assets/pic33-CrM7nIx2.png",sN="/assets/pic34-CUpsKD-P.jpg",oN="/assets/pic35-BRfJLi5A.png",aN="/assets/pic36-Rm3UCIpb.jpg",lN="/assets/pic37-C-EU8Tfz.png",uN="/assets/pic38-JTUyQZ9R.jpg",cN=[{id:1,src:Dk,alt:"Image 1"},{id:2,src:xk,alt:"Image 2"},{id:3,src:Vk,alt:"Image 3"},,{id:4,src:Lk,alt:"Image 4"},,{id:5,src:Ok,alt:"Image 5"},,{id:6,src:Mk,alt:"Image 6"},,{id:7,src:bk,alt:"Image 7"},,{id:8,src:Fk,alt:"Image 8"},,{id:9,src:Uk,alt:"Image 9"},,{id:10,src:jk,alt:"Image 10"},,{id:11,src:Bk,alt:"Image 11"},,{id:12,src:zk,alt:"Image 12"},{id:14,src:Wk,alt:"Image 14"},,{id:15,src:Hk,alt:"Image 15"},,{id:16,src:Kk,alt:"Image 16"},,{id:17,src:Gk,alt:"Image 17"},,{id:23,src:$k,alt:"Image 23"},,{id:24,src:Qk,alt:"Image 24"},,{id:25,src:Yk,alt:"Image 25"},,{id:26,src:Jk,alt:"Image 26"},,{id:27,src:Xk,alt:"Image 27"},,{id:28,src:Zk,alt:"Image 28"},,{id:29,src:eN,alt:"Image 29"},,{id:30,src:tN,alt:"Image 30"},,{id:31,src:nN,alt:"Image 31"},,{id:32,src:rN,alt:"Image 32"},,{id:33,src:iN,alt:"Image 33"},,{id:34,src:sN,alt:"Image 34"},,{id:35,src:oN,alt:"Image 35"},,{id:36,src:aN,alt:"Image 36"},,{id:37,src:lN,alt:"Image 37"},{id:38,src:uN,alt:"Image 38"},{id:13,src:qk,alt:"Image 13"}],hN=()=>{const n=gl(),[e,t]=z.useState(""),[i,o]=z.useState(""),[l,h]=z.useState(""),[f,p]=z.useState(""),[y,_]=z.useState(!1),{setUserData:I}=z.useContext(Ss),T=async P=>{P.preventDefault();try{!f&&!y&&Pe.error("Please select an avatar");const D=qt(Vt,"users",l);y?(p(y),console.log(y),console.log(i),console.log(l),await Mr(D,{avatar:y,bio:i,name:e}).then(x=>{console.log("A New Document Field has been added to an existing document")}).catch(x=>{console.log(x)})):await Mr(D,{bio:i,name:e});const M=await Ri(D);I(M.data()),n("/chat")}catch(D){console.log(D.code),Pe.error(D.message)}};return z.useEffect(()=>{y_(As,async P=>{if(P){h(P.uid);const D=qt(Vt,"users",P.uid),M=await Ri(D);M.data().name&&t(M.data().name),M.data().bio&&o(M.data().bio),M.data().avatar&&(p(M.data().avatar),_(M.data().avatar))}else n("/")})},[]),X.jsx("div",{className:"profile",children:X.jsxs("div",{className:"profile-container",children:[X.jsxs("form",{onSubmit:T,children:[X.jsx("h2",{children:"Profile Details"}),X.jsx("label",{htmlFor:"avatar",children:X.jsx("img",{src:y||qn.avatar_icon,alt:""})}),X.jsx("input",{type:"text",onChange:P=>{t(P.target.value)},value:e,placeholder:"Your name",required:!0}),X.jsx("textarea",{onChange:P=>{o(P.target.value)},value:i,placeholder:"Write profile bio",required:!0}),X.jsx("button",{type:"submit",children:"Save"})]}),X.jsxs("div",{className:"avatarList",children:[X.jsx("h3",{children:"Choose your avatar"}),X.jsx("div",{className:"profilePic",children:cN.map(P=>X.jsx("img",{onClick:()=>_(P.src),className:"avatar",src:P.src,alt:P.alt},P.id))})]})]})})},dN=()=>{const{loadUserData:n}=z.useContext(Ss),e=gl();return z.useEffect(()=>{y_(As,async t=>{t?(e("/chat"),await n(t.uid)):e("/")})},[]),X.jsxs(X.Fragment,{children:[X.jsx(fC,{}),X.jsxs(lT,{children:[X.jsx(tc,{exact:!0,path:"/",element:X.jsx(Sk,{})}),X.jsx(tc,{path:"/chat",element:X.jsx(Nk,{})}),X.jsx(tc,{path:"/profile",element:X.jsx(hN,{})})]})]})};vw.createRoot(document.getElementById("root")).render(X.jsx(xT,{children:X.jsx(Ck,{children:X.jsx(dN,{})})}));
